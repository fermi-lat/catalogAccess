<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>quantity.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>quantity.h</h1><a href="quantity_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00012 <span class="preprocessor">#ifndef catalogAccess_quant_h</span>
00013 <span class="preprocessor"></span><span class="preprocessor">#define catalogAccess_quant_h</span>
00014 <span class="preprocessor"></span>
00015 <span class="comment">// can compile without first three</span>
00016 <span class="comment">//#include &lt;exception&gt;</span>
00017 <span class="comment">//#include &lt;string&gt;</span>
00018 <span class="comment">//#include &lt;math.h&gt;      //for cos() sin () constant M_PI</span>
00019 <span class="preprocessor">#include &lt;limits&gt;</span>     <span class="comment">//for std::numeric_limits</span>
00020 <span class="preprocessor">#include &lt;iostream&gt;</span>   <span class="comment">//for cout, cerr</span>
00021 <span class="preprocessor">#include &lt;sstream&gt;</span>    <span class="comment">//for ostringstream </span>
00022 <span class="preprocessor">#include &lt;vector&gt;</span>
00023 
00024 <span class="comment">//#define DEBUG_CAT</span>
<a name="l00025"></a><a class="code" href="quantity_8h.html#a0">00025</a> <span class="preprocessor">#define NO_SEL_CUT  1.79E308    // just below maximum double on 8 bytes</span>
00026 <span class="preprocessor"></span><span class="comment">// could use Infinite function isinf() but is it compiling one every platform ?</span>
00027 <span class="keyword">namespace </span>catalogAccess {
00028 
00029 <span class="comment">/**********************************************************************/</span>
00030 <span class="comment">/*  GLOBAL DEFINITONS for catalogAccess                               */</span>
00031 <span class="comment">/**********************************************************************/</span>
00032 
00033 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> Min_Axis = 1./3600.; <span class="comment">// just below 0.00028 degree</span>
00034 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> Min_Prec = std::numeric_limits&lt;double&gt;::epsilon();
00035 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> NearZero = 10*std::numeric_limits&lt;double&gt;::min();
00036 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> Max_Test = std::numeric_limits&lt;unsigned long&gt;::max();
00037 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> Angle_Conv = M_PI/180.;
00038 
00039 <span class="keyword">enum</span> { <a class="code" href="namespacecatalog_access.html#a34a10">IS_OK</a> = 1, <a class="code" href="namespacecatalog_access.html#a34a11">IS_VOID</a> = 0,
00040       <a class="code" href="namespacecatalog_access.html#a34a12">IMPORT_BIS</a> = -1, <a class="code" href="namespacecatalog_access.html#a34a13">IMPORT_NEED</a> = -2, <a class="code" href="namespacecatalog_access.html#a34a14">BAD_CATNAME</a> = -3, <a class="code" href="namespacecatalog_access.html#a34a15">BAD_FILENAME</a> = -4,
00041      <a class="code" href="namespacecatalog_access.html#a34a16">BAD_FILETYPE</a> = -5, <a class="code" href="namespacecatalog_access.html#a34a17">BAD_FITS</a> = -6, <a class="code" href="namespacecatalog_access.html#a34a18">BAD_FILELINE</a> = -7, <a class="code" href="namespacecatalog_access.html#a34a19">BAD_URL</a> = -8,
00042     <a class="code" href="namespacecatalog_access.html#a34a20">NO_RA_DEC</a> = -9,
00043    <a class="code" href="namespacecatalog_access.html#a34a21">BAD_ROW</a> = -10, <a class="code" href="namespacecatalog_access.html#a34a22">BAD_QUANT_NAME</a> = -11, <a class="code" href="namespacecatalog_access.html#a34a23">BAD_QUANT_TYPE</a> = -12, <a class="code" href="namespacecatalog_access.html#a34a24">NO_QUANT_ERR</a>= -13,
00044   <a class="code" href="namespacecatalog_access.html#a34a25">BAD_RA</a> = -14, <a class="code" href="namespacecatalog_access.html#a34a26">BAD_DEC</a> = -15, <a class="code" href="namespacecatalog_access.html#a34a27">BAD_ROT</a> = -16, <a class="code" href="namespacecatalog_access.html#a34a28">BAD_AXIS</a> = -17,
00045  <a class="code" href="namespacecatalog_access.html#a34a29">BAD_SEL_LIM</a> = -20, <a class="code" href="namespacecatalog_access.html#a34a30">BAD_SEL_QUANT</a> = -21 };
00046 
00047 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="namespacecatalog_access.html#a4">verbosity</a>; <span class="comment">// global variable 0 (less) to 4 (more verbose)</span>
00048 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="namespacecatalog_access.html#a31">printErr</a>(<span class="keyword">const</span> std::string origin, <span class="keyword">const</span> std::string text);
00049 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="namespacecatalog_access.html#a32">printWarn</a>(<span class="keyword">const</span> std::string origin, <span class="keyword">const</span> std::string text);
00050 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="namespacecatalog_access.html#a33">printLog</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> level, <span class="keyword">const</span> std::string text);
00051 
<a name="l00062"></a><a class="code" href="classcatalog_access_1_1_quantity.html">00062</a> <span class="keyword">class </span><a class="code" href="classcatalog_access_1_1_quantity.html">Quantity</a> {
00063 
00064 <span class="keyword">public</span>:
00065 
<a name="l00066"></a><a class="code" href="classcatalog_access_1_1_quantity.html#s3">00066</a>   <span class="keyword">typedef</span> <span class="keyword">enum</span> {<a class="code" href="classcatalog_access_1_1_quantity.html#s3s0">NUM</a>=1, <a class="code" href="classcatalog_access_1_1_quantity.html#s3s1">STRING</a>=2, <a class="code" href="classcatalog_access_1_1_quantity.html#s3s2">VECTOR</a>=0} <a class="code" href="classcatalog_access_1_1_quantity.html#s3">QuantityType</a>;
00067 
<a name="l00068"></a><a class="code" href="classcatalog_access_1_1_quantity.html#a0">00068</a>   <a class="code" href="classcatalog_access_1_1_quantity.html#a0">Quantity</a>() {                  <span class="comment">// Default constructor</span>
00069  
00070     <a class="code" href="classcatalog_access_1_1_quantity.html#m4">m_type</a> =<a class="code" href="classcatalog_access_1_1_quantity.html#s3s2">VECTOR</a>;
00071     <a class="code" href="classcatalog_access_1_1_quantity.html#m6">m_index</a>=-1;
00072     <a class="code" href="classcatalog_access_1_1_quantity.html#m7">m_isGeneric</a>   =<span class="keyword">false</span>;
00073     <a class="code" href="classcatalog_access_1_1_quantity.html#m12">m_lowerCut</a>=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>; <a class="code" href="classcatalog_access_1_1_quantity.html#m13">m_upperCut</a>=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00074     <a class="code" href="classcatalog_access_1_1_quantity.html#m16">m_precision</a>   =10*Min_Prec;
00075     <a class="code" href="classcatalog_access_1_1_quantity.html#m17">m_rejectNaN</a>   =<span class="keyword">true</span>;
00076     <a class="code" href="classcatalog_access_1_1_quantity.html#m18">m_cutORed</a>     =<span class="keyword">false</span>;
00077     <a class="code" href="classcatalog_access_1_1_quantity.html#m15">m_excludeList</a> =<span class="keyword">false</span>;
00078   }
<a name="l00079"></a><a class="code" href="classcatalog_access_1_1_quantity.html#a1">00079</a>   <a class="code" href="classcatalog_access_1_1_quantity.html#a0">Quantity</a>(std::string name, std::string comm, std::string ucd,
00080            <a class="code" href="classcatalog_access_1_1_quantity.html#s3">QuantityType</a> type, std::string unit, <span class="keywordtype">int</span> index=-1,
00081            <span class="keywordtype">bool</span> gene=<span class="keyword">false</span>, <span class="keywordtype">double</span> low=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>, <span class="keywordtype">double</span> up=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) :
00082     <a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a>(name), <a class="code" href="classcatalog_access_1_1_quantity.html#m1">m_comment</a>(comm), <a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a>(ucd), <a class="code" href="classcatalog_access_1_1_quantity.html#m4">m_type</a>(type), <a class="code" href="classcatalog_access_1_1_quantity.html#m5">m_unit</a>(unit),
00083     <a class="code" href="classcatalog_access_1_1_quantity.html#m6">m_index</a>(index), <a class="code" href="classcatalog_access_1_1_quantity.html#m7">m_isGeneric</a>(gene), <a class="code" href="classcatalog_access_1_1_quantity.html#m12">m_lowerCut</a>(low), <a class="code" href="classcatalog_access_1_1_quantity.html#m13">m_upperCut</a>(up) {}
00084                                 <span class="comment">// Constructor with arguments</span>
00085   <a class="code" href="classcatalog_access_1_1_quantity.html#a2">~Quantity</a>();                  <span class="comment">// Destructor needed to free memory</span>
00086   <a class="code" href="classcatalog_access_1_1_quantity.html#a0">Quantity</a>(<span class="keyword">const</span> <a class="code" href="classcatalog_access_1_1_quantity.html#a0">Quantity</a> &amp; );  <span class="comment">// Copy constructor needed</span>
00087 
00088 <span class="comment">/**********************************************************************/</span>
<a name="l00089"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m0">00089</a>   std::string <a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a>;           <span class="comment">// The name of the quantity, e.g., "hr1"</span>
<a name="l00090"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m1">00090</a>   std::string <a class="code" href="classcatalog_access_1_1_quantity.html#m1">m_comment</a>;        <span class="comment">// e.g. " hardness ratio 1-3keV/3-6keV"</span>
<a name="l00091"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m2">00091</a>   std::string <a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a>;
00092       <span class="comment">// Unified contents descriptor (if available, "" otherwise)</span>
00093       <span class="comment">// follows either UCD1 standard or UCD1+ (still t.b.d.)</span>
<a name="l00094"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m3">00094</a>   std::string  <a class="code" href="classcatalog_access_1_1_quantity.html#m3">m_format</a>;        <span class="comment">// format used in CDS database</span>
<a name="l00095"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m4">00095</a>   <a class="code" href="classcatalog_access_1_1_quantity.html#s3">QuantityType</a> <a class="code" href="classcatalog_access_1_1_quantity.html#m4">m_type</a>;
<a name="l00096"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m5">00096</a>   std::string  <a class="code" href="classcatalog_access_1_1_quantity.html#m5">m_unit</a>;
00097       <span class="comment">// The unit description, "1" if dimensionless, "" if string</span>
<a name="l00098"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m6">00098</a>   <span class="keywordtype">int</span> <a class="code" href="classcatalog_access_1_1_quantity.html#m6">m_index</a>;
00099       <span class="comment">// Where to find the quantity in the m_strings or m_numericals</span>
00100       <span class="comment">// catalog members array</span>
<a name="l00101"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m7">00101</a>   <span class="keywordtype">bool</span> <a class="code" href="classcatalog_access_1_1_quantity.html#m7">m_isGeneric</a>;
00102       <span class="comment">// True if the quantity is part of the set of quantities</span>
00103       <span class="comment">// common to all catalogs</span>
<a name="l00104"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m8">00104</a>   std::string <a class="code" href="classcatalog_access_1_1_quantity.html#m8">m_statError</a>;
00105       <span class="comment">// For numerical quantities: the name of the quantity which contains</span>
00106       <span class="comment">// the statistical error of this quantity;</span>
00107       <span class="comment">// empty if unavailable or for strings</span>
<a name="l00108"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m9">00108</a>   std::string <a class="code" href="classcatalog_access_1_1_quantity.html#m9">m_sysError</a>;
00109       <span class="comment">// For numerical quantities: the name of the quantity which contains</span>
00110       <span class="comment">// the systematic error of this quantity;</span>
00111       <span class="comment">// empty if unavailable or for strings</span>
<a name="l00112"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m10">00112</a>   std::vector&lt;std::string&gt; <a class="code" href="classcatalog_access_1_1_quantity.html#m10">m_vectorQs</a>;
00113       <span class="comment">// If type == VECTOR, this vector of strings contains the ordered list</span>
00114       <span class="comment">// of quantity names which constitute the vector elements.</span>
00115       <span class="comment">// All vector elements have to be numerical quantities.</span>
00116       <span class="comment">// If type!=VECTOR, vectorQs is empty.</span>
00117 
00118 
00119   <span class="comment">// selection criteria</span>
00120   <span class="comment">//-------------------</span>
00121 
<a name="l00122"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m11">00122</a>   std::vector&lt;std::string&gt; <a class="code" href="classcatalog_access_1_1_quantity.html#m11">m_listValS</a>;
00123       <span class="comment">// for numerical: undefined; default: empty</span>
00124       <span class="comment">// for string   : stores the list of values to be tested</span>
<a name="l00125"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m12">00125</a>   <span class="keywordtype">double</span> <a class="code" href="classcatalog_access_1_1_quantity.html#m12">m_lowerCut</a>;  
00126       <span class="comment">// for string   : undefined; default == NO_SEL_CUT</span>
00127       <span class="comment">// for numerical: stores the minimum value neccessary for row inclusion</span>
<a name="l00128"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m13">00128</a>   <span class="keywordtype">double</span> <a class="code" href="classcatalog_access_1_1_quantity.html#m13">m_upperCut</a>;
00129       <span class="comment">// for string   : undefined; default == NO_SEL_CUT</span>
00130       <span class="comment">// for numerical: stores the maximum value necessary for row inclusion</span>
<a name="l00131"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m14">00131</a>   std::vector&lt;double&gt; <a class="code" href="classcatalog_access_1_1_quantity.html#m14">m_listValN</a>;
00132      <span class="comment">// for string   : undefined; default: empty</span>
00133      <span class="comment">// for numerical: stores the list of values to be tested</span>
00134 
<a name="l00135"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m15">00135</a>   <span class="keywordtype">bool</span>   <a class="code" href="classcatalog_access_1_1_quantity.html#m15">m_excludeList</a>;<span class="comment">// if false the values in the list lead to row inclusion</span>
<a name="l00136"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m16">00136</a>   <span class="keywordtype">double</span> <a class="code" href="classcatalog_access_1_1_quantity.html#m16">m_precision</a>;  <span class="comment">// test for equality used for m_excludedN, listValN</span>
<a name="l00137"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m17">00137</a>   <span class="keywordtype">bool</span>   <a class="code" href="classcatalog_access_1_1_quantity.html#m17">m_rejectNaN</a>;  <span class="comment">// if true the NaN values are not selected</span>
<a name="l00138"></a><a class="code" href="classcatalog_access_1_1_quantity.html#m18">00138</a>   <span class="keywordtype">bool</span>   <a class="code" href="classcatalog_access_1_1_quantity.html#m18">m_cutORed</a>;
00139       <span class="comment">// set false by useOnlyN (default): numerical cut AND list</span>
00140       <span class="comment">// set true by includeN: numerical cut OR list</span>
00141 
00142 }; <span class="comment">// end class definition </span>
00143 
00144 
00145 <span class="comment">/**********************************************************************/</span>
00146 <span class="comment">/*  DEFINING inline FUNCTION MEMBERS                                  */</span>
00147 <span class="comment">/**********************************************************************/</span>
00148 
00149 <span class="comment">// Destructor needed to free memory</span>
<a name="l00150"></a><a class="code" href="classcatalog_access_1_1_quantity.html#a2">00150</a> <span class="keyword">inline</span> Quantity::~Quantity() {
00151 
00152 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00153 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Quantity destructor on: "</span>
00154             &lt;&lt; <a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a> &lt;&lt;<span class="stringliteral">" (ucd="</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a> &lt;&lt;<span class="stringliteral">")"</span>&lt;&lt; std::endl;
00155 <span class="preprocessor">  #endif</span>
00156 <span class="preprocessor"></span>  <a class="code" href="classcatalog_access_1_1_quantity.html#m10">m_vectorQs</a>.clear();
00157   <a class="code" href="classcatalog_access_1_1_quantity.html#m11">m_listValS</a>.clear();
00158   <a class="code" href="classcatalog_access_1_1_quantity.html#m14">m_listValN</a>.clear();
00159 }
00160 
00161 } <span class="comment">// namespace catalogAccess</span>
00162 <span class="preprocessor">#endif // catalogAccess_quant_h</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Jun 10 14:51:23 2005 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
