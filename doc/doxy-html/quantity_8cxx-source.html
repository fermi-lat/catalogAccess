<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>quantity.cxx Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>quantity.cxx</h1><a href="quantity_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00013 <span class="preprocessor">#include "<a class="code" href="quantity_8h.html">quantity.h</a>"</span>
00014 
00015 <span class="keyword">namespace </span>catalogAccess {
00016 
00017 <span class="comment">/**********************************************************************/</span>
00018 <span class="comment">/*  GLOBAL FUNCTION for catalogAccess                                 */</span>
00019 <span class="comment">/**********************************************************************/</span>
<a name="l00020"></a><a class="code" href="namespacecatalog_access.html#a5">00020</a> <span class="keywordtype">int</span> <a class="code" href="namespacecatalog_access.html#a5">verbosity</a>;
00021 
<a name="l00022"></a><a class="code" href="namespacecatalog_access.html#a32">00022</a> <span class="keywordtype">void</span> <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="keyword">const</span> std::string origin, <span class="keyword">const</span> std::string text) {
00023   std::cerr &lt;&lt; <span class="stringliteral">"ERROR catalogAccess (IN "</span> &lt;&lt; origin &lt;&lt; <span class="stringliteral">") "</span>
00024             &lt;&lt; text &lt;&lt; std::endl;
00025 }
<a name="l00026"></a><a class="code" href="namespacecatalog_access.html#a33">00026</a> <span class="keywordtype">void</span> <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="keyword">const</span> std::string origin, <span class="keyword">const</span> std::string text) {
00027   <span class="keywordflow">if</span> (<a class="code" href="namespacecatalog_access.html#a5">verbosity</a> &gt; 0)
00028   std::cerr &lt;&lt; <span class="stringliteral">"WARNING catalogAccess (IN "</span> &lt;&lt; origin &lt;&lt; <span class="stringliteral">"): "</span>
00029             &lt;&lt; text &lt;&lt; std::endl;
00030 }
<a name="l00031"></a><a class="code" href="namespacecatalog_access.html#a34">00031</a> <span class="keywordtype">void</span> <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> level, <span class="keyword">const</span> std::string text) {
00032   <span class="keywordflow">if</span> (<a class="code" href="namespacecatalog_access.html#a5">verbosity</a>+level &gt;= 4)
00033   std::cout &lt;&lt; <span class="stringliteral">"LOG_"</span> &lt;&lt; (int)level &lt;&lt; <span class="stringliteral">" (catalogAccess): "</span>
00034             &lt;&lt; text &lt;&lt; std::endl;
00035 }
00036 
00037 <span class="comment">/**********************************************************************/</span>
00038 <span class="comment">// Copy constructor needed to allocate arrays in copy</span>
<a name="l00039"></a><a class="code" href="classcatalog_access_1_1_quantity.html#a3">00039</a> Quantity::Quantity(<span class="keyword">const</span> <a class="code" href="classcatalog_access_1_1_quantity.html">Quantity</a> &amp; q) {
00040 
00041 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00042 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Quantity COPY constructor on: "</span>
00043             &lt;&lt; q.<a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a> &lt;&lt;<span class="stringliteral">" (ucd="</span>&lt;&lt; q.<a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a> &lt;&lt;<span class="stringliteral">")"</span>&lt;&lt; std::endl;
00044 <span class="preprocessor">  #endif</span>
00045 <span class="preprocessor"></span><span class="comment">//try {</span>
00046   <a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a>   =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a>;
00047   <a class="code" href="classcatalog_access_1_1_quantity.html#m1">m_comment</a>=q.<a class="code" href="classcatalog_access_1_1_quantity.html#m1">m_comment</a>;
00048   <a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a>    =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a>;
00049   <a class="code" href="classcatalog_access_1_1_quantity.html#m3">m_format</a> =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m3">m_format</a>;
00050   <a class="code" href="classcatalog_access_1_1_quantity.html#m4">m_type</a>   =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m4">m_type</a>;
00051   <a class="code" href="classcatalog_access_1_1_quantity.html#m5">m_unit</a>   =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m5">m_unit</a>;
00052   <a class="code" href="classcatalog_access_1_1_quantity.html#m6">m_index</a>  =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m6">m_index</a>;
00053   <a class="code" href="classcatalog_access_1_1_quantity.html#m7">m_isGeneric</a> =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m7">m_isGeneric</a>;
00054   <a class="code" href="classcatalog_access_1_1_quantity.html#m8">m_statError</a> =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m8">m_statError</a>;
00055   <a class="code" href="classcatalog_access_1_1_quantity.html#m9">m_sysError</a>  =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m9">m_sysError</a>;
00056   <span class="keywordtype">int</span> vecSize, i;
00057   std::string errText;
00058   <span class="keywordflow">try</span> {
00059     vecSize=q.<a class="code" href="classcatalog_access_1_1_quantity.html#m10">m_vectorQs</a>.size();
00060     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_quantity.html#m10">m_vectorQs</a>.push_back(q.<a class="code" href="classcatalog_access_1_1_quantity.html#m10">m_vectorQs</a>.at(i));
00061   }
00062   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00063     errText=std::string(<span class="stringliteral">"EXCEPTION on m_vectorQs[]: "</span>)+err.what();
00064     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Quantity copy constructor"</span>, errText);
00065     <span class="keywordflow">throw</span>;
00066   }
00067   <span class="comment">// selection criteria</span>
00068   <a class="code" href="classcatalog_access_1_1_quantity.html#m12">m_lowerCut</a>    =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m12">m_lowerCut</a>;
00069   <a class="code" href="classcatalog_access_1_1_quantity.html#m13">m_upperCut</a>    =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m13">m_upperCut</a>;
00070   <a class="code" href="classcatalog_access_1_1_quantity.html#m16">m_precision</a>   =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m16">m_precision</a>;
00071   <a class="code" href="classcatalog_access_1_1_quantity.html#m17">m_rejectNaN</a>   =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m17">m_rejectNaN</a>;
00072   <a class="code" href="classcatalog_access_1_1_quantity.html#m18">m_cutORed</a>     =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m18">m_cutORed</a>;
00073   <a class="code" href="classcatalog_access_1_1_quantity.html#m15">m_excludeList</a> =q.<a class="code" href="classcatalog_access_1_1_quantity.html#m15">m_excludeList</a>;
00074   <span class="keywordflow">try</span> {
00075     vecSize=q.<a class="code" href="classcatalog_access_1_1_quantity.html#m11">m_listValS</a>.size();
00076     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_quantity.html#m11">m_listValS</a>.push_back(q.<a class="code" href="classcatalog_access_1_1_quantity.html#m11">m_listValS</a>.at(i));
00077     vecSize=q.<a class="code" href="classcatalog_access_1_1_quantity.html#m14">m_listValN</a>.size();
00078     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_quantity.html#m14">m_listValN</a>.push_back(q.<a class="code" href="classcatalog_access_1_1_quantity.html#m14">m_listValN</a>.at(i));
00079   }
00080   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00081     errText=std::string(<span class="stringliteral">"EXCEPTION on selection list: "</span>)+err.what();
00082     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Quantity copy constructor"</span>, errText);
00083     <span class="keywordflow">throw</span>;
00084   }
00085 <span class="comment">/* line is commented on purpose to TEMINATE the program on EXCEPTION */</span>
00086 <span class="comment">//} catch (...) { printErr("copy constructor", ""); }</span>
00087 }
00088 
00089 
00090 } <span class="comment">// namespace catalogAccess</span>
</pre></div><hr><address style="align: right;"><small>Generated on Mon Jun 20 15:18:15 2005 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
