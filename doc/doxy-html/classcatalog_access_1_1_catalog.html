<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>catalogAccess: catalogAccess::Catalog class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>catalogAccess::Catalog Class Reference</h1>Provide methods to define a catalog and access its data. Only inline methods (default constructor, the destructor and 6 private checking methods) are implemented here.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="catalog_8h-source.html">catalog.h</a>&gt;</code>
<p>
<a href="classcatalog_access_1_1_catalog-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a0">Catalog</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a1">~Catalog</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a2">Catalog</a> (const <a class="el" href="classcatalog_access_1_1_catalog.html">Catalog</a> &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a3">getMaxNumRows</a> (long *nrows, const std::string &amp;fileName, const std::string ext="1")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a4">getMaxNumRowsWeb</a> (long *nrows, const std::string catName, const std::string urlCode="cds")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a> (const long numRows=44000, const bool writeLog=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a> (const std::string &amp;fileName, const std::string ext="1")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a> (const std::string catName, const std::string urlCode="cds", const std::string &amp;fileName="")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a8">import</a> (const std::string &amp;fileName, const long maxRows=0, const std::string ext="1")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a> (const std::string catName, const std::string urlCode="cds", const long maxRow=44000, const std::string &amp;fileName="")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a> (std::string &amp;filter)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a11">saveText</a> (const std::string &amp;fileName, bool clobber=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a12">saveSelectedText</a> (const std::string &amp;fileName, bool clobber=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber=false, bool append=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a14">saveSelectedFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber=false, bool append=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a> (std::vector&lt; std::string &gt; *titles)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a> (std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt; *myQuantities)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a> (std::vector&lt; std::string &gt; *names)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a18">getQuantityUnits</a> (std::vector&lt; std::string &gt; *units)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a19">getQuantityUCDs</a> (std::vector&lt; std::string &gt; *ucds)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a20">getQuantityTypes</a> (std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html#w3">Quantity::QuantityType</a> &gt; *types)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a21">getStatErrorName</a> (const std::string name, std::string *statErrName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a22">getSysErrorName</a> (const std::string name, std::string *sysErrName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a> (long *nrows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a> (const std::string name, const long row, std::string *stringVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a> (const std::string name, const long row, double *realVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a27">getStatError</a> (const std::string name, const long row, double *realValStat)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a28">getSysError</a> (const std::string name, const long row, double *realValSys)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a> (const std::string name, std::vector&lt; std::string &gt; *values)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a30">minVal</a> (const std::string name, double *realVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a> (const std::string name, double *realVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a> (long *nrows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a33">getSelSValue</a> (const std::string name, const long srow, std::string *stringVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a34">getSelNValue</a> (const std::string name, const long srow, double *realVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a35">getSelStatError</a> (const std::string name, const long srow, double *realValStat)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a36">getSelSysError</a> (const std::string name, const long srow, double *realValSys)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a> (const std::string name, std::vector&lt; std::string &gt; *values)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a> (const std::string name, double *realVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a> (const std::string name, double *realVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a40">ra_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a41">dec_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a42">posError_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a43">getNameRA</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a44">getNameDEC</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a45">getNamePosErr</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a46">getNameL</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a47">getNameB</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a48">getNameObjName</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a49">selectQuantity</a> (const std::string name, const bool toBeLoaded)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a50">selectAllQuantities</a> (const bool toBeLoaded)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a> (const std::string name)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a52">unsetCuts</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a53">setCriteriaORed</a> (const bool bitOR=true)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a> (const double centRA_deg, const double centDEC_deg, const double majAxis_deg, const double minAxis_deg, const double rot_deg=0.)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a55">unsetSelEllipse</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a> (const std::string name, double cutVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a> (const std::string name, double cutVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a> (const std::string name, const std::vector&lt; std::string &gt; &amp;slist, const bool exact=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a> (const std::string name, const std::vector&lt; std::string &gt; &amp;slist, const bool exact=false)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a62">includeN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a> (const std::string name, const bool rejectNaN)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a64">setMatchPercent</a> (const std::string name, double percent)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a65">setMatchEpsilon</a> (const std::string name, const unsigned long step)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a66">checkValWithinCut</a> (const std::string name, const double value, bool *cutLow, bool *cutUp, int *checkResult)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a> ()</td></tr>

<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#e0">getCatList</a> (std::vector&lt; std::string &gt; *names, const bool isCode=true)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#e1">getWebList</a> (std::vector&lt; std::string &gt; *names, const bool isCode=true)</td></tr>

<tr><td colspan=2><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d0">deleteDescription</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d1">deleteQuantities</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a> (std::vector&lt; bool &gt; *quantSel)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d3">checkRegion</a> (const long row, const int nRA, const int nDEC)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a> (const double r, const int index, const bool miss, const bool reject, const double precis)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a> (const double r, const int index, const bool reject, const double precis)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a> (const long row, const std::vector&lt; bool &gt; &amp;quantSel)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d7">unsetCuts</a> (const int index)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d8">doSelS</a> (const std::string name, const int index, const int code, const std::vector&lt; std::string &gt; &amp;list, const bool exact)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d9">doSelN</a> (const std::string name, const int index, const int code, const std::vector&lt; double &gt; &amp;listVal)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d10">setPosErrFactor</a> (const int index)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d11">setGeneric</a> (const int whichCat)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d12">create_tables</a> (const int nbQuantAscii, const long maxRows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d13">add_rows</a> (const long maxRows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d14">translate_cell</a> (std::string mot, const int index)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d15">analyze_fits</a> (const tip::Table *myDOL, const bool getDescr, const std::string origin, long *maxRows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d16">analyze_head</a> (unsigned long *tot, int *what, bool *testCR, std::fstream *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d17">analyze_body</a> (unsigned long *tot, int *what, const bool testCR, const bool getDescr, std::fstream *, long *maxRows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d18">load</a> (const std::string &amp;fileName, const std::string ext, const bool getDescr, long *maxRows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d19">loadWeb</a> (const std::string catName, const std::string urlCode, const std::string &amp;fileName, const long maxRow)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d20">loadSelectFits</a> (const std::string &amp;fileName, const std::string ext, long *maxRows, std::string &amp;filter)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d21">loadSelected</a> (unsigned long *tot, std::fstream *, long *maxRows)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d22">createText</a> (const std::string &amp;fileName, bool clobber, const std::string origin)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d23">createFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber, bool append, const std::string origin, tip::Table **ptrTable)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a> (const std::string origin, const bool isDone)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d25">checkCatName</a> (const std::string origin, const std::string catName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a> (const std::string origin, const long row)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a> (const std::string origin, const std::string name)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a> (const std::string origin, const long srow)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a> (const int index, int *k)</td></tr>

<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r0">m_code</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r7">m_filePos</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r8">m_posErrSys</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; bool &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 std::string &gt; &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 double &gt; &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 unsigned long &gt; &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r17">m_selection</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r20">m_selEllipseCentRA_deg</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r21">m_selEllipseCentDEC_deg</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r22">m_selEllipseMinAxis_deg</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r23">m_selEllipseMajAxis_deg</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r24">m_selEllipseRot_deg</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; double &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a></td></tr>

<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#v0">s_CatalogURL</a> [MAX_URL]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#v1">s_CatalogList</a> [2 *MAX_CAT]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#v2">s_CatalogGeneric</a> [MAX_CAT][MAX_GEN]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#v3">s_genericL</a> = UCD_List[4]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#v4">s_genericB</a> = UCD_List[5]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provide methods to define a catalog and access its data. Only inline methods (default constructor, the destructor and 6 private checking methods) are implemented here. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>A. Sauvageon</dd></dl>
$Header $ 
<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00045">45</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="catalogAccess::Catalog::Catalog" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::Catalog           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00547">547</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00382">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00020">catalogAccess::verbosity</a>.
<p>
<pre class="fragment"><div>00547                         {
00548 
00549   <a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a>=<span class="stringliteral">""</span>;
00550   <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> =<span class="stringliteral">""</span>;
00551   <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>   =<span class="stringliteral">""</span>;
00552   <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>    =<span class="stringliteral">""</span>;
00553   <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a> =<span class="stringliteral">""</span>;
00554   <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>  =<span class="stringliteral">""</span>;
00555   <a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>  =<span class="stringliteral">""</span>;
00556   <a class="code" href="classcatalog_access_1_1_catalog.html#r7">m_filePos</a>   =0;
00557   <a class="code" href="classcatalog_access_1_1_catalog.html#r8">m_posErrSys</a> = -1.0;
00558   <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=1.0;  <span class="comment">// "deg" by default</span>
00559 
00560   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>   =<a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00561   <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=0;
00562   <a class="code" href="classcatalog_access_1_1_catalog.html#r17">m_selection</a> =<span class="stringliteral">""</span>;
00563   <a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>=<span class="keyword">false</span>;
00564   <a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a> =<span class="keyword">false</span>;
00565   <span class="comment">// following four data members needed for efficient selection</span>
00566   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00567   <a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>= -1;
00568   <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> = -1;
00569   <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>= -1;
00570   <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.assign(7, 0.0); }
00571   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00572     std::string errText;
00573     errText=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse: "</span>)+err.what();
00574     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog constructor"</span>, errText);
00575     <span class="keywordflow">throw</span>;
00576   }
00577   <a class="code" href="namespacecatalog_access.html#a6">verbosity</a>=3;
00578 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00579 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog constructor (sizes="</span> &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()
00580             &lt;&lt;<span class="stringliteral">","</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size() &lt;&lt;<span class="stringliteral">","</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size() &lt;&lt;<span class="stringliteral">","</span>
00581             &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size() &lt;&lt;<span class="stringliteral">", m_selEllipse "</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.size()
00582             &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00583 <span class="preprocessor">  #endif</span>
00584 <span class="preprocessor"></span>}
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="catalogAccess::Catalog::~Catalog" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::~<a class="el" href="classcatalog_access_1_1_catalog.html">Catalog</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00588">588</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>.
<p>
<pre class="fragment"><div>00588                          {
00589 
00590 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00591 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog destructor on: "</span>
00592             &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a> &lt;&lt; std::endl;
00593 <span class="preprocessor">  #endif</span>
00594 <span class="preprocessor"></span>  <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00595   <a class="code" href="classcatalog_access_1_1_catalog.html#d0">deleteDescription</a>();
00596 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="catalogAccess::Catalog::Catalog" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::Catalog           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classcatalog_access_1_1_catalog.html">Catalog</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00194">194</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00382">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00424">m_selEllipseCentRA_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00428">m_selEllipseMinAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00432">m_selEllipseRot_deg</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
<pre class="fragment"><div>00194                                       {
00195 
00196 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00197 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog COPY constructor on: "</span>
00198             &lt;&lt; myCat.m_tableName &lt;&lt; std::endl;
00199 <span class="preprocessor">  #endif  </span>
00200 <span class="preprocessor"></span>  std::string errText;
00201   <span class="comment">// copying values</span>
00202   <a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a>=myCat.m_code;
00203   <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> =myCat.m_URL;
00204   <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>   =myCat.m_catName;
00205   <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>    =myCat.m_catRef;
00206   <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a> =myCat.m_tableName;
00207   <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>  =myCat.m_tableRef;
00208 
00209   <a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>   =myCat.m_filename;
00210   <a class="code" href="classcatalog_access_1_1_catalog.html#r7">m_filePos</a>    =myCat.m_filePos;
00211   <a class="code" href="classcatalog_access_1_1_catalog.html#r8">m_posErrSys</a>=myCat.m_posErrSys;
00212   <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=myCat.m_posErrFactor;
00213 
00214   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>   =myCat.m_numRows;
00215   <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=myCat.m_numOriRows;
00216   <a class="code" href="classcatalog_access_1_1_catalog.html#r17">m_selection</a> =myCat.m_selection;
00217   <a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>=myCat.m_criteriaORed;
00218   <span class="comment">// following three data members needed for efficient selection</span>
00219   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=myCat.m_numSelRows;
00220   <a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>  =myCat.m_indexErr;
00221   <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>   =myCat.m_indexRA;
00222   <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>  =myCat.m_indexDEC;
00223 
00224   <span class="comment">// copying elliptical region definition</span>
00225   <a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>=myCat.m_selRegion;
00226   <a class="code" href="classcatalog_access_1_1_catalog.html#r20">m_selEllipseCentRA_deg</a> =myCat.m_selEllipseCentRA_deg;
00227   <a class="code" href="classcatalog_access_1_1_catalog.html#r21">m_selEllipseCentDEC_deg</a>=myCat.m_selEllipseCentDEC_deg;
00228   <a class="code" href="classcatalog_access_1_1_catalog.html#r22">m_selEllipseMinAxis_deg</a>=myCat.m_selEllipseMinAxis_deg;
00229   <a class="code" href="classcatalog_access_1_1_catalog.html#r23">m_selEllipseMajAxis_deg</a>=myCat.m_selEllipseMajAxis_deg;
00230   <a class="code" href="classcatalog_access_1_1_catalog.html#r24">m_selEllipseRot_deg</a>=myCat.m_selEllipseRot_deg;
00231 
00232   <span class="comment">// copying vectors</span>
00233 <span class="comment">//try {</span>
00234   <span class="keywordtype">long</span> i;
00235   <span class="keywordtype">int</span> vecSize, j;
00236   <span class="comment">// following data member m_selEllipse[] needed for efficient selection</span>
00237   <span class="keywordflow">try</span> {
00238     vecSize=myCat.m_selEllipse.size(); <span class="comment">// size is only 7</span>
00239     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.push_back(myCat.m_selEllipse.at(j));
00240   }
00241   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00242     errText=std::string(<span class="stringliteral">"EXCEPTION on m_selEllipse[]: "</span>)+err.what();
00243     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00244     <span class="keywordflow">throw</span>;
00245   }
00246   <span class="comment">// following data member m_loadQuantity[] needed for importSelected()</span>
00247   <span class="keywordflow">try</span> {
00248     vecSize=myCat.m_loadQuantity.size();
00249     <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.reserve(vecSize);  <span class="comment">// pre-allocate the memory </span>
00250     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)
00251       <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.push_back(myCat.m_loadQuantity.at(j));
00252   }
00253   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00254     errText=std::string(<span class="stringliteral">"EXCEPTION on m_loadQuantity[]: "</span>)+err.what();
00255     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00256     <span class="keywordflow">throw</span>;
00257   }
00258   <span class="keywordflow">try</span> {
00259     std::vector&lt;Quantity&gt;::const_iterator itQ;
00260     <span class="keywordflow">for</span> (itQ=myCat.m_quantities.begin(); itQ!=myCat.m_quantities.end(); itQ++)
00261       <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.push_back(*itQ);
00262   }
00263   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00264     errText=std::string(<span class="stringliteral">"EXCEPTION on m_quantities[]: "</span>)+err.what();
00265     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00266     <span class="keywordflow">throw</span>;
00267   }
00268   <span class="comment">// suppose that each column has same number of rows</span>
00269   vecSize=myCat.m_rowIsSelected.size();
00270   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00271     <span class="keywordflow">try</span> {
00272       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.resize(vecSize);
00273       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00274         <span class="comment">// pre-allocate the memory for each vector</span>
00275         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].reserve(m_numRows);
00276         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++)
00277           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].push_back(myCat.m_rowIsSelected[j].at(i));
00278       }
00279     }
00280     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00281       errText=std::string(<span class="stringliteral">"EXCEPTION on m_rowIsSelected[][]: "</span>)+err.what();
00282       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00283       <span class="keywordflow">throw</span>;
00284     }
00285   }
00286   vecSize=myCat.m_strings.size();
00287   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00288     <span class="keywordflow">try</span> {
00289       <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.resize(vecSize);
00290       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00291         <span class="comment">// pre-allocate the memory for each vector</span>
00292         <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].reserve(m_numRows);
00293         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++)
00294           <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].push_back(myCat.m_strings[j].at(i));
00295       }
00296     }
00297     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00298       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings[][]: "</span>)+err.what();
00299       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00300       <span class="keywordflow">throw</span>;
00301     }
00302   }
00303   vecSize=myCat.m_numericals.size();
00304   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00305     <span class="keywordflow">try</span> {
00306       <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.resize(vecSize);
00307       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00308         <span class="comment">// pre-allocate the memory for each vector</span>
00309         <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].reserve(m_numRows);
00310         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++)
00311           <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].push_back(myCat.m_numericals[j].at(i));
00312       }
00313     }
00314     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00315       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals[][]: "</span>)+err.what();
00316       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00317       <span class="keywordflow">throw</span>;
00318     }
00319   }
00320 <span class="comment">/* line is commented on purpose to TEMINATE the program on EXCEPTION */</span>
00321 <span class="comment">//} catch (...) { printErr("Catalog copy constructor", ""); }</span>
00322 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d13" doxytag="catalogAccess::Catalog::add_rows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::add_rows           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>maxRows</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00257">257</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>.
<p>
<pre class="fragment"><div>00257                                          {
00258 
00259   <span class="keywordtype">int</span> i, vecSize;
00260   std::string errText;
00261 <span class="comment">// printf("!! %ld / %ld \n", m_numRows, maxRows);</span>
00262   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size();
00263   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00264     <span class="keywordflow">try</span> {
00265       <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00266         <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[i].resize(maxRows);
00267 <span class="comment">//        for (j=0; j&lt;maxRows; j++) m_strings[i].at(j).resize(20);</span>
00268       }
00269     }
00270     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00271       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings: "</span>)+err.what();
00272       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private add_rows"</span>, errText);
00273       <span class="keywordflow">throw</span>;
00274     }
00275   }
00276   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size();
00277   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00278     <span class="keywordflow">try</span> {
00279       <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].resize(maxRows);
00280     }
00281     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00282       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals: "</span>)+err.what();
00283       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private add_rows"</span>, errText);
00284       <span class="keywordflow">throw</span>;
00285     }
00286   } 
00287 
00288 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d17" doxytag="catalogAccess::Catalog::analyze_body" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_body           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>tot</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>what</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>testCR</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::fstream *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00258">258</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a21">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_comment</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00092">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="catalog_8h-source.html#l00030">MAX_LINE</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00018">translate_cell()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>.
<p>
<pre class="fragment"><div>00259                                                                             {
00260 
00261   std::string  origin, text, mot;
00262   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00263   <span class="keywordtype">char</span> sep=<span class="charliteral">';'</span>,
00264        line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00265   std::ostringstream sortie;
00266   <span class="keywordtype">bool</span> foundColumn=<span class="keyword">false</span>,
00267        lineSkipped=<span class="keyword">false</span>;
00268   <span class="keywordtype">int</span>  i, last, err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>,
00269        found=0,
00270        nbQuantAscii=0,
00271        maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1; <span class="comment">// to avoid computation each line</span>
00272   int (*pfunc)(<span class="keywordtype">int</span>)=toupper; <span class="comment">// function used by transform</span>
00273 
00274   <span class="keywordflow">if</span> (getDescr) origin=<span class="stringliteral">"importDescription"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"import"</span>;
00275   <span class="keywordflow">while</span> ( myFile-&gt;good() ) {
00276 
00277     <span class="comment">// extract line with delimiter \n which is discarded</span>
00278     myFile-&gt;getline(line, MAX_LINE);
00279     (*tot)++;
00280     <span class="keywordflow">switch</span> (found) {
00281     <span class="keywordflow">case</span> 0:
00282       mot=<span class="stringliteral">"#Column"</span>;
00283       text=line; <span class="comment">/* convert C string to C++ string */</span>
00284       pos=text.find(mot);
00285       <span class="keywordflow">if</span> (pos == 0) {
00286         Quantity readQ;
00287         foundColumn=<span class="keyword">true</span>;
00288       <span class="keywordflow">do</span> {
00289         <span class="comment">// column NAME, FORMAT, DESCR, UCD separated by only 1 TAB</span>
00290         last=text.length();
00291         <span class="keywordflow">for</span> (i=mot.length(); i&lt;last; i++) {
00292           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00293         }
00294         <span class="keywordflow">if</span> (i == last) <span class="keywordflow">break</span>; <span class="comment">//no NAME found</span>
00295         mot=text.substr(i, last-i);
00296         pos=mot.find(0x09);
00297         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack end of data</span>
00298 
00299         readQ.m_name=mot.substr(0, pos);
00300         text=mot;
00301         text.erase(0, pos+1);
00302         pos=text.find(0x09);
00303         <span class="keywordflow">if</span> ((pos == std::string::npos) || (pos &lt; 3)) <span class="keywordflow">break</span>;
00304 
00305         readQ.m_format=text.substr(1, pos-2); <span class="comment">// disregard ( ) </span>
00306         text.erase(0, pos+1);
00307         last=text.length();
00308         <span class="keywordflow">for</span> (i=0; i&lt;last; i++) {
00309           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00310         }
00311         <span class="keywordflow">if</span> (i == last) <span class="keywordflow">break</span>; <span class="comment">// no DESCR found</span>
00312         mot=text.substr(i, last-i);
00313         pos=mot.find(0x09);
00314         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack end of data</span>
00315  
00316         text=mot;
00317         text.erase(0, pos+1);
00318         <span class="comment">// remove trailing blanks</span>
00319         <span class="keywordflow">do</span> pos--; <span class="keywordflow">while</span> (mot[pos] == <span class="charliteral">' '</span>);
00320         readQ.m_comment=mot.substr(0, pos+1);
00321         mot=<span class="stringliteral">"[ucd="</span>;
00322         pos=text.find(mot);
00323         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack end of data</span>
00324         text.erase(0, mot.length());
00325         pos=text.find(<span class="charliteral">']'</span>);
00326         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack last ]</span>
00327 
00328         mot=text.substr(0, pos);
00329         std::transform(mot.begin(), mot.end(), mot.begin(), pfunc);
00330         readQ.m_ucd=mot;
00331         <span class="keywordflow">if</span> (readQ.m_format[0] == <span class="charliteral">'A'</span>) {
00332           readQ.m_index=nbQuantAscii;
00333           nbQuantAscii++;
00334           readQ.m_type=Quantity::STRING;
00335         }
00336         <span class="keywordflow">else</span> {
00337           readQ.m_index=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()-nbQuantAscii;
00338           readQ.m_type=Quantity::NUM;
00339         }
00340         <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.push_back(readQ); }
00341         <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00342           text=std::string(<span class="stringliteral">"EXCEPTION filling m_quantities: "</span>)+prob.what();
00343           <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00344           <span class="keywordflow">throw</span>;
00345         }
00346       }<span class="keywordflow">while</span>(0);
00347         <span class="keywordflow">if</span> (readQ.m_type == Quantity::VECTOR) {
00348           sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" wrong column description"</span>;
00349           <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00350           sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00351           <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.clear();
00352           found++; <span class="keywordflow">break</span>; <span class="comment">// to stop reading file</span>
00353         }
00354       }
00355       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (foundColumn) found++;
00356       <span class="comment">// skip lines before #Column (foundColumn is false);</span>
00357       <span class="comment">// then: at least one line without any information</span>
00358       <span class="keywordflow">break</span>;
00359 
00360     <span class="keywordflow">case</span> 1:
00361       <span class="comment">// If lines are separated by  ;  ==&gt; CSV (what unchanged)</span>
00362       <span class="comment">// If lines are separated by TAB ==&gt; TSV (what * -1)</span>
00363       <span class="comment">// Check that first word match first quantity,</span>
00364       <span class="comment">// if not: considered as separation line and loop on case 1.</span>
00365       text=line; <span class="comment">/* convert C string to C++ string */</span>
00366       pos=text.find(sep);
00367       <span class="keywordflow">if</span> (pos != std::string::npos) {
00368         mot=text.substr(0, pos);
00369         <span class="keywordflow">if</span> (mot == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(0).m_name) found++;
00370       }
00371       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pos=text.find(0x09)) != std::string::npos) {
00372         <span class="comment">// suppose there is at least 2 columns</span>
00373         mot=text.substr(0, pos);
00374         <span class="keywordflow">if</span> (mot == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(0).m_name) {
00375           (*what)*=-1;
00376           found++;
00377           sep=0x09;
00378         }
00379       }
00380       <span class="keywordflow">break</span>;
00381 
00382     <span class="keywordflow">case</span> 2:
00383       <span class="comment">// most of decription is read, units on separate line</span>
00384       last=strlen(line);
00385       <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00386       <span class="keywordflow">if</span> (last &gt; 0) {
00387         found++;
00388         text=line; <span class="comment">/* convert C string to C++ string */</span>
00389         i=0;
00390         last=text.find(sep);
00391         <span class="keywordflow">do</span> {
00392           pos=last;
00393           mot=text.substr(0, pos);
00394           <span class="keywordflow">if</span> (pos != std::string::npos) {
00395             text.erase(0, pos+1); <span class="comment">// pos); to test exception below</span>
00396             last=text.find(sep);
00397           }
00398           <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(i).m_unit=mot; }
00399           <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00400             <span class="keywordflow">if</span> (i == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size())
00401               text=<span class="stringliteral">"more units than quantities, ignoring last unit(s)"</span>;
00402             <span class="keywordflow">else</span>
00403               text=std::string(<span class="stringliteral">"EXCEPTION setting m_unit in m_quantities "</span>)
00404                    +prob.what();
00405             <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00406             <span class="keywordflow">break</span>;
00407           }
00408           i++;
00409         }
00410         <span class="keywordflow">while</span> (pos != std::string::npos);
00411         <span class="keywordflow">if</span> (i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size())
00412           <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"less units than quantities !"</span>);
00413       }
00414       <span class="keywordflow">break</span>;
00415 
00416     <span class="keywordflow">case</span> 3:
00417       <span class="comment">// decription is read, separation line starting with ---</span>
00418       last=strlen(line);
00419       <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00420       <span class="keywordflow">if</span> ((last &gt; 0) &amp;&amp; (line[0] == <span class="charliteral">'-'</span>)) {
00421         found++;
00422         <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00423         <a class="code" href="classcatalog_access_1_1_catalog.html#r7">m_filePos</a>=myFile-&gt;tellg();
00424         <span class="keywordflow">if</span> (getDescr) <span class="keywordflow">break</span>; <span class="comment">// must NOT read all file and create tables</span>
00425         <span class="keywordflow">if</span> ( !*maxRows ) {
00426           <span class="comment">// read the total number of rows to have a maximal value</span>
00427           <span class="comment">// to allocate m_strings, m_numericals buffers.</span>
00428           <span class="keywordflow">while</span> ( myFile-&gt;good() ) {
00429             myFile-&gt;getline(line, MAX_LINE);
00430             <span class="keywordflow">if</span> (strlen(line) &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// 1 CR for WINDOWS</span>
00431             (*maxRows)++;
00432           }
00433           <span class="comment">// go back to initial position printf("%ld ReadRows\n", *maxRows);</span>
00434           myFile-&gt;clear(); <span class="comment">// needed to reset flags before seekg</span>
00435           myFile-&gt;seekg(m_filePos);
00436           <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=*maxRows; <span class="comment">// used by importSelected();</span>
00437         }
00438         <a class="code" href="classcatalog_access_1_1_catalog.html#d12">create_tables</a>(nbQuantAscii, *maxRows);
00439       }
00440       <span class="keywordflow">break</span>;
00441 
00442     <span class="keywordflow">default</span>:
00443       last=strlen(line);
00444       <span class="keywordflow">if</span> ((last == 0) || (line[0] == 0x0D)) {
00445         lineSkipped=<span class="keyword">true</span>; <span class="comment">// to have Warning messages below</span>
00446         <span class="keywordflow">break</span>;
00447       }
00448       <span class="comment">// string max size is MAX_LINE-1;</span>
00449       <span class="keywordflow">if</span> (last &gt;= maxLine) {
00450         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
00451                &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
00452         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00453         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00454         err=<a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>;
00455         <span class="keywordflow">break</span>;
00456       }
00457       i=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
00458       <span class="keywordflow">if</span> (i == 0) {
00459         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
00460         <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00461         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00462         err=<a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00463         <span class="keywordflow">break</span>;
00464       }
00465       <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00466       text=line; <span class="comment">/* convert C string to C++ string */</span>
00467       pos=text.find(sep);
00468       <span class="keywordflow">if</span> (pos == std::string::npos) {
00469         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" without separator, line skipped"</span>;
00470         <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00471         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00472         <span class="keywordflow">break</span>;
00473       }
00474       <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == *maxRows) || lineSkipped) {
00475         err=<a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00476         <span class="keywordflow">break</span>;
00477       }
00478       i=0;
00479       err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00480       <span class="keywordflow">do</span> {
00481         mot=text.substr(0, pos);
00482         <span class="keywordflow">if</span> (i &lt; err) <a class="code" href="classcatalog_access_1_1_catalog.html#d14">translate_cell</a>(mot, i);
00483         <span class="keywordflow">else</span> {
00484           sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" contains too many quantities"</span>;
00485           <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00486           sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00487           <span class="keywordflow">break</span>;
00488         }
00489         i++;
00490         <span class="keywordflow">if</span> (pos != std::string::npos) {
00491           text.erase(0, pos+1);
00492           pos=text.find(sep);
00493         }
00494         <span class="keywordflow">else</span> <span class="keywordflow">break</span>;
00495       }
00496       <span class="keywordflow">while</span> (1);
00497       <span class="keywordflow">if</span> (i &lt;  err) {
00498         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" does not contain all quantities"</span>;
00499         <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00500         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00501       }
00502       err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00503       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>++;
00504       <span class="comment">//found++;</span>
00505       <span class="keywordflow">break</span>;
00506     }
00507     <span class="comment">// to have only 1 test when reading all file</span>
00508     <span class="keywordflow">if</span> (found &lt; 4) {
00509       <span class="comment">// when separation line after Column is found,</span>
00510       <span class="comment">// Quantities must be set.</span>
00511       <span class="keywordflow">if</span> (found == 1) {
00512         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size() == 0) { found--; <span class="keywordflow">break</span>; }
00513         <span class="keywordflow">if</span> (*what &gt;= 2) { found=4; <span class="keywordflow">break</span>; }
00514                        <span class="comment">// found changed, no error on META ALL</span>
00515       }
00516     }
00517     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (getDescr) <span class="keywordflow">break</span>;
00518     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>) <span class="keywordflow">break</span>; <span class="comment">// just stop, error not taken into account</span>
00519 
00520   }<span class="comment">// loop on file lines</span>
00521   <span class="comment">//only possible errors: BAD_FILELINE or BAD_ROW</span>
00522   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>) err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00523   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>) <span class="keywordflow">return</span> err;
00524   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (found &lt; 4) <span class="keywordflow">return</span> (-1*found);
00525   
00526   <span class="keywordflow">return</span> err;
00527 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d15" doxytag="catalogAccess::Catalog::analyze_fits" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_fits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const tip::Table *&nbsp;</td>
          <td class="mdname" nowrap> <em>myDOL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00293">293</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_8cxx-source.html#l00044">catalogAccess::Key_UCD</a>, <a class="el" href="catalog__io_8cxx-source.html#l00041">catalogAccess::KeyCDS</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_comment</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00092">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_unit</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::SepNull</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>.
<p>
<pre class="fragment"><div>00294                                                                  {
00295   std::string text, mot;
00296   <span class="keywordtype">int</span>   i, j, max,
00297         nbQuantAscii=0;
00298   <span class="keywordtype">char</span>  name[9]; <span class="comment">/* 8 char maximum for header key */</span>
00299   <span class="keywordtype">bool</span>  binary=<span class="keyword">true</span>;
00300   <span class="keywordtype">short</span> test;
00301   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00302   int (*pfunc)(<span class="keywordtype">int</span>)=toupper; <span class="comment">// function used by transform</span>
00303   Header &amp;header=myDOL-&gt;getHeader();
00304 
00305   <span class="keywordflow">try</span> {
00306     text=myDOL-&gt;getName();
00307     header.getKeyword(<span class="stringliteral">"XTENSION"</span>, mot);
00308   <span class="comment">/* text.rfind('_');</span>
00309 <span class="comment">    since '/' are replaced by '_' in EXTNAME</span>
00310 <span class="comment">    and  is ambiguous with '_' in catalog name:</span>
00311 <span class="comment">    must search for keywords CDS-CAT  CDS-NAME</span>
00312 <span class="comment">  */</span>
00313   }
00314   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00315     text=<span class="stringliteral">": fits EXTENSION, cannot get name"</span>;
00316     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00317     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00318   }
00319   std::ostringstream sortie;
00320   sortie &lt;&lt; <span class="stringliteral">"fits extension "</span> &lt;&lt; mot &lt;&lt; <span class="stringliteral">" name = "</span> &lt;&lt; text;
00321   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00322   sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00323 
00324   <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>=<span class="stringliteral">""</span>;   <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>=<span class="stringliteral">""</span>;
00325   <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>=<span class="stringliteral">""</span>; <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>=<span class="stringliteral">""</span>;
00326   <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a>=<span class="stringliteral">""</span>;
00327   <span class="keywordflow">if</span> (mot == <span class="stringliteral">"TABLE"</span>) {
00328     binary=<span class="keyword">false</span>;
00329     <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a>=<span class="stringliteral">"CDS"</span>; <span class="comment">/* to know that format string need to be changed for fits */</span>
00330   }
00331   <span class="keywordflow">try</span> {
00332     test=-1;
00333 <span class="comment">//    Header::Iterator itor_found;</span>
00334     <span class="keywordflow">for</span> (Header::Iterator itor=header.begin(); itor != header.end(); ++itor) {
00335       mot=itor-&gt;getName();
00336       <span class="comment">// long comment from wanted key</span>
00337       <span class="keywordflow">if</span> ( mot.empty() ) { <span class="keywordflow">switch</span> (test) {
00338         <span class="keywordflow">case</span> 0: text=itor-&gt;getComment();
00339 <span class="comment">/*                m_catRef=itor_found-&gt;getComment()+text;*/</span>
00340                 <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>=text;
00341                 <span class="keywordflow">break</span>;
00342         <span class="keywordflow">case</span> 1: text=itor-&gt;getComment();
00343 <span class="comment">/*                m_tableRef=itor_found-&gt;getComment()+text;*/</span>
00344                 <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>=text;
00345                 <span class="keywordflow">break</span>;
00346         <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
00347       } }
00348       <span class="keywordflow">else</span> {
00349         <span class="keywordflow">if</span> (mot == <a class="code" href="namespacecatalog_access.html#a2">KeyCDS</a>[0]) {
00350           test=0; <span class="comment">//itor_found=itor;</span>
00351           <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>=itor-&gt;getValue();
00352         }
00353         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mot == <a class="code" href="namespacecatalog_access.html#a2">KeyCDS</a>[1]) {
00354           test=1; <span class="comment">//itor_found=itor;</span>
00355           <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>=itor-&gt;getValue();
00356         }
00357         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (test &gt;= 0) test=2;
00358       }<span class="comment">// end of non-empty key</span>
00359     }
00360   }
00361   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00362     text=<span class="stringliteral">": fits EXTENSION, cannot read header"</span>;
00363     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00364     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00365   }
00366   <span class="keywordflow">if</span> (test &lt; 1) {
00367     <span class="keywordflow">if</span> (binary) {
00368       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"fits EXTENSION, cannot get CDS header keys"</span>);
00369     }
00370     <span class="keywordflow">else</span> {
00371       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get CDS header keys"</span>);
00372       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00373     }
00374   }
00375 <span class="comment">//  const Table::FieldCont &amp;allCol=myDOL-&gt;getValidFields();</span>
00376   <span class="keywordflow">try</span> {
00377     max=myDOL-&gt;getValidFields().size();
00378     <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=myDOL-&gt;getNumRecords();
00379   }
00380   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00381     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get number of rows or columns"</span>);
00382     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00383   }
00384   <span class="keywordflow">if</span> (max &lt; 1) {
00385     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, need at least 1 column"</span>);
00386     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00387   }
00388   text=<span class="stringliteral">""</span>;
00389   std::vector&lt;double&gt; colNull(max, 0.0);
00390   <span class="keywordflow">try</span> {
00391     <span class="keyword">const</span> IColumn *myCol = 0;
00392     <span class="keywordflow">for</span> (i=0; i &lt; max; i++) {
00393       text=<span class="stringliteral">""</span>;
00394       myCol=myDOL-&gt;getColumn(i);
00395       Quantity readQ;
00396       readQ.m_name=myCol-&gt;getId();
00397       readQ.m_unit=myCol-&gt;getUnits();
00398       sprintf(name, <span class="stringliteral">"TFORM%d"</span>, i+1);
00399       mot=name; <span class="comment">/* convert C string to C++ string */</span>
00400 <span class="comment">//      mot=myCol-&gt;getColumnKeyword("TFORM");</span>
00401       header.getKeyword(mot, text);
00402       std::transform(text.begin(), text.end(), text.begin(), pfunc);
00403       j=text.length();
00404       readQ.m_format=text;
00405       text=<span class="stringliteral">""</span>;
00406       <span class="keywordflow">if</span> (binary) {
00407         <span class="keywordflow">if</span> ( !myCol-&gt;isScalar() ) {
00408           text=<span class="stringliteral">"unauthorized FITS TABLE vector"</span>;
00409           sortie &lt;&lt; <span class="stringliteral">": VECTOR not supported, column#"</span> &lt;&lt; i+1;
00410           <span class="keywordflow">throw</span> std::runtime_error(text);
00411         }
00412         <span class="keywordflow">if</span> (j == 0) {
00413           text=<span class="stringliteral">"unauthorized FITS empty format "</span>;
00414           sortie &lt;&lt; <span class="stringliteral">": FITS format is empty, column#"</span> &lt;&lt; i+1;
00415           <span class="keywordflow">throw</span> std::runtime_error(text);
00416         }
00417         <span class="keywordflow">if</span> (readQ.m_format[j-1] == <span class="charliteral">'A'</span>) readQ.m_type=Quantity::STRING;
00418         <span class="keywordflow">else</span> readQ.m_type=Quantity::NUM;
00419         sprintf(name, <span class="stringliteral">"TNULL%d"</span>, i+1); mot=name;
00420         <span class="keywordflow">try</span> { header.getKeyword(mot, readQ.m_null); }
00421         <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00422         colNull.at(i)=atof(readQ.m_null.c_str());
00423         <span class="keywordflow">if</span> ( !readQ.m_null.empty() ) {
00424           sprintf(name, <span class="stringliteral">"TSCAL%d"</span>, i+1); mot=name;
00425           <span class="keywordflow">try</span> { header.getKeyword(mot, text); }
00426           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00427           readQ.m_null+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+text;
00428           <span class="keywordflow">if</span> ( !text.empty() ) colNull.at(i)*=atof(text.c_str());
00429           text=<span class="stringliteral">""</span>;
00430           sprintf(name, <span class="stringliteral">"TZERO%d"</span>, i+1); mot=name;
00431           <span class="keywordflow">try</span> { header.getKeyword(mot, text); }
00432           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00433           readQ.m_null+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+text;
00434           <span class="keywordflow">if</span> ( !text.empty() ) colNull.at(i)+=atof(text.c_str());
00435           text=<span class="stringliteral">""</span>;
00436         }
00437 <span class="comment">// printf("'%s'\n",  readQ.m_null.c_str() );</span>
00438         sprintf(name, <span class="stringliteral">"%s%d"</span>, <a class="code" href="namespacecatalog_access.html#a4">Key_UCD</a>.c_str(), i+1); mot=name;
00439         <span class="keywordflow">try</span> {
00440           readQ.m_comment=header.getKeyComment(mot);
00441           header.getKeyword(mot, text);
00442         }
00443         <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00444           sortie &lt;&lt; <span class="stringliteral">"missing keyword "</span> &lt;&lt; mot &lt;&lt; <span class="stringliteral">" for column#"</span> &lt;&lt; i+1;
00445           <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str() );
00446           sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00447         }
00448       }
00449       <span class="keywordflow">else</span> {
00450         <span class="keywordflow">if</span> (readQ.m_format[0] == <span class="charliteral">'A'</span>) readQ.m_type=Quantity::STRING;
00451         <span class="keywordflow">else</span> readQ.m_type=Quantity::NUM;
00452         sprintf(name, <span class="stringliteral">"TBCOL%d"</span>, i+1); mot=name;
00453         text=header.getKeyComment(mot);
00454         j=4;
00455         <span class="keywordflow">if</span> (text.substr(0,j) == <span class="stringliteral">"UCD="</span>) text.erase(0,j);
00456         pos=text.find(<span class="charliteral">'.'</span>);
00457         <span class="keywordflow">if</span> (pos != std::string::npos) text.erase(pos);
00458         <span class="comment">/* ONLY  readQ.m_comment  IS NOT SET */</span>
00459       }
00460       std::transform(text.begin(), text.end(), text.begin(), pfunc);
00461       readQ.m_ucd=text;
00462       <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
00463         readQ.m_index=nbQuantAscii;
00464         nbQuantAscii++;
00465       }
00466       <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (readQ.m_type == Quantity::NUM) {
00467         readQ.m_index=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()-nbQuantAscii;
00468         readQ.m_type=Quantity::NUM;
00469       }
00470       <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.push_back(readQ); }
00471       <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00472         text=std::string(<span class="stringliteral">"EXCEPTION filling m_quantities: "</span>)+prob.what();
00473         sortie &lt;&lt; text;
00474         <span class="keywordflow">throw</span>;
00475       }
00476     }<span class="comment">/* loop on columns */</span>
00477   }
00478   <span class="keywordflow">catch</span> (...) {
00479     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.clear();
00480     j=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00481     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=j;
00482     <span class="keywordflow">if</span> ( text.empty() ) {
00483       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, error reading TABLE column#"</span>;
00484       sortie &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">" description"</span>;
00485       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00486     }
00487     <span class="keywordflow">else</span> {
00488       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00489       <span class="comment">// exception sent only for vector allocation</span>
00490       <span class="keywordflow">if</span> (text == sortie.str() ) <span class="keywordflow">throw</span>;
00491     }
00492     <span class="keywordflow">return</span> j;
00493   }
00494 <span class="comment">// printf("numRows=%ld\n", m_numOriRows );</span>
00495   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00496   <span class="keywordflow">if</span> ( !*maxRows ) *maxRows=<a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>;
00497   <span class="keywordflow">if</span> ((getDescr) || (m_numOriRows == 0)) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00498 
00499   <a class="code" href="classcatalog_access_1_1_catalog.html#d12">create_tables</a>(nbQuantAscii, *maxRows);
00500   <span class="keywordflow">try</span> {
00501     <span class="keywordtype">double</span> rowVal;
00502     std::vector&lt;Quantity&gt;::iterator itQ;
00503     <span class="comment">// Loop over all records (rows) and extract values</span>
00504     <span class="keywordflow">for</span> (Table::ConstIterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end();
00505          ++itor) {
00506       i=0;
00507       <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.end(); ++itQ, ++i) {
00508         j=itQ-&gt;m_index;
00509         <span class="comment">// double variable to hold the value of all the numeric fields</span>
00510         <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00511           rowVal=(*itor)[itQ-&gt;m_name].get();
00512           <span class="keywordflow">if</span> ( itQ-&gt;m_null.empty() ) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(m_numRows)=rowVal;
00513           <span class="keywordflow">else</span> {
00514             <span class="keywordflow">if</span> (rowVal == colNull.at(i)) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(m_numRows)=MissNAN;
00515             <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(m_numRows)=rowVal;
00516           }
00517         }
00518         <span class="keywordflow">else</span> (*itor)[itQ-&gt;m_name].get(m_strings[j].at(m_numRows) );
00519       }
00520       <span class="keywordflow">if</span> (++<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == *maxRows) <span class="keywordflow">break</span>;
00521     }<span class="comment">/* loop on rows*/</span>
00522   }
00523   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00524     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot read after row#"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>+1;
00525     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00526     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00527   }
00528   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00529 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d16" doxytag="catalogAccess::Catalog::analyze_head" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_head           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>tot</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>what</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap> <em>testCR</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::fstream *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00056">56</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, and <a class="el" href="catalog_8h-source.html#l00030">MAX_LINE</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>.
<p>
<pre class="fragment"><div>00057                                               {
00058 
00059   std::string text, mot;
00060   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00061   <span class="keywordtype">char</span> line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00062   <span class="keywordtype">int</span>  i, last,
00063        found=0,
00064        err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00065 
00066   <span class="comment">// must use good instead eof, because eof is still false</span>
00067   <span class="comment">// if getline reads MAX_LINE char ==&gt; infinite loop</span>
00068   <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>=<span class="stringliteral">""</span>;   <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a> =<span class="stringliteral">""</span>;
00069   <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>=<span class="stringliteral">""</span>; <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a> =<span class="stringliteral">""</span>;
00070   myFile-&gt;clear();  
00071   <span class="comment">// to reset the state flags (checked by the previous load call)</span>
00072   <span class="keywordflow">while</span> ( myFile-&gt;good() ) {
00073 
00074     <span class="comment">// extract line with delimiter \n which is discarded</span>
00075     myFile-&gt;getline(line, MAX_LINE);
00076     text=line; <span class="comment">/* convert C string to C++ string */</span>
00077     <span class="keywordflow">if</span> (*tot == 0) {
00078       pos=text.find(<span class="charliteral">' '</span>);
00079       <span class="keywordflow">if</span> (pos != std::string::npos) {
00080         mot=text.substr(0, pos);
00081         <span class="comment">// fits starts with "SIMPLE  ="</span>
00082         <span class="keywordflow">if</span> (mot == <span class="stringliteral">"SIMPLE"</span>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00083       }
00084     }
00085     (*tot)++;
00086 
00087     <span class="comment">/* should find something like:</span>
00088 <span class="comment">#RESOURCE=21230079</span>
00089 <span class="comment">#Name: J/ApJS/123/79</span>
00090 <span class="comment">#Title: Third EGRET catalog (3EG) (Hartman+, 1999)</span>
00091 <span class="comment">#Table  J_ApJS_123_79_3eg:</span>
00092 <span class="comment">#Name: J/ApJS/123/79/3eg</span>
00093 <span class="comment">#Title: Third EGRET Source Catalog (table 4)</span>
00094 <span class="comment">#blabla(CoosysG:galactic)</span>
00095 <span class="comment">#Column</span>
00096 <span class="comment">// Column must be followed by at least one separation line </span>
00097 <span class="comment"></span>
00098 <span class="comment">    OR (-meta.all for description)</span>
00099 <span class="comment"></span>
00100 <span class="comment">#RESOURCE=J/ApJS/123/79/3eg</span>
00101 <span class="comment">#INFO   =271Total number of tuples (rows) in the table</span>
00102 <span class="comment">#INFO   =CGRO</span>
00103 <span class="comment">#INFO   =Gamma-ray</span>
00104 <span class="comment">#    Third EGRET catalog (3EG) (Hartman+, 1999)</span>
00105 <span class="comment">#    Third EGRET Source Catalog (table 4)</span>
00106 <span class="comment">#</span>
00107 <span class="comment">*/</span>
00108     <span class="keywordflow">switch</span> (found) {
00109     <span class="keywordflow">case</span> 0:
00110       pos=text.find(<span class="stringliteral">"#RESOURCE="</span>);
00111       <span class="keywordflow">if</span> (pos == 0) {
00112         found++;
00113         last=text.length();
00114         <span class="comment">// test if last char is CR from WINDOWS</span>
00115         <span class="keywordflow">if</span> (text[last-1] == 0x0D) {
00116           *testCR=<span class="keyword">true</span>;
00117           last--;
00118           text.erase(last);
00119         }
00120         <span class="keywordflow">else</span> *testCR=<span class="keyword">false</span>;
00121         mot=text.substr(10);
00122         pos=mot.find(<span class="charliteral">'/'</span>);
00123         <span class="keywordflow">if</span> (pos == std::string::npos) {
00124           <span class="comment">// standard desciption  printf("|%s|\n", mot.c_str());</span>
00125           *what=1;
00126         }
00127         <span class="keywordflow">else</span> {
00128           <span class="comment">// -meta.all OR -meta QUERY</span>
00129           *what=2;
00130           pos=mot.rfind(<span class="charliteral">'/'</span>);
00131           <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>=mot.substr(0,pos);
00132           <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>=mot;
00133         }
00134       }
00135       <span class="keywordflow">break</span>;
00136 
00137     <span class="keywordflow">case</span> 1: <span class="keywordflow">case</span> 3:
00138       <span class="keywordflow">if</span> (*what &lt; 2) mot=<span class="stringliteral">"#Name:"</span>;  <span class="keywordflow">else</span> mot=<span class="stringliteral">"#INFO"</span>; 
00139       pos=text.find(mot);
00140       <span class="keywordflow">if</span> (pos == 0) {
00141         found++;
00142         last=text.length();
00143         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00144         <span class="comment">// remove heading spaces</span>
00145         <span class="keywordflow">for</span> (i=mot.length(); i&lt;last; i++) {
00146           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00147         }
00148         <span class="keywordflow">if</span> (i == last) mot=<span class="stringliteral">""</span>;
00149         <span class="keywordflow">else</span> {
00150           mot=text.substr(i, last-i);
00151           <span class="comment">// remove trailing spaces</span>
00152           pos=mot.length();
00153           <span class="keywordflow">do</span> pos--;
00154           <span class="keywordflow">while</span> ((mot[pos] == <span class="charliteral">' '</span>) || (mot[pos] == 0x09));
00155           mot.erase(pos+1);
00156         }
00157         <span class="keywordflow">if</span> (*what &lt; 2) {
00158           <span class="keywordflow">if</span> (found &gt; 2) <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>=mot; <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>=mot;
00159         }
00160         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (found == 2) {
00161           <span class="keywordflow">if</span> ((!<a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>) &amp;&amp; ((last=mot.length()) &gt; 1)) {
00162             <span class="keywordflow">if</span> (mot[0] == <span class="charliteral">'='</span>) mot[0]=<span class="charliteral">' '</span>;
00163             <span class="keywordflow">for</span> (i=1; i&lt;last; i++) { <span class="keywordflow">if</span> (!isdigit(mot[i])) <span class="keywordflow">break</span>; } 
00164             mot.erase(i);
00165             <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=atol(mot.c_str());
00166           }
00167         }
00168       }
00169       <span class="keywordflow">break</span>;
00170 
00171     <span class="keywordflow">case</span> 2: <span class="keywordflow">case</span> 4:
00172       <span class="keywordflow">if</span> (*what &lt; 2) mot=<span class="stringliteral">"#Title:"</span>;  <span class="keywordflow">else</span> mot=<span class="stringliteral">"#INFO"</span>;
00173       pos=text.find(mot);
00174       <span class="keywordflow">if</span> (pos == 0) {
00175         <span class="keywordflow">if</span> (*what &gt;= 2) <span class="keywordflow">break</span>; <span class="comment">// read lines until do not start with #INFO</span>
00176         found++;
00177         last=text.length();
00178         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00179         <span class="comment">// remove heading spaces</span>
00180         <span class="keywordflow">for</span> (i=mot.length(); i&lt;last; i++) {
00181           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00182         }
00183         <span class="keywordflow">if</span> (i == last) mot=<span class="stringliteral">""</span>;
00184         <span class="keywordflow">else</span> {
00185           mot=text.substr(i, last-i);
00186           <span class="comment">// remove trailing spaces</span>
00187           pos=mot.length();
00188           <span class="keywordflow">do</span> pos--;
00189           <span class="keywordflow">while</span> ((mot[pos] == <span class="charliteral">' '</span>) || (mot[pos] == 0x09));
00190           mot.erase(pos+1);
00191         }
00192         <span class="keywordflow">if</span> (found &gt; 3) <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>=mot; <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>=mot;
00193       }
00194       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*what &gt;= 2) {
00195         <span class="comment">// separation '#' found,</span>
00196         <span class="keywordflow">if</span> ((last=text.length()) &lt; 3) { found=5; <span class="keywordflow">break</span>;}
00197         found++;
00198         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00199         <span class="comment">// remove heading spaces</span>
00200         <span class="keywordflow">for</span> (i=1; i&lt;last; i++) {
00201           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00202         }
00203         <span class="keywordflow">if</span> (i == last) mot=<span class="stringliteral">""</span>;
00204         <span class="keywordflow">else</span> {
00205           mot=text.substr(i, last-i);
00206           <span class="comment">// remove trailing spaces</span>
00207           pos=mot.length();
00208           <span class="keywordflow">do</span> pos--;
00209           <span class="keywordflow">while</span> ((mot[pos] == <span class="charliteral">' '</span>) || (mot[pos] == 0x09));
00210           mot.erase(pos+1);
00211         }
00212         <span class="keywordflow">if</span> (found &gt; 3)  <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>=mot; 
00213         <span class="keywordflow">else</span> { found=4; <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>=mot; }
00214       }
00215       <span class="keywordflow">break</span>;
00216 
00217     <span class="keywordflow">default</span>:
00218       <span class="comment">// case only for META file, read until #RESOURCE= or # [ucd=]</span>
00219       <span class="keywordflow">if</span> ((last=text.length()) &gt; 7) {
00220         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00221         <span class="comment">// for META file with several tables, start of 2nd table</span>
00222         mot=<span class="stringliteral">"#RESOURCE="</span>;
00223         <span class="keywordflow">if</span> (text.find(mot) == 0) { found++; <span class="keywordflow">break</span>; }
00224         <span class="comment">// otherwise, remove heading spaces</span>
00225         <span class="keywordflow">for</span> (i=1; i&lt;last; i++) {
00226           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00227         }
00228         mot=text.substr(i, last-i);
00229         <span class="comment">// before #Column, metaALL must end with following string</span>
00230         <span class="keywordflow">if</span> (mot == <span class="stringliteral">"[ucd=]"</span>) found++;
00231       }
00232       <span class="keywordflow">break</span>;
00233     }
00234 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
00235 <span class="preprocessor"></span>    std::cout &lt;&lt; *tot &lt;&lt;<span class="stringliteral">","</span>;
00236     <span class="keywordflow">if</span> (*tot &lt; 60ul) std::cout &lt;&lt; line &lt;&lt;<span class="stringliteral">"|\n"</span>;
00237 <span class="preprocessor">    #endif</span>
00238 <span class="preprocessor"></span>    err=-1*found;
00239     <span class="keywordflow">if</span> (*what &lt; 2) {
00240       <span class="keywordflow">if</span> (found == 5) { err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>; <span class="keywordflow">break</span>; }
00241     }
00242     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (found &gt; 5) { err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>; <span class="keywordflow">break</span>; }
00243 
00244   }<span class="comment">// loop on inFile lines</span>
00245 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00246 <span class="preprocessor"></span>  std::cout &lt;&lt; std::endl;
00247 <span class="preprocessor">  #endif</span>
00248 <span class="preprocessor"></span>
00249   <span class="keywordflow">return</span> err;
00250 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d29" doxytag="catalogAccess::Catalog::bitPosition" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long catalogAccess::Catalog::bitPosition           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>k</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00689">689</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>.
<p>
<pre class="fragment"><div>00689                                                                  {
00690 
00691   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=1ul;
00692   <span class="keywordtype">int</span> pos=index+1; <span class="comment">// position of given criteria in isSelected vector</span>
00693   *k=(pos+1)/(<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8);
00694   <span class="comment">// index of m_rowIsSelected with given criteria</span>
00695   <span class="keywordtype">int</span> i=pos+1-(*k)*<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8;
00696   <span class="comment">// bit pos.of given criteria in m_rowIsSelected[k]</span>
00697   <span class="keywordtype">int</span> j=0;
00698   <span class="keywordflow">while</span> (j &lt; i) {test*=2ul; j++;}
00699 
00700   <span class="keywordflow">return</span> test;
00701 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d25" doxytag="catalogAccess::Catalog::checkCatName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkCatName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>catName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00622">622</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a17">catalogAccess::BAD_CATNAME</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00568">getMaxNumRowsWeb()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>.
<p>
<pre class="fragment"><div>00623                                                           {
00624 
00625   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00626     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*i] == catName) <span class="keywordflow">return</span> i;
00627   }
00628   std::string errText;
00629   errText=<span class="stringliteral">"given Catalog name ("</span>+catName+<span class="stringliteral">") do not exist"</span>;
00630   <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00631   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a17">BAD_CATNAME</a>;
00632 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d24" doxytag="catalogAccess::Catalog::checkImport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkImport           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>isDone</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00600">600</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="namespacecatalog_access.html#a37a15">catalogAccess::IMPORT_BIS</a>, <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01007">checkValWithinCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00769">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01140">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01408">getNameB()</a>, <a class="el" href="catalog_8cxx-source.html#l01396">getNameL()</a>, <a class="el" href="catalog_8cxx-source.html#l01421">getNameObjName()</a>, <a class="el" href="catalog_8cxx-source.html#l00636">getQuantityDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00649">getQuantityNames()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getQuantityTypes()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getQuantityUCDs()</a>, <a class="el" href="catalog_8cxx-source.html#l00672">getQuantityUnits()</a>, <a class="el" href="catalog_8cxx-source.html#l00742">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00754">getSysErrorName()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00718">importDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00807">includeN()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00038">selectAllQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00332">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00272">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00788">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01159">useOnlyS()</a>.
<p>
<pre class="fragment"><div>00600                                                                          {
00601 
00602   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00603   <span class="keywordflow">if</span> (quantSize &gt; 0) {
00604     <span class="keywordflow">if</span> (isDone) <span class="keywordflow">return</span> quantSize;
00605     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt;= 0) {
00606       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, <span class="stringliteral">"deleting previous Catalog description"</span>);
00607       <a class="code" href="classcatalog_access_1_1_catalog.html#d0">deleteDescription</a>();
00608       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00609     }
00610     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"call 'deleteContent' before importing again"</span>);
00611     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a15">IMPORT_BIS</a>;
00612   }
00613   <span class="keywordflow">else</span> {
00614     <span class="keywordflow">if</span> (! isDone) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00615     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
00616     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00617   }
00618 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d4" doxytag="catalogAccess::Catalog::checkNUM" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkNUM           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>miss</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>reject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>precis</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00097">97</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>.
<p>
<pre class="fragment"><div>00098                                                                {
00099 
00100   <span class="comment">// since we test the NaN only once at the beginning</span>
00101   <span class="comment">// this methods MUST NOT be called if no criteria is applied</span>
00102 <span class="preprocessor">#ifdef WIN32</span>
00103 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (_isnan(r)) <span class="keywordflow">return</span> !reject;
00104 <span class="preprocessor">#else</span>
00105 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (std::isnan(r)) <span class="keywordflow">return</span> !reject;
00106 <span class="preprocessor">#endif</span>
00107 <span class="preprocessor"></span>  <span class="keywordtype">double</span> myLimit;
00108   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_lowerCut;
00109   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00110     <span class="keywordflow">if</span> (r &lt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00111   }
00112   myLimit=m_quantities[index].m_upperCut;
00113   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00114     <span class="keywordflow">if</span> (r &gt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00115   }
00116 
00117   <span class="keywordtype">int</span> vecSize=m_quantities[index].m_listValN.size();
00118   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00119     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;vecSize; i++) {
00120       myLimit=m_quantities[index].m_listValN[i];
00121       <span class="keywordflow">if</span> (fabs(myLimit) &gt; NearZero) {
00122         <span class="keywordflow">if</span> (fabs(r/myLimit-1.0) &lt;= precis) <span class="keywordflow">return</span> !miss;
00123       }
00124       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(r) &lt;= precis) <span class="keywordflow">return</span> !miss;
00125       <span class="comment">// returns TRUE for inclusion (equality found)</span>
00126       <span class="comment">// returns FALSE for exclusion (difference found)</span>
00127     }
00128     <span class="keywordflow">return</span> miss;
00129     <span class="comment">// not in list: returns FALSE for inclusion, TRUE for exclusion</span>
00130   }
00131 
00132   <span class="comment">// empty list (interval exist): within interval</span>
00133   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00134 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d5" doxytag="catalogAccess::Catalog::checkNUMor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkNUMor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>reject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>precis</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00139">139</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>.
<p>
<pre class="fragment"><div>00140                                                                  {
00141 
00142   <span class="comment">// since we test the NaN only once at the beginning</span>
00143   <span class="comment">// this methods MUST NOT be called if no criteria is applied</span>
00144 <span class="preprocessor">#ifdef WIN32</span>
00145 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (_isnan(r)) <span class="keywordflow">return</span> !reject;
00146 <span class="preprocessor">#else</span>
00147 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (std::isnan(r)) <span class="keywordflow">return</span> !reject;
00148 <span class="preprocessor">#endif</span>
00149 <span class="preprocessor"></span>
00150   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00151   <span class="keywordtype">double</span> myLimit;
00152   <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValN.size();
00153   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00154     <span class="keywordtype">int</span> i;
00155     check=<span class="keyword">false</span>;
00156     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00157       myLimit=m_quantities[index].m_listValN[i];
00158       <span class="keywordflow">if</span> (fabs(myLimit) &gt; NearZero) {
00159         <span class="keywordflow">if</span> (fabs(r/myLimit-1.0) &lt;= precis) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00160       }
00161       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(r) &lt;= precis) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00162       <span class="comment">// returns TRUE for inclusion (equality found)</span>
00163       <span class="comment">// needn't check for upper/lower cut (OR condition)</span>
00164     }
00165   }
00166 
00167   myLimit=m_quantities[index].m_lowerCut;
00168   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00169     check=<span class="keyword">true</span>; <span class="comment">// used with list</span>
00170     <span class="keywordflow">if</span> (r &lt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00171   }
00172 
00173   myLimit=m_quantities[index].m_upperCut;
00174   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00175     check=<span class="keyword">true</span>; <span class="comment">// used with list</span>
00176     <span class="keywordflow">if</span> (r &gt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00177   }
00178 
00179   <span class="comment">// empty list  + within interval = TRUE</span>
00180   <span class="comment">// not in list + within interval = TRUE</span>
00181   <span class="comment">// not in list +   no  interval = FALSE</span>
00182   <span class="keywordflow">return</span> check;
00183 
00184 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d27" doxytag="catalogAccess::Catalog::checkQuant_name" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkQuant_name           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00653">653</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a25">catalogAccess::BAD_QUANT_NAME</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01007">checkValWithinCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00769">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01140">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00742">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00754">getSysErrorName()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00807">includeN()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00963">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00272">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00788">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01159">useOnlyS()</a>.
<p>
<pre class="fragment"><div>00654                                                           {
00655 
00656   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00657   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++) {
00658     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_name == name) <span class="keywordflow">return</span> i;
00659   }
00660   std::string errText;
00661   errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") do not exist"</span>;
00662   <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00663   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a25">BAD_QUANT_NAME</a>;
00664 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d3" doxytag="catalogAccess::Catalog::checkRegion" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkRegion           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>nRA</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>nDEC</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00062">62</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.
<p>
<pre class="fragment"><div>00062                                                                        {
00063 
00064   <span class="comment">/* for the moment, only circle</span>
00065 <span class="comment">    if angle phi=RA and t=PI/2 - DEC then:</span>
00066 <span class="comment">    OM postion is x= (sin t &lt;=&gt; cos DEC) * cos phi</span>
00067 <span class="comment">                  y= (sin t &lt;=&gt; cos DEC) * sin phi</span>
00068 <span class="comment">                  z= (cos t &lt;=&gt; sin DEC)</span>
00069 <span class="comment">   and the circular region around OA is defined by</span>
00070 <span class="comment">   its scalar product with OM &gt; cos desired_angle</span>
00071 <span class="comment">  */</span>
00072   <span class="keywordtype">double</span> myRA=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[nRA].at(row);
00073   <span class="keywordtype">double</span> myDEC=m_numericals[nDEC].at(row);
00074 <span class="preprocessor">#ifdef WIN32</span>
00075 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (_isnan(myRA))  <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_rejectNaN);
00076    <span class="keywordflow">if</span> (_isnan(myDEC)) <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_rejectNaN);
00077 <span class="preprocessor">#else</span>
00078 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (std::isnan(myRA))  <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_rejectNaN);
00079   <span class="keywordflow">if</span> (std::isnan(myDEC)) <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_rejectNaN);
00080 <span class="preprocessor">#endif</span>
00081 <span class="preprocessor"></span>  <span class="keywordtype">double</span> obj_cosP=cos(myRA * Angle_Conv);
00082   <span class="keywordtype">double</span> obj_sinP=sin(myRA * Angle_Conv);
00083   <span class="keywordtype">double</span> obj_sinT=cos(myDEC * Angle_Conv);
00084   <span class="keywordtype">double</span> obj_cosT=sin(myDEC * Angle_Conv);
00085   <span class="keywordtype">double</span> myAngle=obj_sinT*obj_cosP*<a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(2)*<a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(0)
00086                 +obj_sinT*obj_sinP*<a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(2)*<a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(1)
00087                 +obj_cosT*<a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(3);
00088 <span class="comment">/*std::cout &lt;&lt; "cos(angle)*1E6 = " &lt;&lt; myAngle*1E6 &lt;&lt; " ? "</span>
00089 <span class="comment">            &lt;&lt;  m_selEllipse.at(4)*1E6 &lt;&lt; std::endl;*/</span>
00090   <span class="keywordflow">if</span> (myAngle &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(4)) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00091   <span class="keywordflow">return</span> <span class="keyword">false</span>;
00092 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d28" doxytag="catalogAccess::Catalog::checkSel_row" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkSel_row           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>srow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00668">668</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, and <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>.
<p>
<pre class="fragment"><div>00668                                                                         {
00669 
00670   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt;= 0) {
00671     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
00672     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00673   }
00674   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> == 0) {
00675     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"no row is selected"</span>);
00676     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00677   }
00678   <span class="keywordflow">if</span> ((srow &lt; 0) || (srow &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>)) {
00679     std::ostringstream sortie;
00680     sortie &lt;&lt; <span class="stringliteral">"row must be within [ 0, "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>-1 &lt;&lt; <span class="stringliteral">"]"</span>;
00681     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00682     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00683   }
00684   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>;
00685 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d26" doxytag="catalogAccess::Catalog::checkSize_row" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkSize_row           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00636">636</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00963">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, and <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>.
<p>
<pre class="fragment"><div>00636                                                                         {
00637 
00638   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt;= 0) {
00639     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
00640     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00641   }
00642   <span class="keywordflow">if</span> ((row &lt; 0) || (row &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>)) {
00643     std::ostringstream sortie;
00644     sortie &lt;&lt; <span class="stringliteral">"row must be within [ 0, "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>-1 &lt;&lt; <span class="stringliteral">"]"</span>;
00645     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00646     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00647   }
00648   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
00649 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a66" doxytag="catalogAccess::Catalog::checkValWithinCut" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkValWithinCut           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap> <em>cutLow</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap> <em>cutUp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>checkResult</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01007">1007</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01008                                                                            {
01009 
01010   *cutLow=<span class="keyword">false</span>;
01011   *cutUp=<span class="keyword">false</span>;
01012   *checkResult=0;
01013   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"checkValWithinCut"</span>;
01014   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
01015   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
01016   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01017   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01018   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
01019     std::string errText;
01020     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01021     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01022     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01023   }  
01024 
01025   <span class="keywordtype">double</span> myLimit, r=value;
01026   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_lowerCut;
01027   <span class="keywordflow">if</span> (fabs(value) &gt; NearZero)
01028     r+=value*m_quantities[index].m_precision;
01029   <span class="keywordflow">else</span>
01030     r+=m_quantities[index].m_precision;
01031   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
01032     *cutLow=<span class="keyword">true</span>;
01033     <span class="keywordflow">if</span> (r &lt; myLimit) *checkResult=-2;
01034     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &lt; myLimit) *checkResult=-1;
01035   }
01036   r=value;
01037   myLimit=m_quantities[index].m_upperCut;
01038   <span class="keywordflow">if</span> (fabs(value) &gt; NearZero)
01039     r-=value*m_quantities[index].m_precision;
01040   <span class="keywordflow">else</span>
01041     r-=m_quantities[index].m_precision;
01042   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
01043     *cutUp=<span class="keyword">true</span>;
01044     <span class="keywordflow">if</span> (r &gt; myLimit) *checkResult=2;
01045     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &gt; myLimit) *checkResult=1;
01046   }
01047 
01048   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
01049 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d12" doxytag="catalogAccess::Catalog::create_tables" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::create_tables           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname" nowrap> <em>nbQuantAscii</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00226">226</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00257">add_rows()</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>.
<p>
<pre class="fragment"><div>00226                                                                       {
00227 
00228   <span class="keywordtype">int</span> vecSize;
00229   std::string errText;
00230   <span class="keywordflow">if</span> (nbQuantAscii &gt; 0) {
00231     <span class="keywordflow">try</span> {
00232       <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.resize(nbQuantAscii);
00233     }
00234     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00235       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings: "</span>)+err.what();
00236       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private create_tables"</span>, errText);
00237       <span class="keywordflow">throw</span>;
00238     }
00239   }
00240   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()-nbQuantAscii;
00241 <span class="comment">// printf("sizes = %d , %d\n", nbQuantAscii, vecSize);</span>
00242   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00243     <span class="keywordflow">try</span> {
00244       <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.resize(vecSize);
00245     }
00246     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00247       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals: "</span>)+err.what();
00248       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private create_tables"</span>, errText);
00249       <span class="keywordflow">throw</span>;
00250     }
00251   }
00252   <span class="keywordflow">if</span> (maxRows &gt; 0) <a class="code" href="classcatalog_access_1_1_catalog.html#d13">add_rows</a>(maxRows);
00253 
00254 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d23" doxytag="catalogAccess::Catalog::createFits" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::createFits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>extName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>clobber</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>append</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>tip::Table **&nbsp;</td>
          <td class="mdname" nowrap> <em>ptrTable</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01276">1276</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00044">catalogAccess::Key_UCD</a>, <a class="el" href="catalog__io_8cxx-source.html#l00041">catalogAccess::KeyCDS</a>, <a class="el" href="catalog__io_8cxx-source.html#l00042">catalogAccess::KeyCom</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_comment</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00092">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_unit</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::SepNull</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01436">saveFits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>.
<p>
<pre class="fragment"><div>01278                                              {
01279 
01280   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
01281   std::string text, newName;
01282   <span class="keywordtype">int</span>  j, err;
01283   <span class="keywordtype">bool</span> create=<span class="keyword">true</span>;
01284 
01285   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
01286   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
01287 
01288   err=fileName.length();
01289   <span class="keywordflow">if</span> (err == 0) {
01290     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
01291     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01292     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01293   }
01294   <span class="keywordflow">if</span> (extName.length() &gt; 68) {
01295     text=<span class="stringliteral">": EXTENSION name is TOO long (limited to 68 characters)"</span>;
01296     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01297     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01298   }
01299   <span class="comment">// overwrite existing file ?</span>
01300   <span class="keywordflow">if</span> (!clobber) {
01301     std::fstream file;
01302     file.open(fileName.c_str(), std::ios::in);
01303     <span class="keywordflow">if</span> (file) {
01304       file.close();
01305       create=<span class="keyword">false</span>;
01306       <span class="keywordflow">if</span> (!append) {
01307         text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" exist (clobber=no, append=no)"</span>;
01308         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01309         <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01310       }
01311       <span class="keywordflow">else</span> {
01312         text=<span class="stringliteral">"appending extension to existing FILENAME (method "</span>+origin+<span class="stringliteral">")"</span>;
01313         <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
01314       }
01315     }
01316   }
01317   <span class="keywordflow">if</span> ( extName.empty() ) {
01318     <span class="comment">/* max length is 68, as keyword value starts/ends with ' in 11/80 */</span>
01319     newName=<a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>.substr(0,68);
01320     <span class="comment">/* replace forbidden char. */</span>
01321     err=newName.length();
01322     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01323       <span class="keywordflow">if</span> (newName[j] == <span class="charliteral">'/'</span>) newName[j]=<span class="charliteral">'_'</span>;
01324     }
01325     text=<span class="stringliteral">"EXTENSION name set to '"</span>+newName+<span class="stringliteral">"'"</span>;
01326     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text); 
01327     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01328   }
01329   <span class="keywordflow">else</span> newName=extName;
01330 
01331   <span class="keywordflow">try</span> {
01332     <span class="keywordflow">if</span> (create) IFileSvc::instance().createFile(fileName);
01333     IFileSvc::instance().appendTable(fileName, newName);
01334     (*ptrTable)=IFileSvc::instance().editTable(fileName, newName);
01335   }
01336   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01337     text=<span class="stringliteral">": cannot append and edit fits EXTENSION"</span>;
01338     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01339     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01340   }
01341   Header &amp;header=(*ptrTable)-&gt;getHeader();
01342   <span class="keywordflow">try</span> {
01343     header.setKeyword(KeyCDS[0], m_catName);
01344     header.setKeyComment(KeyCDS[0], KeyCom[0]);
01345     header.setKeyword(KeyCDS[1], m_tableName);
01346     header.setKeyComment(KeyCDS[1], KeyCom[1]);
01347 <span class="comment">//    if ( !m_tableRef.empty() ) header.setKeyComment("        ", m_tableRef);</span>
01348     <span class="comment">/* test </span>
01349 <span class="comment">    header.setKeyUnit(KeyCDS[1], "deg");*/</span>
01350   }
01351   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01352     text=<span class="stringliteral">"fits EXTENSION, cannot add CDS header keys"</span>;
01353     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
01354   }
01355   <span class="keywordflow">try</span> {
01356     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
01357     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
01358     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01359       <span class="keyword">const</span> Quantity &amp;readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j];
01360       <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01361         <span class="keywordflow">if</span> ( !readQ.m_null.empty() ) {
01362           sprintf(name, <span class="stringliteral">"TNULL%d"</span>, j+1);
01363           newName=name; <span class="comment">/* convert C string to C++ string */</span>
01364           text=readQ.m_format;
01365           <span class="comment">// to be improved for integers</span>
01366         }
01367         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> == <span class="stringliteral">"CDS"</span>) text=<span class="stringliteral">"1D"</span>;
01368         <span class="keywordflow">else</span> text=readQ.m_format;
01369       }
01370       <span class="keywordflow">else</span> {
01371         text=readQ.m_format;
01372         <span class="keywordflow">if</span> ( isalpha(readQ.m_format[0]) ) {
01373           text.erase(0,1);
01374           text=text+<span class="stringliteral">"A"</span>;
01375         }
01376       }
01377       (*ptrTable)-&gt;appendField(readQ.m_name, text);
01378       text=readQ.m_null;
01379       <span class="keywordflow">if</span> ( !text.empty() ) {
01380         header.setKeyword(newName, atoi(text.c_str()) );
01381         header.setKeyComment(newName, <span class="stringliteral">"Undefined value of field"</span>);
01382         pos=text.find(SepNull); <span class="comment">/* always exist */</span>
01383         text.erase(0, pos+1);
01384         pos=text.find(SepNull);
01385         <span class="keywordflow">if</span> (pos &gt; 0) {
01386           sprintf(name, <span class="stringliteral">"TSCAL%d"</span>, j+1);
01387           newName=name; <span class="comment">/* convert C string to C++ string */</span>
01388           header.setKeyword(newName, atoi(text.c_str()) );
01389           header.setKeyComment(newName, <span class="stringliteral">"to rescale data"</span>);
01390         }
01391         text.erase(0, pos+1);
01392         <span class="keywordflow">if</span> ( !text.empty() ) {
01393           sprintf(name, <span class="stringliteral">"TZERO%d"</span>, j+1);
01394           newName=name; <span class="comment">/* convert C string to C++ string */</span>
01395           header.setKeyword(newName, atoi(text.c_str()) );
01396           header.setKeyComment(newName, <span class="stringliteral">"offset for unsigned integers"</span>);
01397         }
01398       }
01399       text=readQ.m_unit;
01400       <span class="keywordflow">if</span> ( !text.empty() ) {
01401         sprintf(name, <span class="stringliteral">"TUNIT%d"</span>, j+1);
01402         newName=name; <span class="comment">/* convert C string to C++ string */</span>
01403         header.setKeyword(newName, text);
01404         header.setKeyComment(newName, <span class="stringliteral">"physical unit of field"</span>);
01405       }
01406       sprintf(name, <span class="stringliteral">"%s%d"</span>, <a class="code" href="namespacecatalog_access.html#a4">Key_UCD</a>.c_str(), j+1);
01407       newName=name; <span class="comment">/* convert C string to C++ string */</span>
01408       header.setKeyword(newName, readQ.m_ucd);
01409       header.setKeyComment(newName, readQ.m_comment);
01410     }<span class="comment">/* loop on quantities */</span>
01411   }
01412   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01413     text=<span class="stringliteral">": fits EXTENSION, cannot add column"</span>;
01414     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01415     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01416   }
01417 <span class="comment">/* NEED new tip methods</span>
01418 <span class="comment">  const IColumn *myCol = 0;</span>
01419 <span class="comment">  try {</span>
01420 <span class="comment">    for (j=0; j &lt; err; j++) {</span>
01421 <span class="comment">      const Quantity &amp;readQ=m_quantities[j];</span>
01422 <span class="comment">      myCol=(*ptrTable)-&gt;getColumn(j);</span>
01423 <span class="comment"></span>
01424 <span class="comment">    }</span>
01425 <span class="comment">  }</span>
01426 <span class="comment">  catch (const TipException &amp;x) {</span>
01427 <span class="comment">    text=": fits EXTENSION, cannot modify column description";</span>
01428 <span class="comment">    printErr(origin, text);</span>
01429 <span class="comment">    return BAD_FITS;</span>
01430 <span class="comment">  }</span>
01431 <span class="comment">*/</span>
01432   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01433 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d22" doxytag="catalogAccess::Catalog::createText" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::createText           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>clobber</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>origin</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00775">775</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00989">saveSelectedText()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00978">saveText()</a>.
<p>
<pre class="fragment"><div>00776                                                 {
00777   std::string  text;
00778   std::fstream file;
00779   <span class="keywordtype">int</span> err;
00780 
00781   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00782   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00783 
00784   err=fileName.length();
00785   <span class="keywordflow">if</span> (err == 0) {
00786     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00787     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00788     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00789     <span class="keywordflow">return</span> err;
00790   }
00791 
00792   <span class="comment">// overwrite existing file ?</span>
00793   <span class="keywordflow">if</span> (!clobber) {
00794     file.open(fileName.c_str(), std::ios::in);
00795     <span class="keywordflow">if</span> (file) {
00796       file.close();
00797       text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" exist (clobber=no)"</span>;
00798       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00799       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00800     }
00801     file.clear();  <span class="comment">// clears all flags associated with the current stream</span>
00802   }
00803   <span class="comment">// open in write mode, if the file already existed it is erased</span>
00804   file.open(fileName.c_str(), std::ios::out | std::ios::trunc);
00805   <span class="keywordflow">if</span> (!file) {
00806     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be written"</span>;
00807     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00808     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00809   }
00810 
00811   <span class="keywordtype">char</span> tab=0x09, sep=<span class="charliteral">';'</span>;
00812   <span class="keywordtype">int</span> j, vecSize;
00813   <span class="keywordtype">long</span> tot=0l, totData=0l;
00814   <span class="keywordtype">bool</span> saveAll=(origin == <span class="stringliteral">"saveText"</span>);
00815   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) saveAll=<span class="keyword">true</span>;
00816 
00817   file &lt;&lt; <span class="stringliteral">"#RESOURCE=catalogAccess("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a> &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00818   file &lt;&lt; <span class="stringliteral">"#Name: "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a> &lt;&lt; std::endl;
00819   file &lt;&lt; <span class="stringliteral">"#Title:"</span> &lt;&lt; tab &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a> &lt;&lt; std::endl;
00820   file &lt;&lt; <span class="stringliteral">"#Name: "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a> &lt;&lt; std::endl;
00821   file &lt;&lt; <span class="stringliteral">"#Title:"</span> &lt;&lt; tab &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a> &lt;&lt; std::endl;
00822   tot+=5;
00823   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00824   <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00825     file &lt;&lt; <span class="stringliteral">"#Column"</span> &lt;&lt; tab &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j].m_name &lt;&lt; tab &lt;&lt; <span class="stringliteral">"("</span>
00826          &lt;&lt; m_quantities[j].m_format &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; tab;
00827     <span class="keywordflow">if</span> (m_quantities[j].m_name.length() &lt; 8) file &lt;&lt; <span class="stringliteral">"        "</span>;
00828     file &lt;&lt; m_quantities[j].m_comment &lt;&lt; tab &lt;&lt; <span class="stringliteral">"[ucd="</span>
00829          &lt;&lt; m_quantities[j].m_ucd &lt;&lt; <span class="stringliteral">"]"</span>
00830          &lt;&lt; std::endl;
00831   }
00832   file &lt;&lt; std::endl;
00833   tot+=vecSize+1;
00834   <span class="comment">// line do NOT end with separator</span>
00835   <span class="keywordflow">for</span> (j=0; j&lt;vecSize-1; j++) {
00836     file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j].m_name &lt;&lt; sep;
00837   }
00838   file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j].m_name &lt;&lt; std::endl;
00839   <span class="keywordflow">for</span> (j=0; j&lt;vecSize-1; j++) {
00840     file &lt;&lt; m_quantities[j].m_unit &lt;&lt; sep;
00841   }
00842   file &lt;&lt; m_quantities[j].m_unit &lt;&lt; std::endl;
00843   file &lt;&lt; <span class="stringliteral">"---"</span> &lt;&lt; std::endl;
00844   tot+=3;
00845   <span class="keywordflow">try</span> {
00846     <span class="keywordtype">int</span> i, len, bufSize=0;
00847     <span class="keywordtype">char</span> first, *buffer=NULL;
00848     std::vector&lt;std::string&gt; formats(vecSize, <span class="stringliteral">"%s"</span>);
00849     std::vector&lt;int&gt;         lengths(vecSize, 0);
00850     std::ostringstream sortie;
00851     <span class="keywordtype">double</span> r;
00852     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) { 
00853       text=m_quantities[i].m_format;
00854       j=text.length();
00855       <span class="keywordflow">if</span> (j == 0) <span class="keywordflow">continue</span>;
00856       first=text[0];
00857       text.erase(0, 1);
00858       j=std::atoi(text.c_str());
00859       <span class="keywordflow">if</span> (j &lt;= 0) <span class="keywordflow">continue</span>;
00860       lengths[i]=j;
00861       <span class="keywordflow">if</span> (j &gt; bufSize) {
00862         bufSize=j;
00863         buffer=(<span class="keywordtype">char</span> *)realloc(buffer, bufSize*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
00864         <span class="keywordflow">if</span> (buffer == NULL)
00865           <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"Cannot allocate string buffer"</span>);
00866       }
00867       <span class="keywordflow">switch</span> (first) {
00868       <span class="keywordflow">case</span> <span class="charliteral">'A'</span>:
00869         sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">"s"</span>;
00870         formats[i]=sortie.str();
00871         <span class="keywordflow">break</span>;
00872       <span class="keywordflow">case</span> <span class="charliteral">'I'</span>:
00873         sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">".0f"</span>;
00874         formats[i]=sortie.str();
00875         <span class="keywordflow">break</span>;
00876       <span class="keywordflow">case</span> <span class="charliteral">'F'</span>:  <span class="comment">// number of decimals is needed from CSV/TSV</span>
00877         <span class="keywordflow">if</span> (i == <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>)
00878           sortie &lt;&lt; <span class="stringliteral">"%0"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"f"</span>;
00879         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>)
00880           sortie &lt;&lt; <span class="stringliteral">"%+0"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"f"</span>;
00881         <span class="keywordflow">else</span> sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"f"</span>;
00882         formats[i]=sortie.str();
00883         <span class="keywordflow">break</span>;
00884       <span class="keywordflow">default</span> :  <span class="comment">// number of decimals is needed from CSV/TSV</span>
00885         sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"e"</span>;
00886         formats[i]=sortie.str();
00887         <span class="keywordflow">break</span>;
00888       }
00889       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string</span>
00890     }
00891     <span class="comment">// all the quantities have their sprintf format</span>
00892     <span class="comment">// IF their lengths[] is positive</span>
00893     <span class="keywordflow">if</span> (saveAll) {
00894 
00895       <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; k++) <span class="keywordflow">for</span> (j=0; j&lt;vecSize; ) {
00896         <span class="keywordflow">if</span> (m_quantities[j].m_type == Quantity::NUM) {
00897           r=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[m_quantities[j].m_index].at(k);
00898 <span class="preprocessor">#ifdef WIN32</span>
00899 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (_isnan(r)) {
00900 <span class="preprocessor">#else</span>
00901 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (std::isnan(r)) {
00902 <span class="preprocessor">#endif</span>
00903 <span class="preprocessor"></span>            len=lengths[j];
00904             <span class="keywordflow">if</span> (len == 0) len=1;
00905             file &lt;&lt; std::setw(len+1) &lt;&lt; std::setfill(<span class="charliteral">' '</span>);
00906           }
00907           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
00908             sprintf(buffer, formats[j].c_str(), r);
00909             file.write(buffer, lengths[j]);
00910           }
00911           <span class="keywordflow">else</span> file &lt;&lt; r;
00912         }
00913         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_quantities[j].m_type == Quantity::STRING) {
00914           text=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[m_quantities[j].m_index].at(k);
00915           <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
00916             sprintf(buffer, formats[j].c_str(), text.c_str());
00917             file.write(buffer, lengths[j]);
00918           }
00919           <span class="keywordflow">else</span> file &lt;&lt; text;
00920         }
00921         <span class="keywordflow">if</span> (++j == vecSize) file &lt;&lt; std::endl; <span class="keywordflow">else</span> file &lt;&lt; sep;
00922       } <span class="comment">// loop on rows and quantities</span>
00923 
00924     }
00925     <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;m_numRows; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
00926 
00927       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; ) {
00928         <span class="keywordflow">if</span> (m_quantities[j].m_type == Quantity::NUM) {
00929           r=m_numericals[m_quantities[j].m_index].at(k);
00930 <span class="preprocessor">#ifdef WIN32</span>
00931 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (_isnan((r)) {
00932 <span class="preprocessor">#else</span>
00933 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (std::isnan(r)) {
00934 <span class="preprocessor">#endif</span>
00935 <span class="preprocessor"></span>            len=lengths[j];
00936             <span class="keywordflow">if</span> (len == 0) len=1;
00937             file &lt;&lt; std::setw(len+1) &lt;&lt; std::setfill(<span class="charliteral">' '</span>);
00938           }
00939           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
00940             sprintf(buffer, formats[j].c_str(), r);
00941             file.write(buffer, lengths[j]);
00942           }
00943           <span class="keywordflow">else</span> file &lt;&lt; r;
00944         }
00945         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_quantities[j].m_type == Quantity::STRING) {
00946           text=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[m_quantities[j].m_index].at(k);
00947           <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
00948             sprintf(buffer, formats[j].c_str(), text.c_str());
00949             file.write(buffer, lengths[j]);
00950           }
00951           <span class="keywordflow">else</span> file &lt;&lt; text;
00952         }
00953         <span class="keywordflow">if</span> (++j == vecSize) file &lt;&lt; std::endl; <span class="keywordflow">else</span> file &lt;&lt; sep;
00954       }
00955       totData++;
00956       <span class="keywordflow">if</span> (totData == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>;
00957 
00958     } <span class="comment">// loop on rows and quantities, selected branch</span>
00959 
00960     <span class="keywordflow">if</span> (saveAll) tot+=m_numRows; <span class="keywordflow">else</span> tot+=<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>;
00961     <span class="keywordflow">if</span> (buffer != NULL) free(buffer);
00962   }
00963   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00964     text=std::string(<span class="stringliteral">"EXCEPTION writing rows in file: "</span>)+prob.what();
00965     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00966     <span class="keywordflow">throw</span>;
00967   }
00968   file &lt;&lt; std::endl;
00969   tot++;
00970   file.close();
00971   std::ostringstream sortie; 
00972   sortie &lt;&lt; <span class="stringliteral">"output text file is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines written)"</span>;
00973   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00974   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00975 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="catalogAccess::Catalog::dec_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::dec_deg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>inSelection</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01294">1294</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a23">catalogAccess::NO_RA_DEC</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01294                                                                             {
01295 
01296   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"dec_deg"</span>;
01297   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a> &lt; 0) {
01298     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0)
01299       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01300     <span class="keywordflow">else</span>
01301       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"missing generic DEC position quantity"</span>);
01302     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a23">NO_RA_DEC</a>;
01303   }
01304   <span class="keywordtype">int</span> num;
01305   <span class="keywordflow">if</span> (!inSelection) {
01306     num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
01307     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01308     num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_index;
01309     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(row);
01310   }
01311   <span class="keywordflow">else</span> {
01312     num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, row);
01313     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01314     <span class="keywordtype">long</span> tot=0;
01315     num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_index;
01316     <span class="comment">// first bit indicates global selection</span>
01317     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01318       <span class="keywordflow">if</span> (tot == row) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(k); <span class="keywordflow">break</span>; }
01319       tot++;
01320     }
01321     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01322   }
01323   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01324 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="catalogAccess::Catalog::deleteContent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteContent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00108">108</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01295">eraseSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>, <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>, and <a class="el" href="catalog_8h-source.html#l00588">~Catalog()</a>.
<p>
<pre class="fragment"><div>00108                             {
00109 
00110   <span class="keywordtype">int</span> vecSize, i;
00111   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00112   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00113   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
00114   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00115     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[i].clear();
00116     <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.clear();
00117   }
00118   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size();
00119   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00120     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].clear();
00121     <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.clear();
00122   }
00123   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size();
00124   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00125     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[i].clear();
00126     <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.clear();
00127   }
00128 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d0" doxytag="catalogAccess::Catalog::deleteDescription" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteDescription           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00131">131</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00382">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, and <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>.
<p>
Referenced by <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, and <a class="el" href="catalog_8h-source.html#l00588">~Catalog()</a>.
<p>
<pre class="fragment"><div>00131                                 {
00132 
00133   <a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a>=<span class="stringliteral">""</span>;
00134   <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> =<span class="stringliteral">""</span>;
00135   <a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>   =<span class="stringliteral">""</span>;
00136   <a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>    =<span class="stringliteral">""</span>;
00137   <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a> =<span class="stringliteral">""</span>;
00138   <a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>  =<span class="stringliteral">""</span>;
00139 
00140   <a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>  =<span class="stringliteral">""</span>;
00141   <a class="code" href="classcatalog_access_1_1_catalog.html#r7">m_filePos</a>   =0;
00142   <a class="code" href="classcatalog_access_1_1_catalog.html#r8">m_posErrSys</a> = -1.0;
00143   <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=1.0;  <span class="comment">// "deg" by default</span>
00144   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.clear();
00145   <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.clear();
00146 
00147   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>   =<a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00148   <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=0;
00149   <a class="code" href="classcatalog_access_1_1_catalog.html#r17">m_selection</a>=<span class="stringliteral">""</span>;
00150   <a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>=<span class="keyword">false</span>;
00151   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00152   <a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>= -1;
00153   <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> = -1;
00154   <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>= -1;
00155   <a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>=<span class="keyword">false</span>;
00156   <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.clear();
00157 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="catalogAccess::Catalog::deleteQuantities" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteQuantities           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00161">161</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>.
<p>
<pre class="fragment"><div>00161                                {
00162 
00163   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size();
00164   <span class="keywordtype">int</span>  nbA=0, nbD=0;
00165 
00166   <span class="keywordflow">if</span> (maxSize != <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()) {
00167     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"deleteQuantities"</span>,
00168              <span class="stringliteral">"problem in code, this error should not occur"</span>);
00169     <span class="keywordflow">return</span>;
00170   }
00171   <span class="comment">/* these vectors can be set if import was succesful with 0 row */</span>
00172   <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.clear();
00173   <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.clear();
00174   <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.clear();
00175 <span class="comment">//std::cout &lt;&lt; "Initial number of COL = " &lt;&lt; maxSize &lt;&lt; std::endl;</span>
00176   std::vector&lt;Quantity&gt;::iterator quantIter;
00177   quantIter=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin();
00178   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;maxSize; i++) {
00179     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>[i]) {<span class="comment">/* change the index in 2D tables */</span>
00180       <span class="keywordflow">if</span> (quantIter-&gt;m_type == Quantity::STRING) quantIter-&gt;m_index=nbA++;
00181       <span class="keywordflow">else</span> quantIter-&gt;m_index=nbD++;
00182       quantIter++;
00183     }
00184     <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.erase(quantIter);
00185   }<span class="comment">/* loop on quantities */</span>
00186   <span class="comment">/* now that index have changed, update the index shortcuts */</span>
00187   <span class="keywordflow">for</span> (nbA=0; nbA&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; nbA++) {
00188     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*nbA+1] == <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>) <span class="keywordflow">break</span>;
00189   }
00190   <a class="code" href="classcatalog_access_1_1_catalog.html#d11">setGeneric</a>(nbA);
00191 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d9" doxytag="catalogAccess::Catalog::doSelN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::doSelN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00667">667</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00769">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00807">includeN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00788">useOnlyN()</a>.
<p>
<pre class="fragment"><div>00668                                                       {
00669 
00670   std::ostringstream sortie;
00671   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_cutORed=<span class="keyword">false</span>;
00672   <span class="keywordtype">bool</span> miss;
00673   <span class="comment">// take only first 7 char to match possible generic functions</span>
00674   <span class="keywordflow">if</span> (code &amp; 1) {
00675     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_excludeList=<span class="keyword">false</span>;
00676     miss=<span class="keyword">false</span>;
00677     sortie &lt;&lt; <span class="stringliteral">"Include rows"</span>;
00678   }
00679   <span class="keywordflow">else</span> {
00680     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_excludeList=<span class="keyword">true</span>;
00681     miss=<span class="keyword">true</span>;
00682     sortie &lt;&lt; <span class="stringliteral">"Exclude rows"</span>;
00683   }
00684   <span class="keywordtype">int</span> listSize=listVal.size();
00685   <span class="comment">/* if empty list as before: exit */</span>
00686   <span class="keywordflow">if</span> (listSize == 0) {
00687     <span class="comment">// if NO list, m_cutORed has no effect (false method quicker)</span>
00688     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00689   }
00690   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code &gt; 1)
00691     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_cutORed=<span class="keyword">true</span>;
00692 
00693   <span class="keywordtype">int</span> j;
00694   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValN.clear();
00695   <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
00696      <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValN.push_back(listVal.at(j));
00697 
00698   <span class="comment">/* if no data: exit */</span>
00699   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00700 
00701   std::vector&lt;bool&gt; isSelected;
00702   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00703   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00704   <span class="keywordflow">if</span> (listSize == 0) {
00705     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling list selection (on "</span>+name+<span class="stringliteral">")"</span>);
00706     <span class="keywordflow">if</span> (!oneCriteria) {
00707       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
00708         listSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
00709         <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
00710           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
00711       }
00712       <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00713       check=<span class="keyword">false</span>;
00714       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00715     }
00716   }
00717   <span class="keywordflow">else</span> {
00718     sortie &lt;&lt; <span class="stringliteral">" with \""</span> &lt;&lt; name &lt;&lt;<span class="stringliteral">"\" around value in list ("</span>
00719            &lt;&lt; listSize &lt;&lt; <span class="stringliteral">" elements, "</span>;
00720     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_cutORed)
00721       sortie &lt;&lt; <span class="stringliteral">"ORed with cut)"</span>;
00722     <span class="keywordflow">else</span>
00723       sortie &lt;&lt; <span class="stringliteral">"ANDed with cut)"</span>;
00724     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00725   }
00726   
00727   <span class="keywordflow">if</span> (check) {
00728     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_rejectNaN,
00729          cutOR=m_quantities[index].m_cutORed;
00730     <span class="keywordtype">double</span> precis=m_quantities[index].m_precision;
00731     <span class="keywordtype">int</span>  k,
00732          pos=m_quantities[index].m_index;
00733     <span class="keywordtype">long</span> i;
00734     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00735     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00736     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00737     oneCriteria=isSelected.at(index+1);
00738     <span class="keywordflow">if</span> (oneCriteria) {
00739 
00740       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00741       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00742         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00743           check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(m_numericals[pos].at(i), index, miss, reject, precis);
00744         <span class="keywordflow">else</span>
00745           check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(m_numericals[pos].at(i), index, reject, precis);
00746         <span class="comment">// setting required bit</span>
00747         <span class="keywordflow">if</span> (check)
00748           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
00749         <span class="keywordflow">else</span>
00750           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00751         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00752       }<span class="comment">// loop on rows</span>
00753 
00754     }
00755     <span class="keywordflow">else</span> {
00756 
00757       <span class="keywordflow">for</span> (i=0; i&lt;m_numRows; i++) {
00758         <span class="comment">// required bit set to FALSE</span>
00759         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00760         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00761       }<span class="comment">// loop on rows</span>
00762 
00763     }
00764   }
00765   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00766 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d8" doxytag="catalogAccess::Catalog::doSelS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::doSelS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>exact</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01054">1054</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01140">excludeS()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01159">useOnlyS()</a>.
<p>
<pre class="fragment"><div>01055                                                                         {
01056 
01057   std::ostringstream sortie;
01058   <span class="keywordtype">bool</span> miss;
01059   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_cutORed=!exact;
01060   <span class="keywordflow">if</span> (code &amp; 1) {
01061     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_excludeList=<span class="keyword">false</span>;
01062     miss=<span class="keyword">false</span>;
01063     sortie &lt;&lt; <span class="stringliteral">"Include rows"</span>;
01064   }
01065   <span class="keywordflow">else</span> {
01066     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_excludeList=<span class="keyword">true</span>;
01067     miss=<span class="keyword">true</span>;
01068     sortie &lt;&lt; <span class="stringliteral">"Exclude rows"</span>;
01069   }
01070   <span class="keywordtype">int</span> listSize=list.size();
01071   <span class="keywordflow">if</span> ((!listSize) &amp;&amp; (!<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValS.size())) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01072   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValS.clear();
01073   <span class="keywordtype">int</span> j;
01074   int (*pfunc)(<span class="keywordtype">int</span>)=tolower; <span class="comment">// function used by transform</span>
01075   std::vector&lt;std::string&gt; myList;
01076   std::string mot;
01077   <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) {
01078     mot=list.at(j);
01079     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_listValS.push_back(mot);
01080     <span class="keywordflow">if</span> (!exact) std::transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01081     myList.push_back(mot);
01082   }
01083 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01084 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) std::cout &lt;&lt; myList[j] &lt;&lt; <span class="stringliteral">"|"</span>;
01085   std::cout &lt;&lt;<span class="stringliteral">"caseless="</span>&lt;&lt; exact &lt;&lt; std::endl;
01086 <span class="preprocessor">  #endif</span>
01087 <span class="preprocessor"></span>
01088   <span class="comment">/* if no data: exit */</span>
01089   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01090 
01091   std::vector&lt;bool&gt; isSelected;
01092   <span class="keywordtype">bool</span> check=<a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
01093   <span class="keywordtype">int</span>  k;
01094   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
01095   <span class="keywordflow">if</span> (listSize == 0) {
01096     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling list selection (on "</span>+name+<span class="stringliteral">")"</span>);
01097     <span class="keywordflow">if</span> (!check) {
01098       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
01099         listSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
01100         <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
01101       }
01102       <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
01103       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
01104     }
01105     <span class="keywordflow">else</span> {
01106       <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
01107       <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
01108         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
01109         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
01110       }
01111     }
01112     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01113   }
01114 
01115   sortie &lt;&lt; <span class="stringliteral">" with \""</span> &lt;&lt; name &lt;&lt;<span class="stringliteral">"\" string in list ("</span>
01116          &lt;&lt; listSize &lt;&lt; <span class="stringliteral">" elements, "</span>;
01117   <span class="keywordflow">if</span> (exact) sortie &lt;&lt; <span class="stringliteral">"exact match)"</span>; <span class="keywordflow">else</span> sortie &lt;&lt; <span class="stringliteral">"caseless match)"</span>; 
01118   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
01119   <span class="keywordtype">int</span>  pos=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_index;
01120   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
01121   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
01122     mot=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[pos].at(i);
01123     <span class="keywordflow">if</span> (!exact) std::transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01124     check=miss;
01125     <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) {
01126       <span class="keywordflow">if</span> (mot == myList[j]) {check=!miss; <span class="keywordflow">break</span>;}
01127     }
01128     <span class="comment">// setting required bit</span>
01129     <span class="keywordflow">if</span> (check)
01130       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
01131     <span class="keywordflow">else</span>
01132       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
01133     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
01134   }<span class="comment">// loop on rows</span>
01135 
01136   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01137 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a67" doxytag="catalogAccess::Catalog::eraseNonSelected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::eraseNonSelected           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01180">1180</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, and <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01180                               {
01181 
01182   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"eraseNonSelected"</span>;
01183   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt;= 0) {
01184     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
01185     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; 
01186   }
01187   <span class="comment">// test below avoid deleting NOTHING</span>
01188   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) {
01189     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"all rows selected, nothing done"</span>);
01190     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>; 
01191   }
01192   <span class="comment">// log if ALL is deleted</span>
01193   std::string text;
01194   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> == 0) {
01195     text=<span class="stringliteral">"no row selected, calling deleteContent()"</span>;
01196     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, text);
01197     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
01198     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01199   }
01200   <span class="keywordflow">try</span> {
01201     <span class="keywordtype">long</span> i, tot=0;
01202     <span class="keywordtype">int</span> j;
01203     <span class="keywordtype">int</span> sizeS=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size();
01204     <span class="keywordtype">int</span> sizeN=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size();
01205     <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
01206     <span class="comment">// to speed-up, will not change (avoid reading size in loop)</span>
01207 
01208     std::vector&lt;std::vector&lt;double&gt; &gt; myNum;
01209     myNum.resize(sizeN);
01210     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].assign(m_numSelRows, 0.0);
01211     std::vector&lt;std::vector&lt;std::string&gt; &gt; myStr;
01212     myStr.resize(sizeS);
01213     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].assign(m_numSelRows, <span class="stringliteral">""</span>);
01214     std::vector&lt;std::vector&lt;unsigned long&gt; &gt; myBits;
01215     myBits.resize(vecSize);
01216     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].assign(m_numSelRows, 0ul);
01217     <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
01218       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01219         <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(i);
01220         <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].at(i);
01221         <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].at(i);
01222         <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01223       }
01224     }
01225     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) {
01226       <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].insert(m_numericals[j].begin(),
01227                              myNum[j].begin(), myNum[j].end());
01228       myNum[j].clear();
01229     }
01230     myNum.clear();
01231     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) {
01232       <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].insert(m_strings[j].begin(),
01233                           myStr[j].begin(), myStr[j].end());
01234       myStr[j].clear();
01235     }
01236     myStr.clear();
01237     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)  {
01238       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].insert(m_rowIsSelected[j].begin(),
01239                                 myBits[j].begin(), myBits[j].end());
01240       myBits[j].clear();
01241     }
01242     myBits.clear();
01243 <span class="comment">/* if (!keepCriteria) {</span>
01244 <span class="comment">    for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].assign(m_numSelRows, 0);</span>
01245 <span class="comment">    vecSize=m_quantities.size();</span>
01246 <span class="comment">    for (i=0; i&lt;vecSize; i++) {</span>
01247 <span class="comment">      m_quantities.at(i).m_listValS.clear();</span>
01248 <span class="comment">      m_quantities.at(i).m_lowerCut=NO_SEL_CUT;</span>
01249 <span class="comment">      m_quantities.at(i).m_upperCut=NO_SEL_CUT;</span>
01250 <span class="comment">      m_quantities.at(i).m_listValN.clear();</span>
01251 <span class="comment">    }</span>
01252 <span class="comment">    m_selRegion=false;</span>
01253 <span class="comment">*/</span>
01254 <span class="comment">/*  THIS METHOD IS VERY VERY LONG </span>
01255 <span class="comment">    std::vector&lt; std::vector&lt;std::string&gt;::iterator &gt; stringIter;</span>
01256 <span class="comment">    std::vector&lt; std::vector&lt;double&gt;::iterator &gt; doubleIter;</span>
01257 <span class="comment">    for (j=0; j&lt;sizeS; j++) stringIter.push_back(m_strings[j].begin());</span>
01258 <span class="comment">    for (j=0; j&lt;sizeN; j++) doubleIter.push_back(m_numericals[j].begin());</span>
01259 <span class="comment">    if (keepCriteria) {</span>
01260 <span class="comment"></span>
01261 <span class="comment">      std::vector&lt; std::vector&lt;unsigned long&gt;::iterator &gt; myIter;</span>
01262 <span class="comment">      for (j=0; j&lt;vecSize; j++) myIter.push_back(m_rowIsSelected[j].begin());</span>
01263 <span class="comment">      for (i=0; i&lt;m_numRows; i++) {</span>
01264 <span class="comment">        if (!(*myIter[0] &amp; 1)) {</span>
01265 <span class="comment">          for (j=0; j&lt;sizeS; j++) m_strings[j].erase(stringIter[j]);</span>
01266 <span class="comment">          for (j=0; j&lt;sizeN; j++) m_numericals[j].erase(doubleIter[j]);</span>
01267 <span class="comment">          for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].erase(myIter[j]);</span>
01268 <span class="comment">        }</span>
01269 <span class="comment">        else {</span>
01270 <span class="comment">          for (j=0; j&lt;sizeS; j++) stringIter.at(j)++;</span>
01271 <span class="comment">          for (j=0; j&lt;sizeN; j++) doubleIter.at(j)++;</span>
01272 <span class="comment">          for (j=0; j&lt;vecSize; j++) myIter.at(j)++;</span>
01273 <span class="comment">        }</span>
01274 <span class="comment">      }</span>
01275 <span class="comment">      stringIter.clear();</span>
01276 <span class="comment">      doubleIter.clear();</span>
01277 <span class="comment">      myIter.clear();</span>
01278 <span class="comment">*/</span>
01279   }
01280   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01281     text=<span class="stringliteral">"EXCEPTION erasing m_strings, m_numericals or m_rowIsSelected: "</span>;
01282     text=text+prob.what();
01283     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01284     <span class="keywordflow">throw</span>;
01285   }
01286   std::ostringstream sortie;
01287   sortie &lt;&lt; m_numRows-<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &lt;&lt; <span class="stringliteral">" row(s) deleted"</span>;
01288   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01289   m_numRows=m_numSelRows;
01290   <span class="comment">//if (!keepCriteria) m_numSelRows=0;</span>
01291   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01292 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a68" doxytag="catalogAccess::Catalog::eraseSelected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::eraseSelected           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01295">1295</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01295                            {
01296 
01297   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"eraseSelected"</span>;
01298   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt;= 0) {
01299     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
01300     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; 
01301   }
01302   <span class="comment">// test below avoid deleting NOTHING</span>
01303   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> == 0) {
01304     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"no row selected, nothing done"</span>);
01305     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>; 
01306   }
01307   <span class="comment">// log if ALL is deleted</span>
01308   std::string text;
01309   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) {
01310     text=<span class="stringliteral">"all rows selected, calling deleteContent()"</span>;
01311     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, text);
01312     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
01313     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01314   }
01315   <span class="keywordflow">try</span> {
01316     <span class="keywordtype">long</span> i, tot=0,
01317          numRows=<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>;
01318     <span class="keywordtype">int</span> j;
01319     <span class="keywordtype">int</span> sizeS=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size();
01320     <span class="keywordtype">int</span> sizeN=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size();
01321     <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
01322     <span class="comment">// to speed-up, will not change (avoid reading size in loop)</span>
01323 
01324     std::vector&lt;std::vector&lt;double&gt; &gt; myNum;
01325     myNum.resize(sizeN);
01326     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].assign(numRows, 0.0);
01327     std::vector&lt;std::vector&lt;std::string&gt; &gt; myStr;
01328     myStr.resize(sizeS);
01329     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].assign(numRows, <span class="stringliteral">""</span>);
01330     std::vector&lt;std::vector&lt;unsigned long&gt; &gt; myBits;
01331     myBits.resize(vecSize);
01332     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].assign(numRows, 0ul);
01333     <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
01334       <span class="keywordflow">if</span> (!(<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1)) {
01335         <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(i);
01336         <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].at(i);
01337         <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].at(i);
01338         <span class="keywordflow">if</span> (++tot == numRows) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01339       }
01340     }
01341     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) {
01342       <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].insert(m_numericals[j].begin(),
01343                              myNum[j].begin(), myNum[j].end());
01344       myNum[j].clear();
01345     }
01346     myNum.clear();
01347     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) {
01348       <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].insert(m_strings[j].begin(),
01349                           myStr[j].begin(), myStr[j].end());
01350       myStr[j].clear();
01351     }
01352     myStr.clear();
01353     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)  {
01354       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].insert(m_rowIsSelected[j].begin(),
01355                                 myBits[j].begin(), myBits[j].end());
01356       myBits[j].clear();
01357     }
01358     myBits.clear();
01359 <span class="comment">/* if (!keepCriteria) {</span>
01360 <span class="comment">    for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].assign(numRows, 0);</span>
01361 <span class="comment">    vecSize=m_quantities.size();</span>
01362 <span class="comment">    for (i=0; i&lt;vecSize; i++) {</span>
01363 <span class="comment">      m_quantities.at(i).m_listValS.clear();</span>
01364 <span class="comment">      m_quantities.at(i).m_lowerCut=NO_SEL_CUT;</span>
01365 <span class="comment">      m_quantities.at(i).m_upperCut=NO_SEL_CUT;</span>
01366 <span class="comment">      m_quantities.at(i).m_listValN.clear();</span>
01367 <span class="comment">    }</span>
01368 <span class="comment">    m_selRegion=false;</span>
01369 <span class="comment">*/</span>
01370   }
01371   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01372     text=<span class="stringliteral">"EXCEPTION erasing m_strings, m_numericals or m_rowIsSelected: "</span>;
01373     text=text+prob.what();
01374     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01375     <span class="keywordflow">throw</span>;
01376   }
01377   std::ostringstream sortie;
01378   sortie &lt;&lt; m_numSelRows &lt;&lt; <span class="stringliteral">" row(s) deleted"</span>;
01379   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01380   m_numRows=m_numRows-m_numSelRows;
01381   m_numSelRows=0;
01382   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01383 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a60" doxytag="catalogAccess::Catalog::excludeN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::excludeN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00769">769</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00770                                                         {
00771 
00772   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"excludeN"</span>, <span class="keyword">true</span>);
00773   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
00774   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"excludeN"</span>, name);
00775   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00776 
00777   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00778     std::string errText;
00779     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00780     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"excludeN"</span>, errText);
00781     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00782   }
00783   done=<a class="code" href="classcatalog_access_1_1_catalog.html#d9">doSelN</a>(name, index, 0, listVal);
00784   <span class="keywordflow">return</span> done;
00785 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a58" doxytag="catalogAccess::Catalog::excludeS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::excludeS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>slist</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>exact</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01140">1140</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01141                                                                           {
01142 
01143   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"excludeS"</span>, <span class="keyword">true</span>);
01144   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
01145   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"excludeS"</span>, name);
01146   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01147 
01148   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::STRING) {  
01149     std::string errText;
01150     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01151     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"excludeS"</span>, errText);
01152     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01153   }
01154   done=<a class="code" href="classcatalog_access_1_1_catalog.html#d8">doSelS</a>(name, index, 0, list, exact);
01155   <span class="keywordflow">return</span> done;
01156 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d2" doxytag="catalogAccess::Catalog::existCriteria" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::existCriteria           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; bool &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>quantSel</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00066">66</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00332">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>.
<p>
<pre class="fragment"><div>00066                                                      {
00067 
00068   <span class="keywordtype">bool</span> all=<span class="keyword">false</span>;
00069   std::vector&lt;Quantity&gt;::const_iterator itQ;
00070   quantSel-&gt;clear();
00071   <span class="keywordflow">try</span> {
00072     <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>) quantSel-&gt;push_back(<span class="keyword">false</span>);
00073     <span class="keywordflow">else</span> { all=<span class="keyword">true</span>;  quantSel-&gt;push_back(<span class="keyword">true</span>); }
00074     <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.end(); itQ++) {
00075 
00076       <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::STRING) {
00077         <span class="keywordflow">if</span> (itQ-&gt;m_listValS.size() &gt; 0) {
00078           all=<span class="keyword">true</span>;
00079           quantSel-&gt;push_back(<span class="keyword">true</span>);
00080         }
00081         <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00082       }
00083 
00084       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00085         <span class="keywordflow">if</span> ( (itQ-&gt;m_lowerCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>)||(itQ-&gt;m_upperCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>)
00086             || (itQ-&gt;m_listValN.size() &gt; 0) ) {
00087           all=<span class="keyword">true</span>;
00088           quantSel-&gt;push_back(<span class="keyword">true</span>);
00089         }
00090         <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00091       }
00092 
00093       <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00094       <span class="comment">// VECTOR quantity are selected by the quantities in m_vectorQs</span>
00095 
00096     }<span class="comment">// loop on quantities</span>
00097   }
00098   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00099     std::string errText=std::string(<span class="stringliteral">"EXCEPTION on boolean vector: "</span>)+err.what();
00100     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private existCriteria"</span>, errText);
00101     <span class="keywordflow">throw</span>;
00102   }
00103   <span class="keywordflow">return</span> all;
00104 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="catalogAccess::Catalog::getCatalogTitles" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getCatalogTitles           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>titles</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00618">618</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, and <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00618                                                            {
00619 
00620   <span class="keywordtype">int</span> nb=titles-&gt;size();
00621   <span class="keywordflow">if</span> (nb == 0) titles-&gt;push_back(m_code);
00622   <span class="keywordflow">else</span> (*titles)[0]=<a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a>;
00623   <span class="keywordflow">if</span> (nb &gt; 1) (*titles)[1]=<a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a>;       <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00624   <span class="keywordflow">if</span> (nb &gt; 2) (*titles)[2]=<a class="code" href="classcatalog_access_1_1_catalog.html#r2">m_catName</a>;   <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00625   <span class="keywordflow">if</span> (nb &gt; 3) (*titles)[3]=<a class="code" href="classcatalog_access_1_1_catalog.html#r3">m_catRef</a>;    <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00626   <span class="keywordflow">if</span> (nb &gt; 4) (*titles)[4]=<a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00627   <span class="keywordflow">if</span> (nb &gt; 5) (*titles)[5]=<a class="code" href="classcatalog_access_1_1_catalog.html#r5">m_tableRef</a>;  <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00628 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="e0" doxytag="catalogAccess::Catalog::getCatList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getCatList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>names</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>isCode</em> = <code>true</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00329">329</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00329                                                                        {
00330 
00331   names-&gt;clear();
00332 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00333 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG number of known catalogs: "</span> &lt;&lt; <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>
00334             &lt;&lt; std::endl;
00335 <span class="preprocessor">  #endif</span>
00336 <span class="preprocessor"></span>  std::string text;
00337   <span class="keywordtype">int</span> j=1;
00338   <span class="keywordflow">if</span> (isCode) j=0;
00339   <span class="keywordflow">try</span> {
00340     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00341       text=Catalog::s_CatalogList[2*i+j]; <span class="comment">/* convert C string to C++ string */</span>
00342       names-&gt;push_back(text);
00343     }
00344   }
00345   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00346     text=std::string(<span class="stringliteral">"EXCEPTION filling names: "</span>)+prob.what();
00347     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"getCatList"</span>, text);
00348     <span class="keywordflow">throw</span>;
00349   }
00350 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="catalogAccess::Catalog::getMaxNumRows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getMaxNumRows           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname" nowrap> <em>nrows</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em> = <code>"1"</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00388">388</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="namespacecatalog_access.html#a37a21">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00030">MAX_LINE</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>00389                                                 {
00390 
00391   <span class="keywordtype">int</span> i, err;
00392   std::string text, origin=<span class="stringliteral">"getMaxNumRows"</span>;
00393   *nrows=0;
00394   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">false</span>);
00395   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00396 
00397   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00398   i=fileName.length();
00399   <span class="keywordflow">if</span> (i == 0) {
00400     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00401     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00402     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00403     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00404     <span class="keywordflow">return</span> err;
00405   }
00406   std::fstream myFile (fileName.c_str(), std::ios::in);
00407   <span class="comment">// file can be opened ?</span>
00408   <span class="keywordflow">if</span> ( !myFile.is_open() ) {
00409     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be opened"</span>;
00410     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00411     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00412     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00413     <span class="keywordflow">return</span> err;
00414   }
00415 <span class="comment">/*  DIR *testDir=opendir(fileName.c_str());</span>
00416 <span class="comment">  if (testDir != NULL) {</span>
00417 <span class="comment">    closedir(testDir);</span>
00418 <span class="comment">    text=": FILENAME \""+fileName+"\" is a directory";</span>
00419 <span class="comment">    printErr(origin, text);</span>
00420 <span class="comment">    err=BAD_FILETYPE;</span>
00421 <span class="comment">    m_numRows=err;</span>
00422 <span class="comment">    return err;</span>
00423 <span class="comment">  }*/</span>
00424   myFile.close();
00425   std::ostringstream sortie;
00426   <span class="keywordtype">bool</span>  myTest;
00427   <span class="keyword">const</span> Extension *myEXT = 0;
00428   <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
00429   <span class="keywordflow">try</span> {
00430     myEXT=IFileSvc::instance().readExtension(fileName, ext);
00431   }
00432   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00433     err=x.code();
00434     <span class="keywordflow">if</span> (err == 1) {
00435       <span class="comment">// This non-cfitsio error number means the file does not exist</span>
00436       <span class="comment">// or is not a table, or is not in either Root nor Fits format. </span>
00437       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00438 <span class="comment">/*      printWarn(origin, "FILENAME is NOT fits");*/</span>
00439     }
00440     <span class="keywordflow">else</span> {
00441       <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
00442       <span class="comment">// which is in FITS format but has some sort of format error.</span>
00443       sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
00444       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00445       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00446       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00447       <span class="keyword">delete</span> myEXT;
00448       <span class="keywordflow">return</span> err;
00449     }
00450   }
00451   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) myTest=myEXT-&gt;isTable();
00452   <span class="keyword">delete</span> myEXT;
00453   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00454  
00455     <span class="keywordflow">if</span> (!myTest) {
00456       text=<span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
00457       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00458       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00459       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00460       <span class="keywordflow">return</span> err;
00461     }
00462     <span class="keyword">const</span> Table *myDOL = 0;
00463     <span class="keywordflow">try</span> {
00464       myDOL=IFileSvc::instance().readTable(fileName, ext);
00465       *nrows=myDOL-&gt;getNumRecords();
00466     }
00467     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00468       sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; err;
00469       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00470       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00471       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00472       <span class="keyword">delete</span> myDOL;
00473       <span class="keywordflow">return</span> err;
00474     }
00475     <span class="keyword">delete</span> myDOL;
00476 
00477   }
00478   <span class="keywordflow">else</span> { <span class="comment">// (err == BAD_FITS)</span>
00479 
00480     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00481     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of lines read</span>
00482     <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>; <span class="comment">// true if lines ends with CR (on windows)</span>
00483     <span class="keywordtype">int</span> what=0;        <span class="comment">// 0 for unkwown, &gt;0 for csv, &lt;0 to tsv</span>
00484                        <span class="comment">// fabs()=1 for standard, =2 for meta QUERY</span>
00485 
00486     myFile.open(fileName.c_str(), std::ios::in);
00487     err=<a class="code" href="classcatalog_access_1_1_catalog.html#d16">analyze_head</a>(&amp;tot, &amp;what, &amp;testCR, &amp;myFile);
00488     <span class="keywordflow">if</span> (!tot) {
00489       text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" is fits without extension[] specified"</span>;
00490       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00491       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00492       <span class="comment">// in case, for strange reason, file.good() fails at first time</span>
00493     }
00494     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00495       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is empty or "</span>
00496              &lt;&lt; <span class="stringliteral">"has unknown structure (stopped step "</span> &lt;&lt; -1*err &lt;&lt; <span class="stringliteral">")"</span>;
00497       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00498       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00499       <span class="keywordflow">if</span> (err == 0) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>; <span class="comment">/* nothing is read */</span>
00500       <span class="keywordflow">else</span> err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>; <span class="comment">/* can search if catalog name exist */</span>
00501     }
00502     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == 2) {
00503       sortie &lt;&lt; <span class="stringliteral">"closing input META file ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>;
00504       sortie &lt;&lt; <span class="stringliteral">" rows in whole CDS catalog)"</span>;
00505       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00506     }
00507     <span class="keywordflow">else</span> {
00508       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> refRow=0ul;
00509       <span class="keywordtype">long</span> maxRows=0l;
00510       <span class="comment">// get columns description and units, data</span>
00511       err=<a class="code" href="classcatalog_access_1_1_catalog.html#d17">analyze_body</a>(&amp;tot, &amp;what, testCR, <span class="keyword">true</span>, &amp;myFile, &amp;maxRows);
00512       <span class="comment">// only possible error: found &lt; 4</span>
00513       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00514         <span class="comment">// decription is read until separation line starting with ---</span>
00515         <span class="keywordtype">char</span> line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00516         <span class="keywordtype">int</span>  posC,
00517              maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1; <span class="comment">// to avoid computation each line</span>
00518         refRow=tot+1;
00519         <span class="keywordflow">while</span> ( myFile.good() ) {
00520           myFile.getline(line, MAX_LINE);
00521           tot++;
00522           i=strlen(line);
00523           <span class="keywordflow">if</span> (i &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// in any case, stop on empty string contrary to</span>
00524                             <span class="comment">//  load() which continues, skipping lines</span>
00525           <span class="comment">// string max size is MAX_LINE-1;</span>
00526           <span class="keywordflow">if</span> (i &gt;= maxLine) {
00527             sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
00528                    &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
00529             <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00530             sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00531             err=<a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>;
00532             <span class="keywordflow">break</span>;
00533           }
00534           <span class="comment">//if (testCR) line[--i]='\0';</span>
00535           posC=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
00536           <span class="keywordflow">if</span> (posC == 0) {
00537             <span class="comment">// should not happen, normally preceded by empty lines</span>
00538             sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
00539             <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00540             sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00541             err=<a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00542             <span class="keywordflow">break</span>;
00543           }
00544         }
00545         <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>) err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00546       }<span class="comment">// analyze_body() is OK</span>
00547  
00548       <span class="keywordflow">if</span> ((err &lt; IS_OK) &amp;&amp; (err &gt;= -3)) {
00549         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName
00550             &lt;&lt; <span class="stringliteral">"\" has unknown type (stopped step "</span> &lt;&lt; 5-1*err &lt;&lt; <span class="stringliteral">")"</span>;
00551         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00552         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00553         err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00554       }
00555       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) *nrows=tot-refRow;
00556       sortie &lt;&lt; <span class="stringliteral">"closing input text file: "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines read"</span>;
00557       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00558     }<span class="comment">// analyze_head() is OK</span>
00559     myFile.close();
00560 
00561   }<span class="comment">// file is read</span>
00562 
00563   <a class="code" href="classcatalog_access_1_1_catalog.html#d0">deleteDescription</a>();
00564   <span class="keywordflow">return</span> err;
00565 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="catalogAccess::Catalog::getMaxNumRowsWeb" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getMaxNumRowsWeb           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname" nowrap> <em>nrows</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>catName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>urlCode</em> = <code>"cds"</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00568">568</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a22">catalogAccess::BAD_URL</a>, <a class="el" href="catalog_8h-source.html#l00622">checkCatName()</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
<pre class="fragment"><div>00569                                                        {
00570 
00571   <span class="keywordtype">int</span> i, err;
00572   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00573   std::string web, text, origin=<span class="stringliteral">"getMaxNumRowsWeb"</span>;
00574   *nrows=0;
00575   err=<a class="code" href="namespacecatalog_access.html#a37a22">BAD_URL</a>;
00576   <span class="keywordflow">if</span> (urlCode.length() == 0) {
00577     text=<span class="stringliteral">": CODE for URL (web http address) is empty"</span>;
00578     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00579     <span class="keywordflow">return</span> err;
00580   }
00581   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00582     text=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00583     pos=text.find(<span class="charliteral">' '</span>);
00584     <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">continue</span>;
00585     <span class="keywordflow">if</span> (text.substr(0, pos) == urlCode) <span class="keywordflow">break</span>;
00586   }
00587   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a2">MAX_URL</a>) {
00588     text=<span class="stringliteral">": CODE for URL (web http address) do not exist"</span>;
00589     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00590     <span class="keywordflow">return</span> err;
00591   }
00592   pos=text.rfind(<span class="charliteral">' '</span>);
00593   <span class="keywordflow">if</span> (pos == std::string::npos) web=text;
00594   <span class="keywordflow">else</span> web=text.substr(pos+1, text.length()-pos);
00595 
00596   <span class="keywordtype">int</span> iCat=<a class="code" href="classcatalog_access_1_1_catalog.html#d25">checkCatName</a>(origin, catName);
00597   <span class="keywordflow">if</span> (iCat &lt; 0) <span class="keywordflow">return</span> iCat;
00598 
00599 <span class="comment">/* IS IT REALLY NEEDED ?</span>
00600 <span class="comment">  err=checkImport(origin, false);</span>
00601 <span class="comment">  if (err &lt; IS_VOID) return err;</span>
00602 <span class="comment">*/</span>
00603 <span class="comment">/* now, ASCII query must be created</span>
00604 <span class="comment">  and sent, using CDS package to given URL</span>
00605 <span class="comment">*/</span>
00606   err=-9;
00607   text=<span class="stringliteral">"Web query not implemented"</span>;
00608   <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00609 
00610   <span class="keywordflow">return</span> err;
00611 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="catalogAccess::Catalog::getNameB" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameB           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01408">1408</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
<pre class="fragment"><div>01408                             {
01409   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameB"</span>;
01410   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
01411   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01412   <span class="keywordtype">int</span> i;
01413   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01414     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01415         (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_ucd == Catalog::s_genericB))
01416       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_name;
01417   }
01418   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01419 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="catalogAccess::Catalog::getNameDEC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameDEC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01375">1375</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01375                               {
01376   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a> &lt; 0) {
01377     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0)
01378       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameDEC"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01379     <span class="keywordflow">else</span>
01380       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameDEC"</span>, <span class="stringliteral">"missing generic DEC position quantity"</span>);
01381     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01382   }
01383   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_name;
01384 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="catalogAccess::Catalog::getNameL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameL           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01396">1396</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
<pre class="fragment"><div>01396                             {
01397   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameL"</span>;
01398   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
01399   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01400   <span class="keywordtype">int</span> i;
01401   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01402     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01403         (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_ucd == Catalog::s_genericL))
01404       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_name;
01405   }
01406   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01407 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="catalogAccess::Catalog::getNameObjName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameObjName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01421">1421</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
<pre class="fragment"><div>01421                                   {
01422   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameObjName"</span>;
01423   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
01424   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01425   <span class="keywordtype">int</span> i;
01426   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01427     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01428         (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_type == Quantity::STRING))
01429       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_name;
01430   }
01431   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01432 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="catalogAccess::Catalog::getNamePosErr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNamePosErr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01385">1385</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01385                                  {
01386   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>&lt; 0) {
01387     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0)
01388       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNamePosErr"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01389     <span class="keywordflow">else</span>
01390       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNamePosErr"</span>, <span class="stringliteral">"missing generic position error quantity"</span>);
01391     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01392   }
01393   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>].m_name;
01394 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="catalogAccess::Catalog::getNameRA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameRA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01365">1365</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01365                              {
01366   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> &lt; 0) {
01367     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0)
01368       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameRA"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01369     <span class="keywordflow">else</span>
01370       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameRA"</span>, <span class="stringliteral">"missing generic RA position quantity"</span>);
01371     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01372   }
01373   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_name;
01374 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="catalogAccess::Catalog::getNumRows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getNumRows           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>nrows</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00774">774</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00774                                     {
00775 
00776   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0) *nrows=0;
00777   <span class="keywordflow">else</span> *nrows=<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
00778 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="catalogAccess::Catalog::getNumSelRows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getNumSelRows           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>nrows</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00998">998</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00998                                        {
00999 
01000  *nrows=<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>;
01001 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="catalogAccess::Catalog::getNValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getNValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00805">805</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00806                                         {
00807 
00808   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNValue"</span>;
00809   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
00810   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00811   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00812   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00813   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::NUM) {  
00814     std::string errText;
00815     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00816     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00817     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00818   }
00819   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00820 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00821 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00822 <span class="preprocessor">  #endif</span>
00823 <span class="preprocessor"></span>  *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(row);
00824   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00825 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="catalogAccess::Catalog::getQuantityDescription" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityDescription           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>myQuantities</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00636">636</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00636                                                                      {
00637 
00638   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"getQuantityDescription"</span>, <span class="keyword">true</span>);
00639   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00640     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getQuantityDescription"</span>, <span class="stringliteral">"returning unchanged vector."</span>);
00641     <span class="keywordflow">return</span> quantSize;
00642   }
00643   *myQuantities=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>;
00644   <span class="keywordflow">return</span> quantSize;
00645 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="catalogAccess::Catalog::getQuantityNames" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityNames           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>names</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00649">649</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00649                                                          {
00650 
00651   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityNames"</span>;
00652   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00653   names-&gt;clear();
00654   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00655     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00656     <span class="keywordflow">return</span> quantSize;
00657   }
00658   <span class="keywordflow">try</span> {
00659     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00660       names-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(i).m_name);
00661   }
00662   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00663     std::string errText;
00664     errText=std::string(<span class="stringliteral">"EXCEPTION on names: "</span>)+err.what();
00665     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00666     <span class="keywordflow">throw</span>;
00667   }
00668   <span class="keywordflow">return</span> quantSize;
00669 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="catalogAccess::Catalog::getQuantityTypes" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityTypes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html#w3">Quantity::QuantityType</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>types</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00718">718</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>00718                                                                     {
00719 
00720   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityTypes"</span>;
00721   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00722   types-&gt;clear();
00723   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00724     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00725     <span class="keywordflow">return</span> quantSize;
00726   } 
00727   <span class="keywordflow">try</span> {
00728     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00729       types-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(i).m_type);
00730   }
00731   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00732     std::string errText;
00733     errText=std::string(<span class="stringliteral">"EXCEPTION on types: "</span>)+err.what();
00734     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00735     <span class="keywordflow">throw</span>;
00736   }
00737   <span class="keywordflow">return</span> quantSize;
00738 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="catalogAccess::Catalog::getQuantityUCDs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityUCDs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ucds</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00695">695</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>00695                                                         {
00696 
00697   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityUCDs"</span>;
00698   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00699   ucds-&gt;clear();
00700   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00701     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00702     <span class="keywordflow">return</span> quantSize;
00703   } 
00704   <span class="keywordflow">try</span> {
00705     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00706       ucds-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(i).m_ucd);
00707   }
00708   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00709     std::string errText;
00710     errText=std::string(<span class="stringliteral">"EXCEPTION on ucds: "</span>)+err.what();
00711     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00712     <span class="keywordflow">throw</span>;
00713   }
00714   <span class="keywordflow">return</span> quantSize;
00715 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="catalogAccess::Catalog::getQuantityUnits" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityUnits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>units</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00672">672</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>00672                                                          {
00673 
00674   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityUnits"</span>;
00675   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00676   units-&gt;clear();
00677   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00678     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00679     <span class="keywordflow">return</span> quantSize;
00680   } 
00681   <span class="keywordflow">try</span> {
00682     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00683       units-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(i).m_unit);
00684   }
00685   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00686     std::string errText;
00687     errText=std::string(<span class="stringliteral">"EXCEPTION on units: "</span>)+err.what();
00688     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00689     <span class="keywordflow">throw</span>;
00690   }
00691   <span class="keywordflow">return</span> quantSize;
00692 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="catalogAccess::Catalog::getRAMsize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::getRAMsize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap> <em>numRows</em> = <code>44000</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>writeLog</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00164">164</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00739">importWeb()</a>.
<p>
<pre class="fragment"><div>00164                                                                 {
00165 
00166   std::string mot, text;
00167   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00168   <span class="keywordflow">if</span> (quantSize == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00169 
00170   <span class="keywordtype">int</span> nD=0, nS=0, nchar=0;
00171   <span class="keywordtype">int</span> i, j;
00172   std::vector&lt;Quantity&gt;::iterator itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin();
00173   <span class="keywordflow">for</span> (; itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.end(); ++itQ) {
00174     <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) nD++;
00175     <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (itQ-&gt;m_type == Quantity::STRING) {
00176       nS++;
00177       text=itQ-&gt;m_format;
00178       i=text.length();
00179       <span class="keywordflow">if</span> (i &gt; 1) {
00180         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> == <span class="stringliteral">"CDS"</span>) text.erase(0, 1);
00181         <span class="keywordflow">else</span> text.erase(i-1);
00182         j=std::atoi(text.c_str());
00183         <span class="keywordflow">if</span> (j &gt; 0) nchar+=j;
00184       }
00185     }
00186   }
00187   <span class="keywordtype">char</span> buffer[50];
00188   <span class="keywordtype">long</span> sizeD=nD*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*numRows;
00189   <span class="keywordtype">long</span> sizeS=nchar*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*numRows;
00190   i=1+(quantSize+1)/(<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8);
00191   <span class="keywordtype">long</span> sizeB=i*<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*numRows;
00192   <span class="keywordflow">if</span> (writeLog &amp;&amp; (<a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a> &gt; 0)) {
00193     sprintf(buffer, <span class="stringliteral">"%6ld"</span>, m_numOriRows);
00194     mot=buffer; <span class="comment">/* convert C string to C++ string */</span>
00195     text=<span class="stringliteral">"Original whole catalog number of rows = "</span>+mot;
00196     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
00197   }
00198   <span class="keywordflow">if</span> (numRows &lt;= 0) <span class="keywordflow">return</span> 0;
00199   <span class="keywordflow">if</span> (writeLog) {
00200     sprintf(buffer, <span class="stringliteral">"%6ld"</span>, numRows);
00201     mot=buffer; <span class="comment">/* convert C string to C++ string */</span>
00202     text=<span class="stringliteral">"Needed RAM space (MB) for "</span>+mot;
00203     sprintf(buffer, <span class="stringliteral">"%5.1f"</span>, (sizeD+sizeS+sizeB)/(1024.*1024.));
00204     mot=buffer;
00205     text=text+<span class="stringliteral">" data rows = "</span>+mot+<span class="stringliteral">"\n"</span>;
00206     sprintf(buffer, <span class="stringliteral">"%5.0f kB for numericals (%3d double per row)"</span>,
00207                    sizeD/1024., nD);
00208     mot=buffer;
00209     text=text+mot+<span class="stringliteral">"\n"</span>;
00210     sprintf(buffer, <span class="stringliteral">"%5.0f kB for %2d strings (%3d char per row)"</span>,
00211                    sizeS/1024., nS, nchar);
00212     mot=buffer;
00213     text=text+mot+<span class="stringliteral">"\n"</span>;
00214     sprintf(buffer, <span class="stringliteral">"%5.0f kB for select bits (%2d long per row)"</span>,
00215                    sizeB/1024., i);
00216     mot=buffer;
00217     text=text+mot;
00218     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
00219   }
00220   <span class="keywordflow">return</span> (sizeD+sizeS+sizeB);
00221 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="catalogAccess::Catalog::getSelNValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelNValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>srow</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01033">1033</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01034                                            {
01035 
01036   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelNValue"</span>;
01037   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, srow);
01038   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01039   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01040   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01041   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01042   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::NUM) {  
01043     std::string errText;
01044     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01045     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01046     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01047   }
01048   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01049   <span class="keywordtype">long</span> tot=0;
01050   <span class="comment">// first bit indicates global selection</span>
01051   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01052     <span class="keywordflow">if</span> (tot == srow) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01053     tot++;
01054     <span class="comment">//if (tot == m_numSelRows) break; should not happen</span>
01055   }
01056   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01057   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01058 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="catalogAccess::Catalog::getSelStatError" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelStatError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>srow</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realValStat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01065">1065</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01066                                                   {
01067 
01068   *realValStat = -1.0;
01069   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelStatError"</span>;
01070   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, srow);
01071   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01072   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01073   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01074   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01075   std::string statName=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_statError;
01076   <span class="keywordflow">if</span> (statName.empty()) {;
01077     statName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no statistical error"</span>;
01078     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, statName);
01079     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
01080   }
01081   num=checkQuant_name(origin, statName);
01082   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01083   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01084 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01085 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM STAT index = "</span> &lt;&lt; num &lt;&lt; std::endl;
01086 <span class="preprocessor">  #endif</span>
01087 <span class="preprocessor"></span>  <span class="keywordtype">long</span> tot=0;
01088   <span class="comment">// first bit indicates global selection</span>
01089   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01090     <span class="keywordflow">if</span> (tot == srow) { *realValStat=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01091     tot++;
01092   }
01093   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01094   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01095 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="catalogAccess::Catalog::getSelSValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>srow</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap> <em>stringVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01005">1005</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01006                                                 {
01007 
01008   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSValue"</span>;
01009   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, srow);
01010   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01011   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01012   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01013   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01014   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
01015     std::string errText;
01016     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01017     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01018     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01019   }
01020   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01021   <span class="keywordtype">long</span> tot=0;
01022   <span class="comment">// first bit indicates global selection</span>
01023   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01024     <span class="keywordflow">if</span> (tot == srow) { *stringVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[num].at(i); <span class="keywordflow">break</span>; }
01025     tot++;
01026     <span class="comment">//if (tot == m_numSelRows) break; should not happen</span>
01027   }
01028   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01029   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01030 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="catalogAccess::Catalog::getSelSValues" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSValues           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>values</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01138">1138</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01139                                                          {
01140 
01141   values-&gt;clear();
01142   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSValues"</span>;
01143   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, 0);
01144   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01145   <span class="comment">// above test avoid searching when no row is selected</span>
01146   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01147   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01148   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
01149     std::string errText;
01150     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01151     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01152     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01153   }
01154   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01155   std::string text;
01156   <span class="keywordflow">try</span> {
01157     <span class="keywordtype">long</span> j, max=0, tot=0;
01158     <span class="comment">// first bit indicates global selection</span>
01159     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01160       text=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[num].at(i);
01161       <span class="keywordflow">if</span> (max == 0) {values-&gt;assign(1, text); max++;}
01162       <span class="keywordflow">else</span> {
01163         <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (values-&gt;at(j) == text) <span class="keywordflow">break</span>;
01164         <span class="keywordflow">if</span> (j == max) {values-&gt;push_back(text); max++;}
01165       }
01166       <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01167     }
01168   }
01169   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
01170     text=std::string(<span class="stringliteral">"EXCEPTION on values: "</span>)+err.what();
01171     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01172     <span class="keywordflow">throw</span>;
01173   }
01174   <span class="keywordflow">return</span> values-&gt;size();
01175 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="catalogAccess::Catalog::getSelSysError" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSysError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>srow</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realValSys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01098">1098</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01099                                                  {
01100 
01101   *realValSys = -1.0;
01102   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSysError"</span>;
01103   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, srow);
01104   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01105   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01106   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01107   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01108   std::string sysName=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_sysError;
01109   <span class="keywordflow">if</span> (sysName.empty()) {;
01110     sysName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no systematic error"</span>;
01111     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sysName);
01112     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
01113   }
01114   num=checkQuant_name(origin, sysName);
01115   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01116   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01117 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01118 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM SYS. index = "</span> &lt;&lt; num &lt;&lt; std::endl;
01119 <span class="preprocessor">  #endif</span>
01120 <span class="preprocessor"></span>  <span class="keywordtype">long</span> tot=0;
01121   <span class="comment">// first bit indicates global selection</span>
01122   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01123     <span class="keywordflow">if</span> (tot == srow) { *realValSys=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01124     tot++;
01125   }
01126   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01127   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01128 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="catalogAccess::Catalog::getStatError" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getStatError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realValStat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00832">832</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00833                                                {
00834 
00835   *realValStat = -1.0;
00836   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getStatError"</span>;
00837   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
00838   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00839   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00840   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00841   std::string statName=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_statError;
00842   <span class="keywordflow">if</span> (statName.empty()) {;
00843     statName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no statistical error"</span>;
00844     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, statName);
00845     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
00846   }
00847   num=checkQuant_name(origin, statName);
00848   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00849   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00850 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00851 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM STAT index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00852 <span class="preprocessor">  #endif</span>
00853 <span class="preprocessor"></span>  *realValStat=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(row);
00854   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00855 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="catalogAccess::Catalog::getStatErrorName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getStatErrorName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap> <em>statErrName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00742">742</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00743                                                       {
00744 
00745   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"getStatErrorName"</span>, <span class="keyword">true</span>);
00746   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00747   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"getStatErrorName"</span>, name);
00748   <span class="keywordflow">if</span> (quantSize &lt; 0) <span class="keywordflow">return</span> quantSize;
00749   *statErrName=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(quantSize).m_statError;
00750   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00751 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="catalogAccess::Catalog::getSValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap> <em>stringVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00782">782</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00783                                              {
00784 
00785   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSValue"</span>;
00786   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
00787   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00788   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00789   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00790   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00791     std::string errText;
00792     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00793     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00794     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00795   }
00796   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00797 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00798 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG STRING index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00799 <span class="preprocessor">  #endif</span>
00800 <span class="preprocessor"></span>  *stringVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[num].at(row);
00801   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00802 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="catalogAccess::Catalog::getSValues" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSValues           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>values</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00892">892</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00893                                                       {
00894 
00895   values-&gt;clear();
00896   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSValues"</span>;
00897   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, 0);
00898   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00899   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00900   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00901   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00902     std::string errText;
00903     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00904     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00905     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00906   }
00907   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00908   std::string text;
00909   <span class="keywordflow">try</span> {
00910     values-&gt;assign(1, m_strings[num].at(0));
00911     <span class="keywordtype">long</span> i, j, max;
00912     <span class="keywordflow">for</span> (i=1; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00913       text=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[num].at(i);
00914       max=values-&gt;size();
00915       <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (values-&gt;at(j) == text) <span class="keywordflow">break</span>;
00916       <span class="keywordflow">if</span> (j == max) values-&gt;push_back(text);
00917     }
00918   }
00919   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00920     text=std::string(<span class="stringliteral">"EXCEPTION on values: "</span>)+err.what();
00921     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00922     <span class="keywordflow">throw</span>;
00923   }
00924   <span class="keywordflow">return</span> values-&gt;size();
00925 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="catalogAccess::Catalog::getSysError" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSysError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realValSys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00858">858</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00859                                                {
00860 
00861   *realValSys = -1.0;
00862   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSysError"</span>;
00863   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
00864   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00865   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00866   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00867   std::string sysName=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_sysError;
00868   <span class="keywordflow">if</span> (sysName.empty()) {
00869     sysName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no systematic error"</span>;
00870     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sysName);
00871     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
00872   }
00873   num=checkQuant_name(origin, sysName);
00874   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00875   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00876 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00877 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM SYS. index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00878 <span class="preprocessor">  #endif</span>
00879 <span class="preprocessor"></span>  *realValSys=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(row);
00880   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00881 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="catalogAccess::Catalog::getSysErrorName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSysErrorName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap> <em>sysErrName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00754">754</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00755                                                     {
00756 
00757   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"getSysErrorName"</span>, <span class="keyword">true</span>);
00758   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00759   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"getSysErrorName"</span>, name);
00760   <span class="keywordflow">if</span> (quantSize &lt; 0) <span class="keywordflow">return</span> quantSize;
00761   *sysErrName=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(quantSize).m_sysError;
00762   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00763 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="catalogAccess::Catalog::getWebList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getWebList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>names</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>isCode</em> = <code>true</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00353">353</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00029">MAX_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00353                                                                        {
00354 
00355   names-&gt;clear();
00356 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00357 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG number of web sites: "</span> &lt;&lt; <a class="code" href="catalog_8h.html#a2">MAX_URL</a>
00358             &lt;&lt; std::endl;
00359 <span class="preprocessor">  #endif</span>
00360 <span class="preprocessor"></span>  std::string text;
00361   <span class="keywordflow">try</span> {
00362     std::string s;
00363     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00364     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00365       s=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00366       <span class="keywordflow">if</span> (isCode) {
00367         pos=s.find(<span class="charliteral">' '</span>);
00368         <span class="keywordflow">if</span> (pos == std::string::npos) text=<span class="stringliteral">""</span>;
00369         <span class="keywordflow">else</span> text=s.substr(0, pos);
00370       }
00371       <span class="keywordflow">else</span> {
00372         pos=s.rfind(<span class="charliteral">' '</span>);
00373         <span class="keywordflow">if</span> (pos == std::string::npos) text=s;
00374         <span class="keywordflow">else</span> text=s.substr(pos+1, s.length()-pos);
00375       }
00376       names-&gt;push_back(text);
00377     }
00378   }
00379   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00380     text=std::string(<span class="stringliteral">"EXCEPTION filling names: "</span>)+prob.what();
00381     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"getWebList"</span>, text);
00382     <span class="keywordflow">throw</span>;
00383   }
00384 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="catalogAccess::Catalog::import" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::import           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em> = <code>"1"</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00733">733</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00734                                          {
00735   <span class="keywordtype">int</span> err;
00736   <span class="keywordtype">long</span> maxR=maxRows;
00737   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"import"</span>, <span class="keyword">false</span>);
00738   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00739 
00740   <span class="keywordflow">if</span> (maxR &lt;= 0) {
00741     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"import"</span>, <span class="stringliteral">"trying to get whole catalog file"</span>);
00742     maxR=0;
00743   }
00744 
00745   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d18">load</a>(fileName, ext, <span class="keyword">false</span>, &amp;maxR);
00746   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) <span class="keywordflow">return</span> err;
00747   <a class="code" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a>(m_numRows, <span class="keyword">true</span>);
00748   <span class="keywordflow">try</span> {
00749     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; maxR) {
00750       <span class="keywordtype">int</span> i;
00751       err=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size();
00752       <span class="comment">// erase unused memory  printf("ERASING\n");</span>
00753       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[i].resize(m_numRows);
00754       err=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size();
00755       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].resize(m_numRows);
00756     }
00757     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()+2;
00758     <span class="comment">// number of required bits including global and region</span>
00759     err=1+(err-1)/(<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8);
00760     <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.resize(err);
00761 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
00762 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
00763               &lt;&lt; err &lt;&lt; std::endl;
00764 <span class="preprocessor">    #endif</span>
00765 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>)
00766       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
00767     <span class="comment">// above lines can be commented to test the try catch mechanism</span>
00768   }
00769   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00770     std::string text;
00771     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
00772     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"import"</span>, text);
00773     <span class="keywordflow">throw</span>;
00774   }
00775   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
00776 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="catalogAccess::Catalog::importDescription" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importDescription           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em> = <code>"1"</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00718">718</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00719                                                     {
00720   <span class="keywordtype">int</span> err;
00721   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"importDescription"</span>, <span class="keyword">false</span>);
00722   <span class="comment">// must be called before load() which set m_numRows to 0</span>
00723   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00724 
00725   <span class="keywordtype">long</span> maxRows=0l;
00726   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d18">load</a>(fileName, ext, <span class="keyword">true</span>, &amp;maxRows);
00727   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) <span class="keywordflow">return</span> err;
00728 
00729   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00730 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="catalogAccess::Catalog::importDescriptionWeb" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importDescriptionWeb           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>catName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>urlCode</em> = <code>"cds"</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em> = <code>""</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00727">727</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00729                                                              {
00730 
00731   <span class="keywordtype">int</span> err;
00732   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d19">loadWeb</a>(catName, urlCode, fileName, -1);
00733   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) <span class="keywordflow">return</span> err;
00734 
00735   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00736 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="catalogAccess::Catalog::importSelected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importSelected           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>filter</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01022">1022</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a33">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a15">catalogAccess::IMPORT_BIS</a>, <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="quantity_8h-source.html#l00140">catalogAccess::Quantity::m_cutORed</a>, <a class="el" href="quantity_8h-source.html#l00137">catalogAccess::Quantity::m_excludeList</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="quantity_8h-source.html#l00124">catalogAccess::Quantity::m_listValS</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="quantity_8h-source.html#l00138">catalogAccess::Quantity::m_precision</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00139">catalogAccess::Quantity::m_rejectNaN</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01022                                              {
01023 
01024   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"importSelected"</span>;
01025   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
01026   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
01027 
01028   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &gt; 0) {
01029     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"call 'deleteContent' before 'importSelected'"</span>);
01030     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a15">IMPORT_BIS</a>;
01031   }
01032   <span class="keywordtype">int</span> i, err=0,
01033       maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size();
01034   <span class="keywordflow">for</span> (i=0; i&lt;maxSize; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>[i]) err++;
01035   <span class="keywordflow">if</span> (err &lt; 2) {
01036     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">"at least 2 quantities must be selected for import"</span>);
01037     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a33">BAD_SEL_QUANT</a>;
01038   }
01039   filter=<span class="stringliteral">""</span>;
01040   std::ostringstream sortie; 
01041   sortie &lt;&lt; err &lt;&lt; <span class="stringliteral">" quantities (over "</span> &lt;&lt; maxSize &lt;&lt; <span class="stringliteral">") selected for import"</span>;
01042   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
01043   sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string</span>
01044   <span class="keywordflow">if</span> (err != quantSize) {
01045     <span class="comment">// in fact, due to select*Quantities() restrictions,</span>
01046     <span class="comment">// quantSize can only be greater than err</span>
01047     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, <span class="stringliteral">"Erasing unwanted quantities for importSelected()"</span>);
01048     <a class="code" href="classcatalog_access_1_1_catalog.html#d1">deleteQuantities</a>();
01049   }
01050   err=<a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
01051   std::string text;
01052   <span class="keywordtype">long</span> maxRows=0l;
01053   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos=<a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>.find(0x0A);
01054   <span class="keywordflow">if</span> (pos == std::string::npos) {
01055 
01056     <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>.empty() ) {
01057       <span class="comment">// data must be querried via web</span>
01058 
01059 
01060     }
01061     <span class="keywordflow">else</span> {
01062       <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#r7">m_filePos</a>) {
01063         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">"file import was not succesful"</span>);
01064         <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
01065       }
01066       std::fstream myFile (<a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>.c_str(), std::ios::in);
01067       <span class="comment">// file can be opened ?</span>
01068       <span class="keywordflow">if</span> ( !myFile.is_open() ) {
01069         text=<span class="stringliteral">": FILENAME \""</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>+<span class="stringliteral">"\" cannot be opened"</span>;
01070         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01071         err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01072         <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
01073         <span class="keywordflow">return</span> err;
01074       }
01075       <span class="comment">// go back to initial position</span>
01076       myFile.clear(); <span class="comment">// needed to reset flags before seekg</span>
01077       myFile.seekg(m_filePos);
01078       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of data lines read</span>
01079       err=<a class="code" href="classcatalog_access_1_1_catalog.html#d21">loadSelected</a>(&amp;tot, &amp;myFile, &amp;maxRows);
01080       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
01081         sortie &lt;&lt; tot &lt;&lt; <span class="stringliteral">" data lines read for importSelected()"</span>;
01082         <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01083       }
01084       myFile.close();
01085     }
01086 
01087   }
01088   <span class="keywordflow">else</span> { <span class="comment">//fits file</span>
01089 
01090     text=<a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>;
01091     std::string fileName=text.substr(0, pos);
01092     text.erase(0, pos+1);
01093     <span class="keyword">const</span> Extension *myEXT = 0;
01094     <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
01095     <span class="keywordflow">try</span> {
01096       myEXT=IFileSvc::instance().readExtension(fileName, text);
01097     }
01098     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01099       err=x.code();
01100       <span class="keywordflow">if</span> (err == 1) {
01101         <span class="comment">// This non-cfitsio error number means the file does not exist</span>
01102         <span class="comment">// or is not a table, or is not either Root nor Fits format. </span>
01103         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName;
01104         sortie &lt;&lt; <span class="stringliteral">"\" cannot be opened or is NOT fits"</span>;
01105         err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01106       }
01107       <span class="keywordflow">else</span> {
01108         <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
01109         <span class="comment">// which is in FITS format but has some sort of format error.</span>
01110         sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
01111         err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01112       }
01113     }
01114     <span class="keywordflow">if</span> (err &gt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
01115       <span class="keywordflow">if</span> ( !myEXT-&gt;isTable() ) {
01116         sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
01117         err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01118       }
01119     }
01120     <span class="keyword">delete</span> myEXT;
01121     <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
01122       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
01123       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
01124       <span class="keywordflow">return</span> err;
01125     }
01126     err=<a class="code" href="classcatalog_access_1_1_catalog.html#d20">loadSelectFits</a>(fileName, text, &amp;maxRows, filter);
01127 
01128   }
01129   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
01130     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
01131     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
01132     <span class="keywordflow">return</span> err;
01133   }
01134   <span class="keywordflow">try</span> {
01135     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; maxRows) {
01136       err=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>.size();
01137       <span class="comment">// erase unused memory  printf("ERASING\n")</span>
01138       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[i].resize(m_numRows);
01139       err=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>.size();
01140       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].resize(m_numRows);
01141     }
01142     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()+2;
01143     <span class="comment">// number of required bits including global and region</span>
01144     maxSize=<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8;
01145     err=1+(err-1)/maxSize;
01146     <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.resize(err);
01147 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
01148 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
01149               &lt;&lt; err &lt;&lt; std::endl;
01150 <span class="preprocessor">    #endif</span>
01151 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>) {
01152       std::vector&lt;bool&gt; isSelected;
01153       <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected) ) {
01154 
01155         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> quantBit;
01156         <span class="keywordtype">int</span> j, k;
01157         quantSize=isSelected.size();
01158         <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> == <span class="stringliteral">"CDS"</span>) || (<a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>)) {
01159           <span class="keywordflow">for</span> (j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
01160           <span class="comment">/* for the moment, no selection applied */</span>
01161           std::vector&lt;std::string&gt; list;
01162           std::string mot;
01163           <span class="keywordtype">int</span> nbV, (*pfunc)(<span class="keywordtype">int</span>)=tolower; <span class="comment">// function used by transform</span>
01164           Quantity readQ;
01165           <span class="keywordtype">double</span>   myVal, precis;
01166           <span class="keywordtype">bool</span>     check, reject;
01167           <span class="keywordflow">for</span> (i=1; i&lt;quantSize; i++) <span class="keywordflow">if</span> (isSelected[i]) {
01168             readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i-1];
01169             quantBit=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(i-1, &amp;k);
01170 <span class="comment">//std::cout &lt;&lt; m_criteriaORed &lt;&lt;"byte #"&lt;&lt; k &lt;&lt; " unsigned long="&lt;&lt;quantBit;</span>
01171             <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
01172               nbV=readQ.m_listValS.size(); <span class="comment">/* &gt;0 because criteria exist */</span>
01173               list.assign(nbV, <span class="stringliteral">""</span>);
01174               <span class="keywordflow">for</span> (j=0; j&lt;nbV; j++) {
01175                 mot=readQ.m_listValS.at(j);
01176                 <span class="keywordflow">if</span> (readQ.m_cutORed)
01177                   std::transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01178                 list.at(j)=mot;
01179               }
01180               <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; maxRows++) {
01181                 mot=<a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[readQ.m_index].at(maxRows);
01182                 <span class="keywordflow">if</span> (readQ.m_cutORed)
01183                   std::transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01184                 check=readQ.m_excludeList;
01185                 <span class="keywordflow">for</span> (j=0; j&lt;nbV; j++) {
01186                   <span class="keywordflow">if</span> (mot == list[j]) {check=!readQ.m_excludeList; <span class="keywordflow">break</span>;}
01187                 }
01188                 <span class="comment">// setting required bit</span>
01189                 <span class="keywordflow">if</span> (check)
01190                   <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(maxRows)|= quantBit;
01191                 <span class="keywordflow">else</span>
01192                   <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(maxRows)&amp;= (Max_Test-quantBit);
01193               }
01194             }
01195             <span class="keywordflow">else</span> { <span class="comment">// numerical quantity</span>
01196               j=i-1;
01197               nbV=readQ.m_index;
01198               reject=readQ.m_rejectNaN;
01199               precis=readQ.m_precision;
01200               <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; maxRows++) {
01201                 myVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[nbV].at(maxRows);
01202                 <span class="keywordflow">if</span> (!readQ.m_cutORed) <span class="comment">// usual case</span>
01203                   check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(myVal,j, readQ.m_excludeList,reject,precis);
01204                 <span class="keywordflow">else</span>
01205                   check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(myVal,j, reject,precis);
01206                 <span class="comment">// setting required bit</span>
01207                 <span class="keywordflow">if</span> (check)
01208                   <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(maxRows)|= quantBit;
01209                 <span class="keywordflow">else</span>
01210                   <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(maxRows)&amp;= (Max_Test-quantBit);
01211               }<span class="comment">// loop on rows</span>
01212             }
01213           }<span class="comment">/*loop on selected quantities */</span>
01214           <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
01215           <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; maxRows++) {
01216             <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(maxRows, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
01217           }
01218         }
01219         <span class="keywordflow">else</span> {<span class="comment">// from binary fits, only if criteria ANDed</span>
01220           <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
01221           <span class="comment">/* easy, as criteria are ANDed: bit to 1 */</span>
01222           std::vector&lt;unsigned long&gt; selBits(err, 0);
01223           selBits[0]=1ul;
01224           j=0;
01225           quantBit=2ul;
01226           <span class="keywordflow">for</span> (i=0; i&lt;quantSize; ) {
01227             <span class="keywordflow">if</span> (isSelected[i]) selBits[j]|=quantBit;
01228             <span class="keywordflow">if</span> ((++i % maxSize) == 0) {
01229               quantBit=1ul; <span class="comment">// first bit</span>
01230               j++;          <span class="comment">// of next vector index.</span>
01231             }
01232             <span class="keywordflow">else</span> quantBit*=2ul;
01233           }
01234 <span class="comment">//std::cout &lt;&lt; m_criteriaORed &lt;&lt;"first unsigned long selection="&lt;&lt; selBits[0];</span>
01235           <span class="keywordflow">for</span> (j=0; j&lt;err; j++)
01236             <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, selBits[j]);
01237         }
01238         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>) {
01239           sortie &lt;&lt; origin &lt;&lt; <span class="stringliteral">", selecting region from "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
01240           sortie &lt;&lt; <span class="stringliteral">" loaded rows"</span>;
01241           <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
01242           <span class="keywordtype">int</span> nRA =<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_index,
01243               nDEC=m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_index;
01244           <span class="keywordtype">bool</span> check;
01245           <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;m_numRows; maxRows++) {
01246             check=<a class="code" href="classcatalog_access_1_1_catalog.html#d3">checkRegion</a>(maxRows, nRA, nDEC);
01247             <span class="keywordflow">if</span> (!check) {<span class="comment">// setting 2nd bit to 0</span>
01248               <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(maxRows)&amp;=(Max_Test-2ul);
01249               <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>) {<span class="comment">// setting 1st bit to 0</span>
01250                 <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(maxRows)&amp;=(Max_Test-1ul);
01251                 <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>--;
01252               }
01253               <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(maxRows, isSelected) == <span class="keyword">false</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>--;
01254             }
01255           }<span class="comment">/* loop on rows */</span>
01256         }
01257         <a class="code" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a>();
01258 
01259       }
01260       <span class="keywordflow">else</span>  <span class="comment">// lines can be commented to test the try catch mechanism</span>
01261         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
01262     }<span class="comment">/* row exist ==&gt; MUST create selection array */</span>
01263   }
01264   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01265     std::string text;
01266     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
01267     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"import"</span>, text);
01268     <span class="keywordflow">throw</span>;
01269   }
01270   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
01271 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="catalogAccess::Catalog::importWeb" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importWeb           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>catName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>urlCode</em> = <code>"cds"</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRow</em> = <code>44000</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em> = <code>""</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00739">739</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00741                                                   {
00742 
00743   <span class="keywordtype">int</span> err;
00744   <span class="keywordtype">long</span> limitRow=maxRow;
00745   <span class="keywordflow">if</span> (limitRow &lt; 0) limitRow=0; <span class="comment">// to avoid confusion with importDescriptionWeb</span>
00746   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d19">loadWeb</a>(catName, urlCode, fileName, limitRow);
00747   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) <span class="keywordflow">return</span> err;
00748   <a class="code" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a>(m_numRows, <span class="keyword">true</span>);
00749 
00750   <span class="keywordflow">try</span> {
00751     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size()+2;
00752     <span class="comment">// number of required bits including global and region</span>
00753     err=1+(err-1)/(<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8);
00754     <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.resize(err);
00755 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
00756 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
00757               &lt;&lt; err &lt;&lt; std::endl;
00758 <span class="preprocessor">    #endif</span>
00759 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>)
00760       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
00761     <span class="comment">// above lines can be commented to test the try catch mechanism</span>
00762   }
00763   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00764     std::string text;
00765     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
00766     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"importWeb"</span>, text);
00767     <span class="keywordflow">throw</span>;
00768   }
00769   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>;
00770 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a62" doxytag="catalogAccess::Catalog::includeN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::includeN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00807">807</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00808                                                         {
00809 
00810   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"includeN"</span>, <span class="keyword">true</span>);
00811   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
00812   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"includeN"</span>, name);
00813   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00814 
00815   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00816     std::string errText;
00817     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00818     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"includeN"</span>, errText);
00819     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00820   }
00821   done=<a class="code" href="classcatalog_access_1_1_catalog.html#d9">doSelN</a>(name, index, 3, listVal); <span class="comment">// 3 to set bit 0 to 1.</span>
00822   <span class="keywordflow">return</span> done;
00823 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d18" doxytag="catalogAccess::Catalog::load" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::load           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00534">534</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="namespacecatalog_access.html#a37a21">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00718">importDescription()</a>.
<p>
<pre class="fragment"><div>00535                                                       {
00536 
00537   <span class="keywordtype">int</span> i, err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00538   std::string origin, text;
00539   <span class="keywordflow">if</span> (getDescr) origin=<span class="stringliteral">"importDescription"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"import"</span>;
00540 
00541   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00542   i=fileName.length();
00543   <span class="keywordflow">if</span> (i == 0) {
00544     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00545     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00546     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00547     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00548     <span class="keywordflow">return</span> err;
00549   }
00550   std::fstream myFile (fileName.c_str(), std::ios::in);
00551   <span class="comment">// file can be opened ?</span>
00552   <span class="keywordflow">if</span> ( !myFile.is_open() ) {
00553     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be opened"</span>;
00554     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00555     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00556     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00557     <span class="keywordflow">return</span> err;
00558   }
00559 <span class="comment">/*  DIR *testDir=opendir(fileName.c_str());</span>
00560 <span class="comment">  if (testDir != NULL) {</span>
00561 <span class="comment">    closedir(testDir);</span>
00562 <span class="comment">    text=": FILENAME \""+fileName+"\" is a directory";</span>
00563 <span class="comment">    printErr(origin, text);</span>
00564 <span class="comment">    err=BAD_FILETYPE;</span>
00565 <span class="comment">    m_numRows=err;</span>
00566 <span class="comment">    return err;</span>
00567 <span class="comment">  }*/</span>
00568   myFile.close();
00569   std::ostringstream sortie;
00570   <span class="keywordtype">bool</span>  myTest;
00571   <span class="keyword">const</span> Extension *myEXT = 0;
00572   <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
00573   <span class="keywordflow">try</span> {
00574     myEXT=IFileSvc::instance().readExtension(fileName, ext);
00575   }
00576   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00577     err=x.code();
00578     <span class="keywordflow">if</span> (err == 1) {
00579       <span class="comment">// This non-cfitsio error number means the file does not exist</span>
00580       <span class="comment">// or is not a table, or is not either Root nor Fits format. </span>
00581       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00582 <span class="comment">/*      printWarn(origin, "FILENAME is NOT fits");*/</span>
00583     }
00584     <span class="keywordflow">else</span> {
00585       <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
00586       <span class="comment">// which is in FITS format but has some sort of format error.</span>
00587       sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
00588       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00589       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00590       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00591       <span class="keyword">delete</span> myEXT;
00592       <span class="keywordflow">return</span> err;
00593     }
00594   }
00595   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) myTest=myEXT-&gt;isTable();
00596   <span class="keyword">delete</span> myEXT;
00597   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00598  
00599     <span class="keywordflow">if</span> (!myTest) {
00600       text=<span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
00601       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00602       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00603       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00604       <span class="keywordflow">return</span> err;
00605     }
00606     <span class="keyword">const</span> Table *myDOL = 0;
00607     <span class="keywordflow">try</span> {
00608       myDOL=IFileSvc::instance().readTable(fileName, ext);
00609     }
00610     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00611       sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; x.code();
00612       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00613       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00614       <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00615       <span class="keyword">delete</span> myDOL;
00616       <span class="keywordflow">return</span> err;
00617     }
00618     <span class="keyword">const</span> <span class="keywordtype">char</span> lf = 0x0A;
00619     <a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>=fileName+lf+ext;
00620     err=<a class="code" href="classcatalog_access_1_1_catalog.html#d15">analyze_fits</a>(myDOL, getDescr, origin, maxRows);
00621     <span class="keyword">delete</span> myDOL;
00622 
00623   }
00624   <span class="keywordflow">else</span> { <span class="comment">// (err == BAD_FITS)</span>
00625 
00626     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00627     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of lines read</span>
00628     <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>; <span class="comment">// true if lines ends with CR (on windows)</span>
00629     <span class="keywordtype">int</span> what=0;        <span class="comment">// 0 for unkwown, &gt;0 for csv, &lt;0 to tsv</span>
00630                        <span class="comment">// fabs()=1 for standard, =2 for meta QUERY</span>
00631 
00632     myFile.open(fileName.c_str(), std::ios::in);
00633     err=<a class="code" href="classcatalog_access_1_1_catalog.html#d16">analyze_head</a>(&amp;tot, &amp;what, &amp;testCR, &amp;myFile);
00634     <span class="keywordflow">if</span> (!tot) {
00635       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is fits without extension[] "</span>
00636              &lt;&lt; <span class="stringliteral">"specified"</span>;
00637       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00638       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00639       text=<span class="stringliteral">"input file"</span>;
00640       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00641       <span class="comment">// in case, for strange reason, file.good() fails at first time</span>
00642     }
00643     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00644       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is empty or "</span>
00645              &lt;&lt; <span class="stringliteral">"has unknown structure (stopped step "</span> &lt;&lt; -1*err &lt;&lt; <span class="stringliteral">")"</span>;
00646       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00647       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00648       text=<span class="stringliteral">"input file"</span>;
00649       <span class="keywordflow">if</span> (err == 0) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>; <span class="comment">/* nothing is read */</span>
00650       <span class="keywordflow">else</span> err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>; <span class="comment">/* can search if catalog name exist */</span>
00651     }
00652     <span class="keywordflow">else</span> {
00653 
00654       <span class="comment">//what is 1 or 2, then negate if TSV type</span>
00655       <span class="keywordflow">if</span> (what == 1) text=<span class="stringliteral">"input text file"</span>;
00656       <span class="keywordflow">else</span> text=<span class="stringliteral">"input META file"</span>;
00657 
00658       <span class="comment">// get columns description and units, data</span>
00659       err=<a class="code" href="classcatalog_access_1_1_catalog.html#d17">analyze_body</a>(&amp;tot, &amp;what, testCR, getDescr, &amp;myFile, maxRows);
00660       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>) {
00661         <span class="comment">// stopped before reading needed stuff (with getDescr false)</span>
00662         text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" couldn't be read (line too long)"</span>;
00663         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00664       }
00665       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00666         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName
00667              &lt;&lt; <span class="stringliteral">"\" has wrong type (stopped step "</span> &lt;&lt; 5-1*err &lt;&lt; <span class="stringliteral">")"</span>;
00668         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00669         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00670         err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00671       }
00672       <span class="keywordflow">else</span> {
00673         <span class="keywordflow">if</span> (what &gt; 0) sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">" is CSV type (; separator)"</span>;
00674         <span class="keywordflow">else</span> sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">" is TSV type (Tab=0x09 separator)"</span>;
00675         <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00676         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00677       }
00678 
00679     }
00680     myFile.close();
00681     sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines read"</span>;
00682     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00683     <a class="code" href="classcatalog_access_1_1_catalog.html#r6">m_filename</a>=fileName;
00684     <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a>=<span class="stringliteral">"CDS"</span>; <span class="comment">/* to know that format string need to be changed for fits */</span>
00685 
00686   }<span class="comment">// file is read</span>
00687   <span class="keywordflow">if</span> (err &lt; 0) {
00688     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
00689     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00690     <span class="comment">// exit only if nothing is read</span>
00691     <span class="keywordflow">if</span> ((err == <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>) || (err == <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>)) <span class="keywordflow">return</span> err;
00692   }
00693   <span class="comment">// m_quantities vector maybe filled, MUST fill m_selEllipse, m_loadQuantity</span>
00694   <span class="keywordflow">try</span> {
00695     <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.assign(7, 0.0);
00696     <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.assign(<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size(), <span class="keyword">true</span>);
00697   }
00698   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00699     text=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse, m_loadQuantity: "</span>)
00700         +prob.what();
00701     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00702     <span class="keywordflow">throw</span>;
00703   }
00704   <span class="comment">// check if tableName is known to set generic</span>
00705   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00706     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*i+1] == <a class="code" href="classcatalog_access_1_1_catalog.html#r4">m_tableName</a>) <span class="keywordflow">break</span>;
00707   }
00708   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>) {
00709     text=<span class="stringliteral">"Unknown table name, all generic quantities may be not found"</span>;
00710     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00711   }
00712   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a>=Catalog::s_CatalogList[2*i];
00713   <a class="code" href="classcatalog_access_1_1_catalog.html#d11">setGeneric</a>(i);
00714   <span class="keywordflow">return</span> err;
00715 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d21" doxytag="catalogAccess::Catalog::loadSelected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadSelected           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>tot</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::fstream *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00532">532</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a21">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00030">MAX_LINE</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00018">translate_cell()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>.
<p>
<pre class="fragment"><div>00533                                          {
00534 
00535   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"importSelected"</span>;
00536   <span class="keywordtype">int</span>  i, last,
00537        maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1, <span class="comment">// to avoid computation each line</span>
00538        err=0;
00539   <span class="keywordtype">char</span> sep=<span class="charliteral">';'</span>,
00540        line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00541 
00542   <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a> ) {
00543     <span class="comment">// read the total number of rows to have a maximal value</span>
00544     <span class="comment">// to allocate m_strings, m_numericals buffers.</span>
00545     <span class="keywordflow">while</span> ( myFile-&gt;good() ) {
00546       myFile-&gt;getline(line, MAX_LINE);
00547       <span class="keywordflow">if</span> (strlen(line) &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// 1 CR for WINDOWS</span>
00548       <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>++;
00549     }
00550     <span class="comment">// go back to initial position</span>
00551     myFile-&gt;clear(); <span class="comment">// needed to reset flags before seekg</span>
00552     myFile-&gt;seekg(m_filePos);
00553   }
00554   last=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00555   <span class="keywordflow">for</span> (i=0; i&lt;last; i++)
00556     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i].m_type == Quantity::STRING) err++;
00557 <span class="comment">//std::cout &lt;&lt; m_numOriRows &lt;&lt; " OriRows" &lt;&lt; std::endl;</span>
00558   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00559   <span class="keywordflow">if</span> ( !*maxRows ) *maxRows=<a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>;
00560   <span class="keywordflow">if</span> ( !m_numOriRows ) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00561 
00562   <a class="code" href="classcatalog_access_1_1_catalog.html#d12">create_tables</a>(err, *maxRows);
00563   <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>,
00564        first=<span class="keyword">true</span>,
00565        lineSkipped=<span class="keyword">false</span>;
00566   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00567   std::ostringstream sortie;
00568   std::string text, mot;
00569 
00570   err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00571   <span class="keywordflow">while</span> ( myFile-&gt;good() ) {
00572 
00573     <span class="comment">// extract line with delimiter \n which is discarded</span>
00574     myFile-&gt;getline(line, MAX_LINE);
00575     (*tot)++;
00576     last=strlen(line);
00577     <span class="keywordflow">if</span> ((last == 0) || (line[0] == 0x0D)) {
00578       lineSkipped=<span class="keyword">true</span>; <span class="comment">// to have Warning messages below</span>
00579       <span class="keywordflow">continue</span>;
00580     }
00581     <span class="comment">// string max size is MAX_LINE-1;</span>
00582     <span class="keywordflow">if</span> (last &gt;= maxLine) {
00583       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
00584              &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
00585       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00586       err=<a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>;
00587       <span class="keywordflow">break</span>;
00588     }
00589     <span class="keywordflow">if</span> (first) {
00590       first=<span class="keyword">false</span>;
00591       <span class="comment">// test if last char is CR from WINDOWS</span>
00592       <span class="keywordflow">if</span> (line[last-1] == 0x0D) testCR=<span class="keyword">true</span>;
00593       <span class="keywordtype">char</span> *posC=strchr(line, sep);
00594       <span class="comment">// if separator isn't the default ; search for TAB</span>
00595       <span class="comment">// suppose there is at least 2 columns</span>
00596       <span class="keywordflow">if</span> (posC == NULL) {
00597         posC=strchr(line, 0x09);
00598         <span class="keywordflow">if</span> (posC != NULL) sep=0x09;
00599         <span class="keywordflow">else</span> {
00600           <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">"first data line has no separator"</span>);
00601           err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00602           <span class="keywordflow">break</span>;
00603         }
00604       }
00605     }
00606     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00607     i=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
00608     <span class="keywordflow">if</span> (i == 0) {
00609       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
00610       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00611       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00612       <span class="keywordflow">break</span>;
00613     }
00614     text=line; <span class="comment">/* convert C string to C++ string */</span>
00615     pos=text.find(sep);
00616     <span class="keywordflow">if</span> (pos == std::string::npos) {
00617       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" without separator, line skipped"</span>;
00618       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00619       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00620       <span class="keywordflow">continue</span>;
00621     }
00622     i=0;
00623     <span class="keywordflow">if</span> (lineSkipped) <span class="keywordflow">break</span>;
00624     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size();
00625     last=0;
00626     <span class="keywordflow">do</span> {
00627       mot=text.substr(0, pos);
00628       <span class="keywordflow">if</span> (i &gt;= err) {
00629         sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" contains too many quantities"</span>;
00630         <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00631         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00632         <span class="keywordflow">break</span>;
00633       }
00634       <span class="keywordflow">else</span> {
00635         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>[i]) <a class="code" href="classcatalog_access_1_1_catalog.html#d14">translate_cell</a>(mot, i-last);
00636         <span class="keywordflow">else</span> last++;
00637       }
00638       i++;
00639       <span class="keywordflow">if</span> (pos != std::string::npos) {
00640         text.erase(0, pos+1);
00641         pos=text.find(sep);
00642       }
00643       <span class="keywordflow">else</span> <span class="keywordflow">break</span>;
00644     }
00645     <span class="keywordflow">while</span> (1);
00646     <span class="keywordflow">if</span> (i &lt;  err) {
00647       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" does not contain all quantities"</span>;
00648       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00649       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00650     }
00651     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00652     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>++;
00653   }
00654   <span class="keywordflow">return</span> err;
00655 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d20" doxytag="catalogAccess::Catalog::loadSelectFits" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadSelectFits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRows</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>filter</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00780">780</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="quantity_8h-source.html#l00140">catalogAccess::Quantity::m_cutORed</a>, <a class="el" href="quantity_8h-source.html#l00137">catalogAccess::Quantity::m_excludeList</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="quantity_8h-source.html#l00133">catalogAccess::Quantity::m_listValN</a>, <a class="el" href="quantity_8h-source.html#l00124">catalogAccess::Quantity::m_listValS</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="quantity_8h-source.html#l00127">catalogAccess::Quantity::m_lowerCut</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="quantity_8h-source.html#l00138">catalogAccess::Quantity::m_precision</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00139">catalogAccess::Quantity::m_rejectNaN</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00130">catalogAccess::Quantity::m_upperCut</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::SepNull</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>.
<p>
<pre class="fragment"><div>00782 {
00783   <span class="keyword">const</span> std::string  origin=<span class="stringliteral">"importSelected"</span>;
00784   std::ostringstream sortie;
00785   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>       i, max;
00786   <span class="keyword">const</span> Table *myDOL = 0;
00787 
00788   <span class="comment">/* create the selection string */</span>
00789   <span class="keywordtype">char</span> value[20];
00790   <span class="keywordtype">bool</span> test, probCase=<span class="keyword">false</span>;
00791   std::vector&lt;bool&gt; isSelected;
00792   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected) &amp;&amp; (<a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a> != <span class="stringliteral">"CDS"</span>)) {
00793     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>) {
00794       <span class="comment">/* !! cannot concatenate Cstring and char !! */</span>
00795       filter+=<span class="charliteral">'('</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_name+<span class="stringliteral">" &gt;= "</span>;
00796       sprintf(value, <span class="stringliteral">"%9.5f"</span>, m_selEllipseCentDEC_deg-m_selEllipseMajAxis_deg);
00797       filter+=value;
00798       filter+=<span class="stringliteral">" &amp;&amp; "</span>+m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_name+<span class="stringliteral">" &lt;= "</span>;
00799       sprintf(value, <span class="stringliteral">"%9.5f"</span>, m_selEllipseCentDEC_deg+m_selEllipseMajAxis_deg);
00800       filter+=value;
00801       <span class="comment">/* AND has higher priority than OR, needn't parenthesis (isnull...)*/</span>
00802       <span class="keywordflow">if</span> ( !m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_rejectNaN )
00803         filter+=<span class="stringliteral">" || isnull("</span>+m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_name+<span class="charliteral">')'</span>;
00804       <span class="keywordflow">if</span> ( !m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_rejectNaN )
00805         filter+=<span class="stringliteral">" || isnull("</span>+m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_name+<span class="charliteral">')'</span>;
00806       filter+=<span class="charliteral">')'</span>;
00807     }
00808     max=isSelected.size();
00809     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j, nbV;
00810     Quantity readQ;
00811     <span class="keywordtype">double</span>   rVal;
00812     <span class="comment">// first boolean is for elliptical region (m_selRegion)</span>
00813     <span class="keywordflow">for</span> (i=1; i&lt;max; i++) <span class="keywordflow">if</span> ( isSelected[i] ) {
00814       <span class="keywordflow">if</span> ( !filter.empty() ) {
00815         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>) filter+=<span class="stringliteral">" || "</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" &amp;&amp; "</span>;
00816       }
00817       filter+=<span class="charliteral">'('</span>;
00818       readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[i-1];
00819       <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
00820         nbV=readQ.m_listValS.size(); <span class="comment">/* nbV is &gt;0 because criteria exist */</span>
00821         test=readQ.m_excludeList;
00822         filter+=<span class="charliteral">'('</span>+readQ.m_name;
00823         <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" != '"</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" == '"</span>;
00824         filter+=readQ.m_listValS[0]+<span class="stringliteral">"')"</span>;
00825         <span class="keywordflow">for</span> (j=1; j&lt;nbV; j++) {
00826           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" &amp;&amp; "</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" || "</span>;
00827           filter+=<span class="charliteral">'('</span>+readQ.m_name;
00828           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" != '"</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" == '"</span>;
00829           filter+=readQ.m_listValS[j]+<span class="stringliteral">"')"</span>;
00830         }
00831         <span class="keywordflow">if</span> ((!<a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>) &amp;&amp; (!readQ.m_cutORed)) probCase=<span class="keyword">true</span>;
00832       }
00833       <span class="keywordflow">else</span> {
00834         <span class="keywordflow">if</span> (readQ.m_rejectNaN == <span class="keyword">false</span>) {
00835           filter+=<span class="stringliteral">"isnull("</span>+readQ.m_name+<span class="stringliteral">") || "</span>;  
00836           <span class="comment">/* can put OR because criteria exist */</span>
00837           <span class="comment">/* AND has higher priority than OR, needn't parenthesis (isnull...)*/</span>
00838         }
00839         <span class="keywordflow">if</span> (readQ.m_lowerCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00840           filter+=<span class="charliteral">'('</span>+readQ.m_name+<span class="stringliteral">" &gt;= "</span>;          
00841           sprintf(value, <span class="stringliteral">"%.9E"</span>, readQ.m_lowerCut);
00842           filter+=value; filter+=<span class="charliteral">')'</span>;
00843           test=<span class="keyword">true</span>;
00844         }
00845         <span class="keywordflow">else</span> test=<span class="keyword">false</span>;
00846         <span class="keywordflow">if</span> (readQ.m_upperCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00847           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" &amp;&amp; "</span>;
00848           filter+=<span class="charliteral">'('</span>+readQ.m_name+<span class="stringliteral">" &lt;= "</span>;          
00849           sprintf(value, <span class="stringliteral">"%.9E"</span>, readQ.m_upperCut);
00850           filter+=value; filter+=<span class="charliteral">')'</span>;
00851           test=<span class="keyword">true</span>;
00852         }
00853         nbV=readQ.m_listValN.size();
00854         <span class="keywordflow">if</span> (nbV) { 
00855           <span class="keywordflow">if</span> (test) {
00856             <span class="keywordflow">if</span> (readQ.m_cutORed) filter+=<span class="stringliteral">" || ("</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" &amp;&amp; ("</span>;
00857           }
00858           <span class="keywordflow">if</span> (readQ.m_excludeList) filter+=<span class="stringliteral">"!("</span>;
00859           filter+=<span class="stringliteral">"near("</span>+readQ.m_name+<span class="stringliteral">", "</span>;
00860           rVal=readQ.m_listValN[0];
00861           sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00862           filter+=value; filter+=<span class="stringliteral">", "</span>;
00863           <span class="keywordflow">if</span> (fabs(rVal) &gt; NearZero) rVal*=readQ.m_precision;
00864           <span class="keywordflow">else</span> rVal=readQ.m_precision;
00865           sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00866           filter+=value; filter+=<span class="charliteral">')'</span>;
00867           <span class="keywordflow">for</span> (j=1; j&lt;nbV; j++) {
00868             filter+=<span class="stringliteral">" || near("</span>+readQ.m_name+<span class="stringliteral">", "</span>;
00869             rVal=readQ.m_listValN[j];
00870             sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00871             filter+=value; filter+=<span class="stringliteral">", "</span>;
00872             <span class="keywordflow">if</span> (fabs(rVal) &gt; NearZero) rVal*=readQ.m_precision;
00873             <span class="keywordflow">else</span> rVal=readQ.m_precision;
00874             sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00875             filter+=value; filter+=<span class="charliteral">')'</span>;
00876           }
00877           <span class="keywordflow">if</span> (readQ.m_excludeList) filter+=<span class="stringliteral">")"</span>;
00878           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">")"</span>;
00879         }
00880       }
00881       filter+=<span class="charliteral">')'</span>;
00882     }
00883     <span class="keywordflow">if</span> (probCase) <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin,
00884       <span class="stringliteral">"filter (for binary fits) is NOT case sensitive for string"</span>);
00885   }
00886   <span class="keywordflow">try</span> {
00887     myDOL=IFileSvc::instance().readTable(fileName, ext, filter);
00888   }
00889   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00890     sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; x.code();
00891     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00892     <span class="keyword">delete</span> myDOL;
00893     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00894   }
00895   <span class="keywordflow">try</span> {
00896     max=myDOL-&gt;getValidFields().size();
00897     <a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>=myDOL-&gt;getNumRecords();
00898   }
00899   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00900     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get number of rows or columns"</span>);
00901     <span class="keyword">delete</span> myDOL;
00902     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00903   }
00904   <span class="keywordflow">if</span> (max &lt; 1) {
00905     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, need at least 1 column"</span>);
00906     <span class="keyword">delete</span> myDOL;
00907     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00908   }
00909   <span class="comment">/* beware some initial quantities can be skipped */</span>
00910   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size() != max) {
00911     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, number of fields ("</span> &lt;&lt; max;
00912     sortie &lt;&lt; <span class="stringliteral">") differ from previous import call ("</span>;
00913     sortie &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size() &lt;&lt; <span class="stringliteral">")"</span>;
00914     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00915     <span class="keyword">delete</span> myDOL;
00916     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00917   }
00918 <span class="comment">//std::cout &lt;&lt; "Initial number of COL = " &lt;&lt; max &lt;&lt; std::endl;</span>
00919   <span class="keyword">const</span> Header &amp;header=myDOL-&gt;getHeader();
00920   std::string text, unit, mot, rescale, form;
00921   <span class="keywordtype">int</span>  err=0;
00922   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
00923   std::vector&lt;double&gt; colNull(max, 0.0);
00924   std::vector&lt;Quantity&gt;::iterator itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin();
00925   <span class="keywordflow">try</span> {
00926     <span class="keyword">const</span> IColumn *myCol = 0;
00927     <span class="keywordflow">for</span> (i=0; i &lt; max; i++) {
00928       text=<span class="stringliteral">"start"</span>;
00929       rescale=<span class="stringliteral">""</span>;
00930       myCol=myDOL-&gt;getColumn(i);
00931       text=myCol-&gt;getId();
00932       unit=myCol-&gt;getUnits();
00933       sprintf(name, <span class="stringliteral">"TNULL%d"</span>, i+1); mot=name;
00934       <span class="keywordflow">try</span> { header.getKeyword(mot, rescale); }
00935       <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00936       colNull.at(i)=atof(rescale.c_str());
00937       <span class="keywordflow">if</span> ( !rescale.empty() ) {
00938           form=<span class="stringliteral">""</span>;
00939           sprintf(name, <span class="stringliteral">"TSCAL%d"</span>, i+1); mot=name;
00940           <span class="keywordflow">try</span> { header.getKeyword(mot, form); }
00941           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00942           rescale+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+form;
00943           <span class="keywordflow">if</span> ( !form.empty() ) colNull.at(i)*=atof(form.c_str());
00944           form=<span class="stringliteral">""</span>;
00945           sprintf(name, <span class="stringliteral">"TZERO%d"</span>, i+1); mot=name;
00946           <span class="keywordflow">try</span> { header.getKeyword(mot, form); }
00947           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00948           rescale+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+form;
00949           <span class="keywordflow">if</span> ( !form.empty() ) colNull.at(i)+=atof(form.c_str());
00950       }
00951       sprintf(name, <span class="stringliteral">"TFORM%d"</span>, i+1);
00952       mot=name; <span class="comment">/* convert C string to C++ string */</span>
00953       header.getKeyword(mot, form);
00954       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>[i]) {
00955 <span class="comment">//std::cout &lt;&lt; itQ-&gt;m_index &lt;&lt; " ";</span>
00956         <span class="keywordflow">if</span> ( (text!=itQ-&gt;m_name) || (unit!=itQ-&gt;m_unit)
00957             || (rescale!=itQ-&gt;m_null) || (form!=itQ-&gt;m_format) ) {
00958           text=<span class="stringliteral">""</span>;
00959           <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"fileDiff"</span>);
00960         }
00961         <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::STRING) err++;
00962         itQ++;
00963       }
00964     }<span class="comment">/* loop on columns */</span>
00965   }
00966   <span class="keywordflow">catch</span> (...) {
00967     <span class="keywordflow">if</span> ( text.empty() ) {
00968       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, column#"</span>;
00969       sortie &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">" differ from previous import call"</span>;
00970       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00971       err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00972     }
00973     <span class="keywordflow">else</span> {
00974       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, error reading TABLE column#"</span>;
00975       sortie &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">" description"</span>;
00976       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00977       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00978     }
00979     <span class="keyword">delete</span> myDOL;
00980     <span class="keywordflow">return</span> err;
00981   }
00982 <span class="comment">//std::cout &lt;&lt; std::endl;</span>
00983 <span class="comment">//std::cout &lt;&lt; m_numOriRows &lt;&lt; " OriRows" &lt;&lt; std::endl;</span>
00984   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00985   <span class="keywordflow">if</span> ( !*maxRows ) *maxRows=<a class="code" href="classcatalog_access_1_1_catalog.html#r14">m_numOriRows</a>;
00986   <span class="keywordflow">if</span> ( !m_numOriRows ) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00987 
00988   <a class="code" href="classcatalog_access_1_1_catalog.html#d12">create_tables</a>(err, *maxRows);
00989   <span class="keywordflow">try</span> {
00990     <span class="keywordtype">double</span> rowVal;
00991     <span class="comment">// max=m_quantities.size();</span>
00992     <span class="keywordflow">for</span> (Table::ConstIterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end();
00993          ++itor, ++<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>) {
00994       err=0;
00995       <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.end(); ++itQ, ++err) {
00996         i=itQ-&gt;m_index;
00997         <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00998           rowVal=(*itor)[itQ-&gt;m_name].get();
00999           <span class="keywordflow">if</span> ( itQ-&gt;m_null.empty() ) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].at(m_numRows)=rowVal;
01000           <span class="keywordflow">else</span> {
01001             <span class="keywordflow">if</span> (rowVal == colNull[err]) <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].at(m_numRows)=MissNAN;
01002             <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].at(m_numRows)=rowVal;
01003           }
01004         }
01005         <span class="keywordflow">else</span> (*itor)[itQ-&gt;m_name].get(m_strings[i].at(m_numRows) );
01006       }
01007     }<span class="comment">/* loop on rows*/</span>
01008   }
01009   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01010     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot read after row#"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>+1;
01011     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
01012     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
01013   }
01014   <span class="keyword">delete</span> myDOL;
01015   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01016 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d19" doxytag="catalogAccess::Catalog::loadWeb" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadWeb           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>catName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>urlCode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap> <em>maxRow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00660">660</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a22">catalogAccess::BAD_URL</a>, <a class="el" href="catalog_8h-source.html#l00622">checkCatName()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00727">importDescriptionWeb()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00739">importWeb()</a>.
<p>
<pre class="fragment"><div>00661                                                                    {
00662 
00663   std::string origin, text, web;
00664   <span class="keywordtype">int</span> i, err;
00665   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00666   <span class="keywordflow">if</span> (maxRow &gt;= 0) origin=<span class="stringliteral">"importWeb"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"importDescriptionWeb"</span>;
00667 
00668   err=<a class="code" href="namespacecatalog_access.html#a37a22">BAD_URL</a>;
00669   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00670   <span class="keywordflow">if</span> (urlCode.length() == 0) {
00671     text=<span class="stringliteral">": CODE for URL (web http address) is empty"</span>;
00672     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00673     <span class="keywordflow">return</span> err;
00674   }
00675   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00676     text=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00677     pos=text.find(<span class="charliteral">' '</span>);
00678     <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">continue</span>;
00679     <span class="keywordflow">if</span> (text.substr(0, pos) == urlCode) <span class="keywordflow">break</span>;
00680   }
00681   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a2">MAX_URL</a>) {
00682     text=<span class="stringliteral">": CODE for URL (web http address) do not exist"</span>;
00683     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00684     <span class="keywordflow">return</span> err;
00685   }
00686   <a class="code" href="classcatalog_access_1_1_catalog.html#r1">m_URL</a>=urlCode;
00687   pos=text.rfind(<span class="charliteral">' '</span>);
00688   <span class="keywordflow">if</span> (pos == std::string::npos) web=text;
00689   <span class="keywordflow">else</span> web=text.substr(pos+1, text.length()-pos);
00690 
00691   <span class="keywordtype">int</span> iCat=<a class="code" href="classcatalog_access_1_1_catalog.html#d25">checkCatName</a>(origin, catName);
00692   <span class="keywordflow">if</span> (iCat &lt; 0) {
00693     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=iCat;
00694     <span class="keywordflow">return</span> iCat;
00695   }
00696   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">false</span>);
00697   <span class="comment">// after this check, m_numOriRows is 0</span>
00698   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00699 
00700   <span class="keywordflow">if</span> (maxRow == 0) <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"trying to query whole catalog"</span>);
00701   <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=0;
00702 <span class="comment">/* now, ASCII query must be created</span>
00703 <span class="comment">  and sent, using CDS package to given URL</span>
00704 <span class="comment">*/</span>
00705   err=-9;
00706   text=<span class="stringliteral">"Web query not implemented"</span>;
00707   <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00708 
00709 
00710   <span class="keywordflow">if</span> (err &lt; 0) {
00711     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
00712     <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>=err;
00713     <span class="keywordflow">return</span> err;
00714   }
00715   <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.assign(7, 0.0); }
00716   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00717     text=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse: "</span>)+prob.what();
00718     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00719     <span class="keywordflow">throw</span>;
00720   }
00721   <a class="code" href="classcatalog_access_1_1_catalog.html#r0">m_code</a>=catName;
00722   <a class="code" href="classcatalog_access_1_1_catalog.html#d11">setGeneric</a>(iCat);
00723   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00724 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="catalogAccess::Catalog::maxSelVal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::maxSelVal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01218">1218</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01218                                                             {
01219 
01220   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
01221   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"maxSelVal"</span>;
01222   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, 0);
01223   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01224   <span class="comment">// above test avoid searching when no row is selected</span>
01225   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01226   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01227   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
01228     std::string errText;
01229     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01230     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01231     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01232   }
01233   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01234 
01235   <span class="keywordtype">long</span> i, tot=0;
01236   <span class="keywordtype">double</span> r;
01237   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01238     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
01239 <span class="preprocessor">#ifdef WIN32</span>
01240 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (!_isnan(*realVal)) <span class="keywordflow">break</span>;
01241 <span class="preprocessor">#else</span>
01242 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (!std::isnan(*realVal)) <span class="keywordflow">break</span>;
01243 <span class="preprocessor">#endif</span>
01244 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01245   }
01246   <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01247   <span class="comment">// stop when selection contains only NaN</span>
01248   <span class="keywordflow">for</span> (; i&lt;m_numRows; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01249     r=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
01250     <span class="keywordflow">if</span> (r &gt; *realVal) *realVal=r;
01251     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01252   }
01253   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01254 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="catalogAccess::Catalog::maxVal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::maxVal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00963">963</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00963                                                          {
00964 
00965   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00966   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"maxVal"</span>;
00967   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, 0);
00968   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00969   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00970   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00971   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
00972     std::string errText;
00973     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00974     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00975     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00976   }
00977   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00978   <span class="keywordtype">long</span> i=0;
00979   <span class="keywordtype">double</span> r;
00980   <span class="keywordflow">do</span> { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i); }
00981 <span class="preprocessor">#ifdef WIN32</span>
00982 <span class="preprocessor"></span>  <span class="keywordflow">while</span> ((_isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>));
00983 <span class="preprocessor">#else</span>
00984 <span class="preprocessor"></span>  <span class="keywordflow">while</span> ((std::isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>));
00985 <span class="preprocessor">#endif</span>
00986 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00987     r=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
00988     <span class="keywordflow">if</span> (r &gt; *realVal) *realVal=r;
00989   }
00990   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00991 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="catalogAccess::Catalog::minSelVal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::minSelVal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01179">1179</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01179                                                             {
01180 
01181   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
01182   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"minSelVal"</span>;
01183   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, 0);
01184   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01185   <span class="comment">// above test avoid searching when no row is selected</span>
01186   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
01187   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01188   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
01189     std::string errText;
01190     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01191     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01192     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01193   }
01194   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
01195 
01196   <span class="keywordtype">long</span> i, tot=0;
01197   <span class="keywordtype">double</span> r;
01198   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01199     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
01200 <span class="preprocessor">#ifdef WIN32</span>
01201 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (!_isnan(*realVal)) <span class="keywordflow">break</span>;
01202 <span class="preprocessor">#else</span>
01203 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (!std::isnan(*realVal)) <span class="keywordflow">break</span>;
01204 <span class="preprocessor">#endif</span>
01205 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01206   }
01207   <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01208   <span class="comment">// stop when selection contains only NaN</span>
01209   <span class="keywordflow">for</span> (; i&lt;m_numRows; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01210     r=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
01211     <span class="keywordflow">if</span> (r &lt; *realVal) *realVal=r;
01212     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01213   }
01214   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01215 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="catalogAccess::Catalog::minVal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::minVal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00929">929</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00929                                                          {
00930 
00931   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00932   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"minVal"</span>;
00933   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, 0);
00934   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00935   num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00936   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00937   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
00938     std::string errText;
00939     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00940     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00941     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00942   }
00943   num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(num).m_index;
00944   <span class="keywordtype">long</span> i=0;
00945   <span class="keywordtype">double</span> r;
00946   <span class="keywordflow">do</span> { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
00947 <span class="comment">/*  std::cout &lt;&lt; "NaN == NaN ? " &lt;&lt; (*realVal == m_numericals[num].at(0))</span>
00948 <span class="comment">            &lt;&lt; std::endl;*/</span>
00949   }
00950 <span class="preprocessor">#ifdef WIN32</span>
00951 <span class="preprocessor"></span>  <span class="keywordflow">while</span> ((_isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>));
00952 <span class="preprocessor">#else</span>
00953 <span class="preprocessor"></span>  <span class="keywordflow">while</span> ((std::isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>));
00954 <span class="preprocessor">#endif</span>
00955 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00956     r=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(i);
00957     <span class="keywordflow">if</span> (r &lt; *realVal) *realVal=r;
00958   }
00959   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00960 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="catalogAccess::Catalog::posError_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::posError_deg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>inSelection</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01327">1327</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a25">catalogAccess::BAD_QUANT_NAME</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01328                                                   {
01329 
01330   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"posError_deg"</span>;
01331   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a> &lt; 0) {
01332     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0)
01333       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01334     <span class="keywordflow">else</span>
01335       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"missing generic position error quantity"</span>);
01336     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a25">BAD_QUANT_NAME</a>;
01337   }
01338   <span class="keywordtype">int</span> num;
01339   <span class="keywordflow">if</span> (!inSelection) {
01340     num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
01341     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01342     num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>].m_index;
01343     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(row)/<a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>;
01344   }
01345   <span class="keywordflow">else</span> {
01346     num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, row);
01347     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01348     <span class="keywordtype">long</span> tot=0;
01349     num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>].m_index;
01350     <span class="comment">// first bit indicates global selection</span>
01351     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01352       <span class="keywordflow">if</span> (tot == row) {
01353         *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(k)/<a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>;
01354         <span class="keywordflow">break</span>;
01355       }
01356       tot++;
01357     }
01358     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01359   }
01360   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01361 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="catalogAccess::Catalog::ra_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::ra_deg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>realVal</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>inSelection</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01261">1261</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a23">catalogAccess::NO_RA_DEC</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>01261                                                                            {
01262 
01263   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"ra_deg"</span>;
01264   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> &lt; 0) {
01265     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &lt; 0)
01266       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01267     <span class="keywordflow">else</span>
01268       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"missing generic RA position quantity"</span>);
01269     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a23">NO_RA_DEC</a>;
01270   }
01271   <span class="keywordtype">int</span> num;
01272   <span class="keywordflow">if</span> (!inSelection) {
01273     num=<a class="code" href="classcatalog_access_1_1_catalog.html#d26">checkSize_row</a>(origin, row);
01274     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01275     num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_index;
01276     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(row);
01277   }
01278   <span class="keywordflow">else</span> {
01279     num=<a class="code" href="classcatalog_access_1_1_catalog.html#d28">checkSel_row</a>(origin, row);
01280     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01281     <span class="keywordtype">long</span> tot=0;
01282     num=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_index;
01283     <span class="comment">// first bit indicates global selection</span>
01284     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01285       <span class="keywordflow">if</span> (tot == row) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[num].at(k); <span class="keywordflow">break</span>; }
01286       tot++;
01287     }
01288     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01289   }
01290   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01291 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d6" doxytag="catalogAccess::Catalog::rowSelect" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::rowSelect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>quantSel</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00189">189</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, and <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00332">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>.
<p>
<pre class="fragment"><div>00189                                                                        {
00190 
00191   <span class="keywordtype">int</span>  numBit=<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)*8,
00192        vecSize=quantSel.size();
00193   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00194   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>) check=<span class="keyword">false</span>;
00195   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel, test=2ul; <span class="comment">// bit0 reserved for check</span>
00196 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00197 <span class="preprocessor"></span>  std::cout &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a> &lt;&lt; <span class="stringliteral">"quantSize = "</span> &lt;&lt; vecSize;
00198 <span class="preprocessor">  #endif</span>
00199 <span class="preprocessor"></span>  <span class="keywordtype">int</span> j=0;
00200   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;=vecSize; ) {
00201 
00202     currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].at(row);
00203     <span class="keywordflow">if</span> (quantSel[i-1]) {
00204 <span class="preprocessor">      #ifdef DEBUG_CAT</span>
00205 <span class="preprocessor"></span>      std::cout &lt;&lt; <span class="stringliteral">" (AND with "</span> &lt;&lt; currSel &lt;&lt;<span class="stringliteral">" &amp; "</span>&lt;&lt; test
00206                 &lt;&lt; <span class="stringliteral">", pos["</span> &lt;&lt; j &lt;&lt;<span class="stringliteral">"] )"</span> &lt;&lt; std::endl;
00207 <span class="preprocessor">      #endif</span>
00208 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>) {
00209         <span class="comment">// OR  of bits, true --&gt; useless to continue</span>
00210         <span class="keywordflow">if</span> ((currSel &amp; test) == test) {check=<span class="keyword">true</span>; <span class="keywordflow">break</span>;}
00211       }
00212       <span class="keywordflow">else</span> {
00213         <span class="comment">// AND of bits, false--&gt; useless to continue</span>
00214         <span class="keywordflow">if</span> ((currSel &amp; test) == 0ul) {check=<span class="keyword">false</span>; <span class="keywordflow">break</span>;}
00215       }
00216     }
00217     <span class="keywordflow">if</span> ((++i % numBit) == 0) {
00218       test=1ul; <span class="comment">// first bit</span>
00219       j++;      <span class="comment">// of next vector index.</span>
00220     }
00221     <span class="keywordflow">else</span> test*=2ul;
00222 
00223   }
00224   <span class="keywordflow">if</span> (check) <span class="comment">// setting bit0 to 1</span>
00225     <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(row)|= 1ul;
00226   <span class="keywordflow">else</span>       <span class="comment">// setting bit0 to 0</span>
00227     <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(row)&amp;= (Max_Test-1ul);
00228 
00229   <span class="keywordflow">return</span> check;
00230 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="catalogAccess::Catalog::saveFits" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveFits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>extName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>clobber</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>append</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01436">1436</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01437                                                  {
01438 
01439   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveFits"</span>;
01440   Table *myDOL=0;
01441   <span class="keywordtype">int</span> err;
01442   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d23">createFits</a>(fileName, extName, clobber, append, origin, &amp;myDOL);
01443   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
01444 
01445   std::ostringstream sortie;
01446   <span class="keywordtype">long</span> tot=0l;
01447   <span class="keywordtype">int</span>  i, j;
01448 
01449   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> &gt; 0) {
01450   <span class="keywordflow">try</span> {
01451     myDOL-&gt;setNumRecords(m_numRows);
01452     Quantity readQ;
01453     <span class="keywordtype">double</span> rowVal;
01454     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
01455     std::vector&lt;long&gt; colNull(err, 0);
01456     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01457       readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j];
01458       colNull[j]=atoi( readQ.m_null.c_str() );
01459     }
01460     <span class="comment">// Loop over all records (rows) and set values</span>
01461     <span class="keywordflow">for</span> (Table::Iterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end(); ++itor) {
01462       <span class="comment">// double variable to hold the value of all the numeric fields</span>
01463       <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01464         readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j];
01465         i=readQ.m_index;
01466         <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01467           rowVal= <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].at(tot);
01468           <span class="keywordflow">if</span> ( readQ.m_null.empty() ) (*itor)[readQ.m_name].set(rowVal);
01469           <span class="keywordflow">else</span> {
01470 <span class="preprocessor">#ifdef WIN32</span>
01471 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( _isnan(rowVal) ) (*itor)[readQ.m_name].set(colNull[j]);
01472 <span class="preprocessor">#else</span>
01473 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( std::isnan(rowVal) ) (*itor)[readQ.m_name].set(colNull[j]);
01474 <span class="preprocessor">#endif</span>
01475 <span class="preprocessor"></span>            <span class="keywordflow">else</span> (*itor)[readQ.m_name].set(rowVal);
01476           }
01477         }
01478         <span class="keywordflow">else</span> (*itor)[readQ.m_name].set( m_strings[i].at(tot) );
01479       }
01480       tot++;
01481     }<span class="comment">/* loop on rows */</span>
01482   }
01483   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01484     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot write at row#"</span> &lt;&lt; tot;
01485     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
01486     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
01487   }<span class="comment">/* end of try */</span>
01488   }<span class="comment">/* at least 1 row */</span>
01489 
01490   <span class="keyword">delete</span> myDOL; myDOL=0;
01491   sortie &lt;&lt; <span class="stringliteral">"output fits is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" rows written)"</span>;
01492   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01493   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01494 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="catalogAccess::Catalog::saveSelectedFits" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveSelectedFits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>extName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>clobber</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>append</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01497">1497</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
<pre class="fragment"><div>01499                                                          {
01500 
01501   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveSelectedFits"</span>;
01502   Table *myDOL=0;
01503   <span class="keywordtype">int</span> err;
01504   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d23">createFits</a>(fileName, extName, clobber, append, origin, &amp;myDOL);
01505   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
01506 
01507   std::ostringstream sortie;
01508   <span class="keywordtype">long</span> tot=0l;
01509   <span class="keywordtype">int</span>  i, j;
01510 
01511   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
01512   <span class="keywordflow">try</span> {
01513     myDOL-&gt;setNumRecords(m_numSelRows);
01514     Quantity readQ;
01515     <span class="keywordtype">double</span> rowVal;
01516     err=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
01517     std::vector&lt;long&gt; colNull(err, 0);
01518     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01519       readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j];
01520       colNull[j]=atoi( readQ.m_null.c_str() );
01521     }
01522     Table::Iterator itor=myDOL-&gt;begin();
01523     <span class="comment">// Loop over all selected records (rows) and set values</span>
01524     <span class="comment">// first bit indicates global selection</span>
01525     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01526       <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01527         readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[j];
01528         i=readQ.m_index;
01529         <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01530           rowVal= <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[i].at(tot);
01531           <span class="keywordflow">if</span> ( readQ.m_null.empty() ) (*itor)[readQ.m_name].set(rowVal);
01532           <span class="keywordflow">else</span> {
01533 <span class="preprocessor">#ifdef WIN32</span>
01534 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( _isnan(rowVal) ) (*itor)[readQ.m_name].set(colNull[j]);
01535 <span class="preprocessor">#else</span>
01536 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ( std::isnan(rowVal) ) (*itor)[readQ.m_name].set(colNull[j]);
01537 <span class="preprocessor">#endif</span>
01538 <span class="preprocessor"></span>            <span class="keywordflow">else</span> (*itor)[readQ.m_name].set(rowVal);
01539             <span class="comment">// to be improved for integers</span>
01540           }
01541         }
01542         <span class="keywordflow">else</span> (*itor)[readQ.m_name].set( m_strings[i].at(tot) );
01543       }
01544       tot++;
01545       itor++;
01546       <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>) <span class="keywordflow">break</span>;
01547     }
01548   }
01549   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01550     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot write at row#"</span> &lt;&lt; tot;
01551     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
01552     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
01553   }<span class="comment">/* end of try */</span>
01554   }<span class="comment">/* at least 1 selected row */</span>
01555 
01556   <span class="keyword">delete</span> myDOL; myDOL=0;
01557   sortie &lt;&lt; <span class="stringliteral">"output fits is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" rows written)"</span>;
01558   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01559   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01560 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="catalogAccess::Catalog::saveSelectedText" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveSelectedText           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>clobber</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00989">989</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, and <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>.
<p>
<pre class="fragment"><div>00989                                                                      {
00990 
00991   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveSelectedText"</span>;
00992   <span class="keywordtype">int</span> err;
00993   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d22">createText</a>(fileName, clobber, origin);
00994   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00995 
00996   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00997 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="catalogAccess::Catalog::saveText" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveText           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>clobber</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00978">978</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, and <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00978                                                              {
00979 
00980   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveText"</span>;
00981   <span class="keywordtype">int</span> err;
00982   err=<a class="code" href="classcatalog_access_1_1_catalog.html#d22">createText</a>(fileName, clobber, origin);
00983   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00984 
00985   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00986 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="catalogAccess::Catalog::selectAllQuantities" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::selectAllQuantities           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>toBeLoaded</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00038">38</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a33">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<pre class="fragment"><div>00038                                                       {
00039 
00040   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"selectAllQuantities"</span>, <span class="keyword">true</span>);
00041   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00042 
00043   <span class="comment">// beware m_loadQuantity has always the initial size</span>
00044   <span class="comment">// whereas m_quantities size can decrease</span>
00045   <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size();
00046   <span class="keywordflow">if</span> (quantSize != maxSize) {
00047     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"selectAllQuantities"</span>,
00048              <span class="stringliteral">"cannot get all initial quantities once importSelected() done"</span>);
00049     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a33">BAD_SEL_QUANT</a>;
00050   }
00051   <span class="keywordflow">if</span> (toBeLoaded) <span class="comment">// vectors with same size</span>
00052        <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.assign(maxSize, <span class="keyword">true</span>);
00053   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.assign(maxSize, <span class="keyword">false</span>);
00054   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00055 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="catalogAccess::Catalog::selectQuantity" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::selectQuantity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>toBeLoaded</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00021">21</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a33">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00021                                                                        {
00022 
00023   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"selectQuantity"</span>, <span class="keyword">true</span>);
00024   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00025   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"selectQuantity"</span>, name);
00026   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00027 
00028   <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.size();
00029   <span class="keywordflow">if</span> (quantSize != maxSize) {
00030     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"selectQuantity"</span>,
00031              <span class="stringliteral">"cannot get all initial quantities once importSelected() done"</span>);
00032     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a33">BAD_SEL_QUANT</a>;
00033   }
00034   <a class="code" href="classcatalog_access_1_1_catalog.html#r11">m_loadQuantity</a>.at(num)=toBeLoaded;
00035   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00036 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a53" doxytag="catalogAccess::Catalog::setCriteriaORed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setCriteriaORed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>bitOR</em> = <code>true</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00332">332</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
<pre class="fragment"><div>00332                                              {
00333 
00334   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setCriteriaORed"</span>;
00335   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00336   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00337 
00338   <span class="comment">// if boolean is the same: do nothing</span>
00339   <span class="keywordflow">if</span> (bitOR == <a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00340   <a class="code" href="classcatalog_access_1_1_catalog.html#r18">m_criteriaORed</a>=bitOR;
00341 
00342   <span class="comment">/* if no data: exit */</span>
00343   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00344   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00345   std::vector&lt;bool&gt; isSelected;
00346   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected) ) {
00347     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00348       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00349     }
00350   }
00351   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00352 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d11" doxytag="catalogAccess::Catalog::setGeneric" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::setGeneric           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>whichCat</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00077">77</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, <a class="el" href="catalog_8h-source.html#l00028">MAX_GEN</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00052">setPosErrFactor()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>.
<p>
<pre class="fragment"><div>00077                                            {
00078 
00079   <span class="keyword">const</span> std::string epoch=<span class="stringliteral">"J2000"</span>;
00080   <span class="keywordtype">int</span> max=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.size();
00081   <span class="keywordtype">int</span> j;
00082   std::string text, name;
00083   <a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>= -1;
00084   <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> = -1;
00085   <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>= -1;
00086   std::vector&lt;Quantity&gt;::iterator itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.begin();
00087   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.end(); ++itQ, ++i) {
00088 
00089     <span class="keywordflow">if</span> ((whichCat &gt;= 0) &amp;&amp; (whichCat &lt; <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>)) {
00090       <span class="comment">// if it is a known catalog, the generic are defined</span>
00091       text=itQ-&gt;m_name;
00092       <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="catalog_8h.html#a1">MAX_GEN</a>; j++) {
00093         name=Catalog::s_CatalogGeneric[whichCat][j];
00094         <span class="keywordflow">if</span> (name == <span class="stringliteral">"+"</span>) name=UCD_Added[j];
00095         <span class="keywordflow">if</span> (text == name) {
00096           itQ-&gt;m_isGeneric=<span class="keyword">true</span>;
00097           <span class="keywordflow">switch</span> (j) {
00098             <span class="keywordflow">case</span> 1: <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>=i;
00099             <span class="keywordflow">break</span>;
00100             <span class="keywordflow">case</span> 2: <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>=i;
00101             <span class="keywordflow">break</span>;
00102             <span class="keywordflow">case</span> 3: <a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>=i;
00103                     <a class="code" href="classcatalog_access_1_1_catalog.html#d10">setPosErrFactor</a>(i);
00104             <span class="keywordflow">break</span>;
00105             <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
00106           }
00107         }
00108       }<span class="comment">// loop on generic</span>
00109       text=itQ-&gt;m_ucd;
00110     }
00111 
00112     <span class="keywordflow">else</span> {
00113       <span class="comment">// otherwise, take first matching UCD</span>
00114       text=itQ-&gt;m_ucd;
00115       <span class="keywordflow">if</span> (text != <span class="stringliteral">""</span>) <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="catalog_8h.html#a1">MAX_GEN</a>; j++) { 
00116         <span class="keywordflow">if</span> (text == UCD_List[j]) {
00117           itQ-&gt;m_isGeneric=<span class="keyword">true</span>;
00118           <span class="keywordflow">if</span> ((j == 1) || (j == 2)) {
00119             <span class="comment">// check that epoch is J2000</span>
00120             name=itQ-&gt;m_name;
00121             name.erase(0, name.length()-epoch.length());
00122             <span class="comment">// format contains at least 1 char</span>
00123             <span class="keywordflow">if</span> ((name == epoch) &amp;&amp; (itQ-&gt;m_type == Quantity::NUM)) {
00124               <span class="keywordflow">if</span> (j == 1) <a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>=i;
00125               <span class="keywordflow">else</span>        <a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>=i;
00126             }
00127             <span class="keywordflow">else</span> itQ-&gt;m_isGeneric=<span class="keyword">false</span>;
00128           }
00129           <span class="keywordflow">break</span>;
00130         }
00131       }<span class="comment">// loop on generic</span>
00132     }
00133 
00134     <span class="comment">// flag error quantities, useless for already found generic</span>
00135     <span class="keywordflow">if</span> ((text == <span class="stringliteral">"ERROR"</span>) &amp;&amp; (!itQ-&gt;m_isGeneric)) {
00136       <span class="comment">// error column name is e_"associated column" except for position error</span>
00137       text=itQ-&gt;m_name;
00138       <span class="keywordflow">if</span> (text.find(<span class="stringliteral">"e_"</span>) == 0) {
00139         text.erase(0, 2);
00140 <span class="preprocessor">        #ifdef DEBUG_CAT</span>
00141 <span class="preprocessor"></span>        std::cout &lt;&lt; <span class="stringliteral">"ERROR column ("</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00142 <span class="preprocessor">        #endif</span>
00143 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(j).m_name == text) {
00144           itQ-&gt;m_statError=text;
00145           <span class="keywordflow">break</span>;
00146         }
00147       }
00148       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((text == <span class="stringliteral">"PosErr"</span>) || (text == <span class="stringliteral">"ErrorRad"</span>)) {
00149         itQ-&gt;m_isGeneric=<span class="keyword">true</span>;
00150         <a class="code" href="classcatalog_access_1_1_catalog.html#r26">m_indexErr</a>=i;
00151         <a class="code" href="classcatalog_access_1_1_catalog.html#d10">setPosErrFactor</a>(i);
00152       }
00153     }
00154 
00155   }<span class="comment">// loop on quantities</span>
00156 
00157   <span class="comment">/* since RA, DEC columns can be erased while importSelected() */</span>
00158   <span class="comment">/* must update the existence of elliptical region */</span>
00159   <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> &lt; 0) || (<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a> &lt; 0)) <a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>=<span class="keyword">false</span>;
00160 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a56" doxytag="catalogAccess::Catalog::setLowerCut" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setLowerCut           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>cutVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00481">481</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00481                                                             {
00482 
00483   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setLowerCut"</span>;
00484   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00485   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00486 
00487   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00488   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00489   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00490     std::string errText;
00491     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00492     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00493     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00494   }
00495 
00496   <span class="comment">// if cut is the same: do nothing</span>
00497   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) cutVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00498   <span class="keywordflow">if</span> (cutVal == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_lowerCut) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00499   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_lowerCut=cutVal;
00500 
00501   <span class="comment">/* if no data: exit */</span>
00502   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00503 
00504   std::vector&lt;bool&gt; isSelected;
00505   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00506   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00507   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00508     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling lower cut (on "</span>+name+<span class="stringliteral">")"</span>);
00509     <span class="keywordflow">if</span> (!oneCriteria) {
00510       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
00511         quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
00512         <span class="keywordflow">for</span> (index=0; index&lt;quantSize; index++)
00513           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[index].assign(m_numRows, 0);
00514       }
00515       <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00516       check=<span class="keyword">false</span>;
00517       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00518     }
00519   }
00520   <span class="keywordflow">else</span> {
00521     std::ostringstream sortie;
00522     sortie &lt;&lt; <span class="stringliteral">"Enabling lower cut ("</span> &lt;&lt;cutVal&lt;&lt;<span class="stringliteral">" on "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>;
00523     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());  
00524   }
00525   
00526   <span class="keywordflow">if</span> (check) {
00527     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_rejectNaN,
00528          cutOR=m_quantities[index].m_cutORed,
00529          miss=m_quantities[index].m_excludeList;
00530     <span class="keywordtype">double</span> precis=m_quantities[index].m_precision;
00531     <span class="keywordtype">int</span>  k,
00532          pos=m_quantities[index].m_index;
00533     <span class="keywordtype">long</span> i;
00534     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00535     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00536     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00537     oneCriteria=isSelected.at(index+1);
00538     <span class="keywordflow">if</span> (oneCriteria) {
00539 
00540       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00541       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00542         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00543           check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(m_numericals[pos].at(i), index, miss, reject, precis);
00544         <span class="keywordflow">else</span>
00545           check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(m_numericals[pos].at(i), index, reject, precis);
00546         <span class="comment">// setting required bit</span>
00547         <span class="keywordflow">if</span> (check)
00548           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
00549         <span class="keywordflow">else</span>
00550           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00551         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00552       }<span class="comment">// loop on rows</span>
00553 
00554     }
00555     <span class="keywordflow">else</span> {
00556 
00557       <span class="keywordflow">for</span> (i=0; i&lt;m_numRows; i++) {
00558         <span class="comment">// required bit set to FALSE</span>
00559         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00560         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00561       }<span class="comment">// loop on rows</span>
00562 
00563     }
00564   }
00565   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00566 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a65" doxytag="catalogAccess::Catalog::setMatchEpsilon" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setMatchEpsilon           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>step</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00945">945</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a32">catalogAccess::BAD_SEL_LIM</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
<pre class="fragment"><div>00946 {
00947   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setMatchEpsilon"</span>;
00948   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00949   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00950   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00951   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00952   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00953     std::string errText;
00954     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00955     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00956     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00957   }
00958   std::ostringstream sortie;
00959   <span class="keywordflow">if</span> (step == 0ul) {
00960     sortie &lt;&lt; <span class="stringliteral">"Number of epsilon must be &gt; 0"</span>;
00961     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00962     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a32">BAD_SEL_LIM</a>;
00963   }
00964   <span class="comment">// if limit is the same: do nothing</span>
00965   <span class="keywordtype">double</span> precis=step*std::numeric_limits&lt;double&gt;::epsilon();
00966   <span class="keywordflow">if</span> (precis == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_precision) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00967   m_quantities.at(index).m_precision=precis;
00968 
00969   <span class="comment">/* if no data: exit */</span>
00970   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00971   <span class="comment">/* if empty list: exit */</span>
00972   <span class="keywordflow">if</span> (m_quantities[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00973 
00974   std::vector&lt;bool&gt; isSelected;
00975   <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00976   <span class="comment">// quantity is selected since list is not empty</span>
00977   sortie &lt;&lt; <span class="stringliteral">"Relative precision for values in list (for "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>
00978          &lt;&lt; <span class="stringliteral">" is: "</span> &lt;&lt; precis &lt;&lt; <span class="stringliteral">" (absolute precision around 0)"</span>;
00979   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00980   <span class="keywordtype">bool</span> check,
00981        cutOR=m_quantities[index].m_cutORed,
00982        reject=m_quantities[index].m_rejectNaN,
00983        miss=m_quantities[index].m_excludeList;
00984   <span class="keywordtype">int</span>  k,
00985        pos=m_quantities[index].m_index;
00986   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00987   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00988   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00989 
00990     <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00991       check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(m_numericals[pos].at(i), index, miss, reject, precis);
00992     <span class="keywordflow">else</span>
00993       check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(m_numericals[pos].at(i), index, reject, precis);
00994     <span class="keywordflow">if</span> (check)
00995       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
00996     <span class="keywordflow">else</span>
00997       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00998     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00999 
01000   }<span class="comment">// loop on rows</span>
01001 
01002   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
01003 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a64" doxytag="catalogAccess::Catalog::setMatchPercent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setMatchPercent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>percent</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00884">884</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a32">catalogAccess::BAD_SEL_LIM</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00884                                                                  {
00885 
00886   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setMatchPercent"</span>;
00887   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00888   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00889   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00890   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00891   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00892     std::string errText;
00893     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00894     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00895     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00896   }
00897   std::ostringstream sortie;
00898   <span class="keywordflow">if</span> (percent &lt;= 100.*NearZero) {
00899     sortie &lt;&lt; <span class="stringliteral">"Percentage must be &gt; "</span> &lt;&lt; 100.*NearZero;
00900     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00901     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a32">BAD_SEL_LIM</a>;
00902   }
00903   <span class="comment">// if limit is the same: do nothing</span>
00904   percent/=100.;
00905   <span class="keywordflow">if</span> (percent == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_precision) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00906   m_quantities.at(index).m_precision=percent;
00907 
00908   <span class="comment">/* if no data: exit */</span>
00909   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00910   <span class="comment">/* if empty list: exit */</span>
00911   <span class="keywordflow">if</span> (m_quantities[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00912 
00913   std::vector&lt;bool&gt; isSelected;
00914   <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00915   <span class="comment">// quantity is selected since list is not empty</span>
00916   sortie &lt;&lt; <span class="stringliteral">"Relative precision for values in list (for "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>
00917          &lt;&lt; <span class="stringliteral">" is: "</span> &lt;&lt; percent &lt;&lt; <span class="stringliteral">" (absolute precision around 0)"</span>;
00918   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00919   <span class="keywordtype">bool</span> check,
00920        cutOR=m_quantities[index].m_cutORed,
00921        reject=m_quantities[index].m_rejectNaN,
00922        miss=m_quantities[index].m_excludeList;
00923   <span class="keywordtype">int</span>  k,
00924        pos=m_quantities[index].m_index;
00925   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00926   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00927   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00928 
00929     <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00930       check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(m_numericals[pos].at(i), index, miss, reject, percent);
00931     <span class="keywordflow">else</span>
00932       check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(m_numericals[pos].at(i), index, reject, percent);
00933     <span class="keywordflow">if</span> (check)
00934       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
00935     <span class="keywordflow">else</span>
00936       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00937     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00938 
00939   }<span class="comment">// loop on rows</span>
00940 
00941   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00942 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d10" doxytag="catalogAccess::Catalog::setPosErrFactor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::setPosErrFactor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>index</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00052">52</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
<pre class="fragment"><div>00052                                              {
00053 
00054   std::string text=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_unit;
00055   <span class="keywordflow">if</span> ( text.empty() ) {
00056     std::ostringstream sortie;
00057     sortie &lt;&lt; <span class="stringliteral">"Generic position error ("</span> &lt;&lt; m_quantities[index].m_name
00058            &lt;&lt; <span class="stringliteral">") has no unit, by default multiply by: 1/"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>;
00059     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"private setGeneric"</span>, sortie.str());
00060   }
00061   <span class="keywordflow">else</span> {
00062     <span class="comment">// use explicit cast to be sure compiler choose the right tolower()</span>
00063     std::transform(text.begin(), text.end(), text.begin(), (int(*)(<span class="keywordtype">int</span>)) tolower);
00064     <span class="keywordflow">if</span> (text == <span class="stringliteral">"deg"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=1.0;
00065     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"arcsec"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=3600.0;
00066     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"arcmin"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=60.0;
00067     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"rad"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>=1.0/Angle_Conv;
00068     <span class="keywordflow">else</span> {
00069       std::ostringstream sortie;
00070       sortie &lt;&lt; <span class="stringliteral">"Generic position error ("</span> &lt;&lt; m_quantities[index].m_name
00071              &lt;&lt; <span class="stringliteral">") has unknown unit, by default multiply by: 1/"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r9">m_posErrFactor</a>;
00072       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"private setGeneric"</span>, sortie.str());
00073     }
00074   }
00075 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a63" doxytag="catalogAccess::Catalog::setRejectNaN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setRejectNaN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>rejectNaN</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00827">827</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00827                                                                     {
00828 
00829   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setRejectNaN"</span>;
00830   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00831   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00832   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00833   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00834   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00835     std::string errText;
00836     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00837     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00838     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00839   }
00840   <span class="comment">// if same boolean: do nothing</span>
00841   <span class="keywordflow">if</span> (rejectNaN == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_rejectNaN) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00842   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_rejectNaN=rejectNaN;
00843 
00844   <span class="comment">/* if no data: exit */</span>
00845   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00846 
00847   std::vector&lt;bool&gt; isSelected;
00848   <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00849   <span class="keywordflow">if</span> (isSelected.at(index+1)) {
00850     <span class="comment">// apply the selection with new behaviour on NaN</span>
00851 
00852     std::string text=<span class="stringliteral">"NaN values are now "</span>;
00853     <span class="keywordflow">if</span> (rejectNaN) text=text+<span class="stringliteral">" rejected (on "</span>;
00854     <span class="keywordflow">else</span> text=text+<span class="stringliteral">" accepted (on "</span>;
00855     text=text+name+ <span class="stringliteral">")"</span>;
00856     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
00857     <span class="keywordtype">bool</span> check,
00858          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_cutORed,
00859          miss=m_quantities[index].m_excludeList;
00860     <span class="keywordtype">double</span> precis=m_quantities[index].m_precision;
00861     <span class="keywordtype">int</span>  k,
00862          pos=m_quantities[index].m_index;
00863     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00864     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00865     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00866 
00867       <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00868         check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(m_numericals[pos].at(i), index, miss, rejectNaN, precis);
00869       <span class="keywordflow">else</span>
00870         check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(m_numericals[pos].at(i), index, rejectNaN, precis);
00871       <span class="keywordflow">if</span> (check)
00872         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
00873       <span class="keywordflow">else</span>
00874         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00875       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00876 
00877     }<span class="comment">// loop on rows</span>
00878 
00879   }
00880   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00881 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a54" doxytag="catalogAccess::Catalog::setSelEllipse" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setSelEllipse           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap> <em>centRA_deg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>centDEC_deg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>majAxis_deg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>minAxis_deg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap> <em>rot_deg</em> = <code>0.</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00357">357</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a31">catalogAccess::BAD_AXIS</a>, <a class="el" href="namespacecatalog_access.html#a37a29">catalogAccess::BAD_DEC</a>, <a class="el" href="namespacecatalog_access.html#a37a28">catalogAccess::BAD_RA</a>, <a class="el" href="namespacecatalog_access.html#a37a30">catalogAccess::BAD_ROT</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00424">m_selEllipseCentRA_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00428">m_selEllipseMinAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00432">m_selEllipseRot_deg</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="namespacecatalog_access.html#a37a23">catalogAccess::NO_RA_DEC</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00359                                                  {
00360 
00361   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setSelEllipse"</span>;
00362   std::string text;
00363   std::ostringstream sortie;
00364 
00365   <span class="comment">// first check that selection is possible</span>
00366   <span class="keywordtype">int</span> numPb=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00367   <span class="keywordflow">if</span> (numPb &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> numPb;
00368   <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a> &lt; 0) || (<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a> &lt; 0)) {
00369     text=<span class="stringliteral">"missing generic position quantities (RA and DEC)"</span>; 
00370     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00371     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a23">NO_RA_DEC</a>;
00372   }
00373   numPb=0;
00374   <span class="comment">//const std::_Ios_Fmtflags outDouble=std::ios::right | std::ios::scientific;</span>
00375   <span class="keywordflow">if</span> ((centRA_deg &lt; 0.) || (centRA_deg &gt;= 360.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a28">BAD_RA</a>;
00376   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((centDEC_deg &lt; -90.) || (centDEC_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a29">BAD_DEC</a>;
00377   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((rot_deg &lt; 0.) || (rot_deg &gt;= 180.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a30">BAD_ROT</a>;
00378   <span class="keywordflow">if</span> (numPb &lt; 0) {
00379     text=<span class="stringliteral">"bad ellipse position (impossible RA, DEC or rotation)"</span>; 
00380     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00381     <span class="keywordflow">return</span> numPb;
00382   }
00383   <span class="keywordflow">if</span> ((majAxis_deg &lt; Min_Axis) || (majAxis_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a31">BAD_AXIS</a>;
00384   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((minAxis_deg &lt; Min_Axis) || (minAxis_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a31">BAD_AXIS</a>;
00385   <span class="comment">// size limited to one hemisphere</span>
00386   <span class="keywordflow">if</span> (numPb &lt; 0) {
00387     sortie &lt;&lt; <span class="stringliteral">"bad ellipse size, radius from "</span> &lt;&lt; std::setprecision(2)
00388            &lt;&lt; Min_Axis*1000 &lt;&lt; <span class="stringliteral">"E-3 to 90 (in RA or DEC)"</span>;
00389     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00390     <span class="keywordflow">return</span> numPb;
00391   }
00392   <span class="keywordflow">if</span> (rot_deg &gt; 0.)
00393     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"whatever orientation, using 0"</span>); 
00394   <span class="keywordflow">if</span> (fabs(majAxis_deg/minAxis_deg - 1.) &gt; 10*Min_Prec)
00395     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"axis sizes differ, taking only major axis"</span>);
00396   <a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>=<span class="keyword">true</span>;
00397   <a class="code" href="classcatalog_access_1_1_catalog.html#r20">m_selEllipseCentRA_deg</a>=centRA_deg;
00398   <a class="code" href="classcatalog_access_1_1_catalog.html#r21">m_selEllipseCentDEC_deg</a>=centDEC_deg;
00399   <a class="code" href="classcatalog_access_1_1_catalog.html#r23">m_selEllipseMajAxis_deg</a>=majAxis_deg;
00400   <a class="code" href="classcatalog_access_1_1_catalog.html#r22">m_selEllipseMinAxis_deg</a>=majAxis_deg; <span class="comment">//minAxis_deg;</span>
00401   <a class="code" href="classcatalog_access_1_1_catalog.html#r24">m_selEllipseRot_deg</a>=0.; <span class="comment">//rot_deg;</span>
00402   <span class="comment">// angles are phi=RA and theta=PI/2-DEC</span>
00403   <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(0)=cos(m_selEllipseCentRA_deg * Angle_Conv);
00404   <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(1)=sin(m_selEllipseCentRA_deg * Angle_Conv);
00405   <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(2)=cos(m_selEllipseCentDEC_deg* Angle_Conv);
00406   <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(3)=sin(m_selEllipseCentDEC_deg* Angle_Conv);
00407   <a class="code" href="classcatalog_access_1_1_catalog.html#r29">m_selEllipse</a>.at(4)=cos(majAxis_deg * Angle_Conv);
00408 
00409   sortie &lt;&lt; <span class="stringliteral">"selection ellipse center RA="</span> &lt;&lt; std::setprecision(4)
00410          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r20">m_selEllipseCentRA_deg</a> &lt;&lt; <span class="stringliteral">" , DEC="</span>
00411          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r21">m_selEllipseCentDEC_deg</a> &lt;&lt; <span class="stringliteral">" with radius "</span>
00412          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r23">m_selEllipseMajAxis_deg</a> &lt;&lt; <span class="stringliteral">" * "</span>
00413          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r22">m_selEllipseMinAxis_deg</a> &lt;&lt; <span class="stringliteral">" (degrees) orientated at "</span>
00414          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#r24">m_selEllipseRot_deg</a> &lt;&lt; <span class="stringliteral">" (with respect to North pole)"</span>;
00415   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00416   <span class="comment">/* if no data: exit */</span>
00417   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00418 
00419   <span class="comment">// now, apply the selection ellipse</span>
00420   std::vector&lt;bool&gt; isSelected;
00421   <a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected); <span class="comment">// returns true (m_selRegion is true)</span>
00422   <span class="keywordtype">bool</span> check;
00423   <span class="keywordtype">int</span> nRA =<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#r27">m_indexRA</a>].m_index,
00424       nDEC=m_quantities[<a class="code" href="classcatalog_access_1_1_catalog.html#r28">m_indexDEC</a>].m_index;
00425   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel;
00426   <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00427   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00428 
00429     check=<a class="code" href="classcatalog_access_1_1_catalog.html#d3">checkRegion</a>(i, nRA, nDEC);
00430     currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i);
00431     <span class="keywordflow">if</span> (check) <span class="comment">// setting 2nd bit to 1</span>
00432       m_rowIsSelected[0].at(i)=currSel | 2ul;
00433     <span class="keywordflow">else</span>       <span class="comment">// setting 2nd bit to 0</span>
00434       m_rowIsSelected[0].at(i)=currSel &amp; (Max_Test-2ul);
00435     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00436 
00437   }<span class="comment">// loop on all rows</span>
00438   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00439 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a57" doxytag="catalogAccess::Catalog::setUpperCut" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setUpperCut           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>cutVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00570">570</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00570                                                             {
00571 
00572   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setUpperCut"</span>;
00573   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(origin, <span class="keyword">true</span>);
00574   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00575 
00576   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(origin, name);
00577   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00578   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00579     std::string errText;
00580     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00581     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00582     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00583   }
00584   <span class="comment">// if cut is the same: do nothing</span>
00585   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) cutVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00586   <span class="keywordflow">if</span> (cutVal == <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_upperCut) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00587   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_upperCut=cutVal;
00588 
00589   <span class="comment">/* if no data: exit */</span>
00590   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00591 
00592   std::vector&lt;bool&gt; isSelected;
00593   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00594   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00595   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00596     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling upper cut (on "</span>+name+<span class="stringliteral">")"</span>);
00597     <span class="keywordflow">if</span> (!oneCriteria) {
00598       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
00599         quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
00600         <span class="keywordflow">for</span> (index=0; index&lt;quantSize; index++)
00601           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[index].assign(m_numRows, 0);
00602       }
00603       <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00604       check=<span class="keyword">false</span>;
00605       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00606     }
00607   }
00608   <span class="keywordflow">else</span> {
00609     std::ostringstream sortie;
00610     sortie &lt;&lt; <span class="stringliteral">"Enabling upper cut ("</span> &lt;&lt;cutVal&lt;&lt;<span class="stringliteral">" on "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>;
00611     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());  
00612   }
00613   
00614   <span class="keywordflow">if</span> (check) {
00615     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_rejectNaN,
00616          cutOR=m_quantities[index].m_cutORed,
00617          miss=m_quantities[index].m_excludeList;
00618     <span class="keywordtype">double</span> precis=m_quantities[index].m_precision;
00619     <span class="keywordtype">int</span>  k,
00620          pos=m_quantities[index].m_index;
00621     <span class="keywordtype">long</span> i;
00622     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00623     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00624     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00625     oneCriteria=isSelected.at(index+1);
00626     <span class="keywordflow">if</span> (oneCriteria) {
00627 
00628       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00629       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00630         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00631           check=<a class="code" href="classcatalog_access_1_1_catalog.html#d4">checkNUM</a>(m_numericals[pos].at(i), index, miss, reject, precis);
00632         <span class="keywordflow">else</span>
00633           check=<a class="code" href="classcatalog_access_1_1_catalog.html#d5">checkNUMor</a>(m_numericals[pos].at(i), index, reject, precis);
00634         <span class="comment">// setting required bit</span>
00635         <span class="keywordflow">if</span> (check)
00636           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)|= test;
00637         <span class="keywordflow">else</span>
00638           <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00639         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00640       }<span class="comment">// loop on rows</span>
00641 
00642     }
00643     <span class="keywordflow">else</span> {
00644 
00645       <span class="keywordflow">for</span> (i=0; i&lt;m_numRows; i++) {
00646         <span class="comment">// required bit set to FALSE</span>
00647         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00648         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00649       }<span class="comment">// loop on rows</span>
00650 
00651     }
00652   }
00653   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00654 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d14" doxytag="catalogAccess::Catalog::translate_cell" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::translate_cell           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>mot</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_text_8cxx-source.html#l00018">18</a> of file <a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>.
<p>
<pre class="fragment"><div>00018                                                            {
00019 
00020   <span class="keywordtype">int</span>  j, last;
00021   <span class="keywordtype">char</span> form; 
00022 
00023   <span class="comment">// remove trailing spaces</span>
00024   last=mot.length();
00025 <span class="comment">/* useless Warning, happen many times for last column of 3EG objects (EGRET)</span>
00026 <span class="comment">  if (last == 0) {</span>
00027 <span class="comment">    std::ostringstream sortie;</span>
00028 <span class="comment">    sortie &lt;&lt; "one quantity has no character (row #" &lt;&lt; m_numRows+1 &lt;&lt; ")";</span>
00029 <span class="comment">    printWarn("private translate_cell", sortie.str());</span>
00030 <span class="comment">  }</span>
00031 <span class="comment">  else {*/</span>
00032   <span class="keywordflow">if</span> (last) {
00033     <span class="keywordflow">do</span> last--;
00034     <span class="keywordflow">while</span> ( (last &gt;= 0) &amp;&amp; (mot.at(last) == <span class="charliteral">' '</span>) );
00035   }
00036   last++;
00037   j=<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>[index].m_index;
00038   form=m_quantities[index].m_format.at(0);
00039   <span class="keywordflow">if</span> (form == <span class="charliteral">'A'</span>) {
00040     <a class="code" href="classcatalog_access_1_1_catalog.html#r12">m_strings</a>[j].at(m_numRows)=mot.substr(0, last);
00041   }
00042   <span class="keywordflow">else</span> {
00043     <span class="keywordflow">if</span> (last) {
00044       <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(m_numRows)=std::atof(mot.c_str());
00045     }
00046     <span class="keywordflow">else</span>
00047       <a class="code" href="classcatalog_access_1_1_catalog.html#r13">m_numericals</a>[j].at(m_numRows)=MissNAN;
00048   }
00049 
00050 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="d7" doxytag="catalogAccess::Catalog::unsetCuts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::unsetCuts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>index</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00235">235</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
<pre class="fragment"><div>00235                                        {
00236 
00237   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_listValS.clear();
00238   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_lowerCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00239   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_upperCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00240   <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_listValN.clear();
00241   <span class="comment">/* if no data: exit */</span>
00242   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span>;
00243 
00244   <span class="comment">// now, must check criteria on region and other quantities</span>
00245   <span class="keywordtype">int</span> k;
00246   std::vector&lt;bool&gt; isSelected;
00247   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00248   <span class="keywordflow">if</span> (oneCriteria) {
00249 
00250     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#d29">bitPosition</a>(index, &amp;k);
00251     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00252     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00253       <span class="comment">// setting required bit to 0</span>
00254       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00255       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00256     }<span class="comment">// loop on rows</span>
00257 
00258   }
00259   <span class="keywordflow">else</span> {
00260     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
00261       <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
00262       <span class="keywordflow">for</span> (k=0; k&lt;quantSize; k++)
00263         <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[k].assign(m_numRows, 0);
00264     }
00265     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00266     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00267   }
00268 
00269 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a52" doxytag="catalogAccess::Catalog::unsetCuts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetCuts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00286">286</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00272">unsetCuts()</a>.
<p>
<pre class="fragment"><div>00286                        {
00287 
00288   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"unsetCuts"</span>, <span class="keyword">true</span>);
00289   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00290   <span class="keywordtype">int</span> j;
00291   <span class="comment">/*for (j=0; j&lt;quantSize; j++) unsetCuts(m_quantities.at(j).m_name);*/</span>
00292   <span class="comment">//quicker to just check for selection ellipse</span>
00293   <span class="keywordflow">for</span> (j=0; j&lt;quantSize; j++) {
00294     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(j).m_listValS.clear();
00295     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(j).m_lowerCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00296     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(j).m_upperCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00297     <a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(j).m_listValN.clear();
00298   }
00299   <a class="code" href="classcatalog_access_1_1_catalog.html#r17">m_selection</a>=<span class="stringliteral">""</span>;
00300   <span class="comment">/* if no data: exit */</span>
00301   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00302 
00303   <span class="comment">// now, must check criteria on region</span>
00304   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
00305   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>) {
00306 
00307     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel;
00308     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00309     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00310       currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i);
00311       <span class="keywordflow">if</span> (currSel &amp; 2ul) {
00312         m_rowIsSelected[0].at(i)=3ul;
00313         <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00314       }
00315       <span class="keywordflow">else</span> m_rowIsSelected[0].at(i)=0ul;
00316       <span class="comment">// setting all bits to 0 except first two</span>
00317       <span class="keywordflow">for</span> (j=1; j&lt;quantSize; j++) m_rowIsSelected[j].at(i)=0ul;
00318     }<span class="comment">// loop on rows</span>
00319 
00320   }
00321   <span class="keywordflow">else</span> {
00322     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0)
00323       <span class="keywordflow">for</span> (j=0; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
00324     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00325     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00326   }
00327   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00328 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a51" doxytag="catalogAccess::Catalog::unsetCuts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetCuts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00272">272</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00286">unsetCuts()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00272                                            {
00273 
00274   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"unsetCuts"</span>, <span class="keyword">true</span>);
00275   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00276   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"unsetCuts"</span>, name);
00277   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00278 
00279   <a class="code" href="classcatalog_access_1_1_catalog.html#a52">unsetCuts</a>(index);
00280   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00281 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a55" doxytag="catalogAccess::Catalog::unsetSelEllipse" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetSelEllipse           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00442">442</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>.
<p>
<pre class="fragment"><div>00442                              {
00443 
00444   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"unsetSelEllipse"</span>, <span class="keyword">true</span>);
00445   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00446 
00447   <span class="comment">// if region was already unset: do nothing</span>
00448   <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00449   <a class="code" href="classcatalog_access_1_1_catalog.html#r19">m_selRegion</a>=<span class="keyword">false</span>;
00450   <span class="comment">/* if no data: exit */</span>
00451   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00452 
00453   <span class="comment">// now, must check criteria on other quantities</span>
00454   std::vector&lt;bool&gt; isSelected;
00455   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#d2">existCriteria</a>(&amp;isSelected);
00456   <span class="keywordflow">if</span> (oneCriteria) {
00457     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00458     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#r15">m_numRows</a>; i++) {
00459 
00460       <span class="comment">// setting 2nd bit to 0</span>
00461       <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[0].at(i)&amp;= (Max_Test-2ul);
00462       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#d6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>++;
00463  
00464     }<span class="comment">// loop on rows</span>
00465   }
00466   <span class="keywordflow">else</span> {
00467     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a> &gt; 0) {
00468       quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>.size();
00469       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#r16">m_rowIsSelected</a>[j].assign(m_numRows, 0);
00470     }
00471     <a class="code" href="classcatalog_access_1_1_catalog.html#r25">m_numSelRows</a>=0;
00472     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00473   }
00474   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00475 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a61" doxytag="catalogAccess::Catalog::useOnlyN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::useOnlyN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00788">788</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>00789                                                         {
00790 
00791   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"useOnlyN"</span>, <span class="keyword">true</span>);
00792   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
00793   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"useOnlyN"</span>, name);
00794   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00795 
00796   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00797     std::string errText;
00798     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00799     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"useOnlyN"</span>, errText);
00800     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00801   }
00802   done=<a class="code" href="classcatalog_access_1_1_catalog.html#d9">doSelN</a>(name, index, 1, listVal);
00803   <span class="keywordflow">return</span> done;
00804 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a59" doxytag="catalogAccess::Catalog::useOnlyS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::useOnlyS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>slist</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap> <em>exact</em> = <code>false</code></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01159">1159</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<pre class="fragment"><div>01160                                                                           {
01161 
01162   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#d24">checkImport</a>(<span class="stringliteral">"useOnlyS"</span>, <span class="keyword">true</span>);
01163   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
01164   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#d27">checkQuant_name</a>(<span class="stringliteral">"useOnlyS"</span>, name);
01165   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01166 
01167   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#r10">m_quantities</a>.at(index).m_type != Quantity::STRING) {  
01168     std::string errText;
01169     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01170     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"useOnlyS"</span>, errText);
01171     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01172   }
01173   done=<a class="code" href="classcatalog_access_1_1_catalog.html#d8">doSelS</a>(name, index, 1, list, exact);
01174   <span class="keywordflow">return</span> done;
01175 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r2" doxytag="catalogAccess::Catalog::m_catName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r2">catalogAccess::Catalog::m_catName</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00376">376</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="catalogAccess::Catalog::m_catRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r3">catalogAccess::Catalog::m_catRef</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00377">377</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="catalogAccess::Catalog::m_code" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r0">catalogAccess::Catalog::m_code</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00374">374</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r18" doxytag="catalogAccess::Catalog::m_criteriaORed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool <a class="el" href="classcatalog_access_1_1_catalog.html#r18">catalogAccess::Catalog::m_criteriaORed</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00418">418</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00332">setCriteriaORed()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r6" doxytag="catalogAccess::Catalog::m_filename" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r6">catalogAccess::Catalog::m_filename</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00380">380</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r7" doxytag="catalogAccess::Catalog::m_filePos" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classcatalog_access_1_1_catalog.html#r7">catalogAccess::Catalog::m_filePos</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00381">381</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r28" doxytag="catalogAccess::Catalog::m_indexDEC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="classcatalog_access_1_1_catalog.html#r28">catalogAccess::Catalog::m_indexDEC</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00440">440</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01375">getNameDEC()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r26" doxytag="catalogAccess::Catalog::m_indexErr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="classcatalog_access_1_1_catalog.html#r26">catalogAccess::Catalog::m_indexErr</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00438">438</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01385">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r27" doxytag="catalogAccess::Catalog::m_indexRA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="classcatalog_access_1_1_catalog.html#r27">catalogAccess::Catalog::m_indexRA</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00439">439</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01365">getNameRA()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r11" doxytag="catalogAccess::Catalog::m_loadQuantity" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;bool&gt; <a class="el" href="classcatalog_access_1_1_catalog.html#r11">catalogAccess::Catalog::m_loadQuantity</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00386">386</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00038">selectAllQuantities()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r13" doxytag="catalogAccess::Catalog::m_numericals" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;double&gt; &gt; <a class="el" href="classcatalog_access_1_1_catalog.html#r13">catalogAccess::Catalog::m_numericals</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00396">396</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00257">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01295">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00963">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01436">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00018">translate_cell()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r14" doxytag="catalogAccess::Catalog::m_numOriRows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classcatalog_access_1_1_catalog.html#r14">catalogAccess::Catalog::m_numOriRows</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00401">401</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r15" doxytag="catalogAccess::Catalog::m_numRows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classcatalog_access_1_1_catalog.html#r15">catalogAccess::Catalog::m_numRows</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00403">403</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01295">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01375">getNameDEC()</a>, <a class="el" href="catalog_8cxx-source.html#l01385">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01365">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l00774">getNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00739">importWeb()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00963">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01436">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00332">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00018">translate_cell()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r25" doxytag="catalogAccess::Catalog::m_numSelRows" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classcatalog_access_1_1_catalog.html#r25">catalogAccess::Catalog::m_numSelRows</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00437">437</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01295">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00998">getNumSelRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00332">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r9" doxytag="catalogAccess::Catalog::m_posErrFactor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r9">catalogAccess::Catalog::m_posErrFactor</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00383">383</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00052">setPosErrFactor()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r8" doxytag="catalogAccess::Catalog::m_posErrSys" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r8">catalogAccess::Catalog::m_posErrSys</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00382">382</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r10" doxytag="catalogAccess::Catalog::m_quantities" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;<a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a>&gt; <a class="el" href="classcatalog_access_1_1_catalog.html#r10">catalogAccess::Catalog::m_quantities</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00385">385</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_text_8cxx-source.html#l00258">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00097">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00139">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01007">checkValWithinCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00769">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01140">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="catalog_8cxx-source.html#l01408">getNameB()</a>, <a class="el" href="catalog_8cxx-source.html#l01375">getNameDEC()</a>, <a class="el" href="catalog_8cxx-source.html#l01396">getNameL()</a>, <a class="el" href="catalog_8cxx-source.html#l01421">getNameObjName()</a>, <a class="el" href="catalog_8cxx-source.html#l01385">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01365">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00636">getQuantityDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00649">getQuantityNames()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getQuantityTypes()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getQuantityUCDs()</a>, <a class="el" href="catalog_8cxx-source.html#l00672">getQuantityUnits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00742">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00754">getSysErrorName()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00718">importDescription()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00727">importDescriptionWeb()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00739">importWeb()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00807">includeN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00532">loadSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00963">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01436">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00052">setPosErrFactor()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00018">translate_cell()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00788">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01159">useOnlyS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r16" doxytag="catalogAccess::Catalog::m_rowIsSelected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;unsigned long&gt; &gt; <a class="el" href="classcatalog_access_1_1_catalog.html#r16">catalogAccess::Catalog::m_rowIsSelected</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00410">410</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01294">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00667">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01295">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01033">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01065">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01098">getSelSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00739">importWeb()</a>, <a class="el" href="catalog_8cxx-source.html#l01218">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01179">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01327">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01261">ra_deg()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00189">rowSelect()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00481">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00945">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00884">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00827">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00570">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00235">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r17" doxytag="catalogAccess::Catalog::m_selection" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r17">catalogAccess::Catalog::m_selection</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00416">416</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00286">unsetCuts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r29" doxytag="catalogAccess::Catalog::m_selEllipse" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;double&gt; <a class="el" href="classcatalog_access_1_1_catalog.html#r29">catalogAccess::Catalog::m_selEllipse</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00441">441</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r21" doxytag="catalogAccess::Catalog::m_selEllipseCentDEC_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r21">catalogAccess::Catalog::m_selEllipseCentDEC_deg</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00426">426</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r20" doxytag="catalogAccess::Catalog::m_selEllipseCentRA_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r20">catalogAccess::Catalog::m_selEllipseCentRA_deg</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00424">424</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r23" doxytag="catalogAccess::Catalog::m_selEllipseMajAxis_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r23">catalogAccess::Catalog::m_selEllipseMajAxis_deg</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00430">430</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r22" doxytag="catalogAccess::Catalog::m_selEllipseMinAxis_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r22">catalogAccess::Catalog::m_selEllipseMinAxis_deg</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00428">428</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r24" doxytag="catalogAccess::Catalog::m_selEllipseRot_deg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double <a class="el" href="classcatalog_access_1_1_catalog.html#r24">catalogAccess::Catalog::m_selEllipseRot_deg</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00432">432</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r19" doxytag="catalogAccess::Catalog::m_selRegion" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool <a class="el" href="classcatalog_access_1_1_catalog.html#r19">catalogAccess::Catalog::m_selRegion</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00421">421</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00357">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00286">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00442">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r12" doxytag="catalogAccess::Catalog::m_strings" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;std::string&gt; &gt; <a class="el" href="classcatalog_access_1_1_catalog.html#r12">catalogAccess::Catalog::m_strings</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00388">388</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00257">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01054">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01180">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01295">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01005">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01138">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00733">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01436">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01497">saveSelectedFits()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00018">translate_cell()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="catalogAccess::Catalog::m_tableName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r4">catalogAccess::Catalog::m_tableName</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00378">378</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, and <a class="el" href="catalog_8h-source.html#l00588">~Catalog()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r5" doxytag="catalogAccess::Catalog::m_tableRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r5">catalogAccess::Catalog::m_tableRef</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00379">379</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00056">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_text_8cxx-source.html#l00775">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="catalogAccess::Catalog::m_URL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string <a class="el" href="classcatalog_access_1_1_catalog.html#r1">catalogAccess::Catalog::m_URL</a><code> [private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00375">375</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01276">createFits()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01022">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00534">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00780">loadSelectFits()</a>, and <a class="el" href="catalog__io_text_8cxx-source.html#l00660">loadWeb()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v2" doxytag="catalogAccess::Catalog::s_CatalogGeneric" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * <a class="el" href="classcatalog_access_1_1_catalog.html#v2">catalogAccess::Catalog::s_CatalogGeneric</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>{
     {<span class="stringliteral">"3EG"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"theta95"</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"3EG"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>},
     {<span class="stringliteral">""</span>,    <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"1RXS"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"PosErr"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"1WGA"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"ErrorRad"</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"1RXS"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"PosErr"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},
     {<span class="stringliteral">"SNR"</span>,  <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>}   
}
</div></pre>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00050">50</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v1" doxytag="catalogAccess::Catalog::s_CatalogList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * <a class="el" href="classcatalog_access_1_1_catalog.html#v1">catalogAccess::Catalog::s_CatalogList</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>{
      <span class="stringliteral">"EGRET3 sources"</span>, <span class="stringliteral">"J/ApJS/123/79/3eg"</span>,    
      <span class="stringliteral">"EGRET3 fluxes"</span>,  <span class="stringliteral">"J/ApJS/123/79/fluxes"</span>, 
      <span class="stringliteral">"EGRET3 periods"</span>, <span class="stringliteral">"J/ApJS/123/79/table1"</span>, 
      <span class="stringliteral">"ROSAT 1RXS"</span>,     <span class="stringliteral">"IX/10A/1rxs"</span>,          
      <span class="stringliteral">"Veron (11th) quasar"</span>, <span class="stringliteral">"VII/235/table1"</span>,  
      <span class="stringliteral">"Veron (11th) BL Lac"</span>, <span class="stringliteral">"VII/235/table2"</span>,  
      <span class="stringliteral">"Veron (11th) AGN"</span>,    <span class="stringliteral">"VII/235/table3"</span>,  
      <span class="stringliteral">"WGACAT of ROSAT"</span>,     <span class="stringliteral">"IX/31/wgacat"</span>,    
      <span class="stringliteral">"ROSAT faint sources"</span>, <span class="stringliteral">"IX/29/rass_fsc"</span>,  
      <span class="stringliteral">"Green galactic SNR"</span>,  <span class="stringliteral">"VII/227/snrs"</span>     
      }
</div></pre>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00036">36</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v0" doxytag="catalogAccess::Catalog::s_CatalogURL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * <a class="el" href="classcatalog_access_1_1_catalog.html#v0">catalogAccess::Catalog::s_CatalogURL</a><code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>{
      <span class="stringliteral">"cds   fr vizier.u-strasbg.fr/"</span>,    
      <span class="stringliteral">"cfa   us vizier.cfa.harvard.edu/"</span>, 
      <span class="stringliteral">"cadc  ca vizier.hia.nrc.ca/"</span>,      
      <span class="stringliteral">"adac  jp vizier.nao.ac.jp/"</span>,       
      <span class="stringliteral">"ukirt hawaii www.ukirt.jach.hawaii.edu/"</span>, 
      <span class="stringliteral">"cambridge uk archive.ast.cam.ac.uk/"</span>,
      <span class="stringliteral">"iucaa in urania.iucaa.ernet.in/"</span>,  
      <span class="stringliteral">"moscow ru www.inasan.rssi.ru/"</span>,    
      <span class="stringliteral">"bejing cn data.bao.ac.cn/"</span>         
      }
</div></pre>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00023">23</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v4" doxytag="catalogAccess::Catalog::s_genericB" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const std::string <a class="el" href="classcatalog_access_1_1_catalog.html#v4">catalogAccess::Catalog::s_genericB</a> = UCD_List[5]<code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00040">40</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.    </td>
  </tr>
</table>
<a class="anchor" name="v3" doxytag="catalogAccess::Catalog::s_genericL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const std::string <a class="el" href="classcatalog_access_1_1_catalog.html#v3">catalogAccess::Catalog::s_genericL</a> = UCD_List[4]<code> [static, private]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00039">39</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="catalog_8h-source.html">catalog.h</a><li><a class="el" href="catalog_8cxx-source.html">catalog.cxx</a><li><a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a><li><a class="el" href="catalog__io_text_8cxx-source.html">catalog_ioText.cxx</a><li><a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Feb 1 14:22:20 2006 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
