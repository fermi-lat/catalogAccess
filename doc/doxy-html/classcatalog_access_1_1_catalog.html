<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>catalogAccess::Catalog class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>catalogAccess::Catalog Class Reference</h1>Provide methods to define a catalog and access its data. Only inline methods (default constructor, the destructor and 6 private checking methods) are implemented here. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="catalog_8h-source.html">catalog.h</a>&gt;</code>
<p>
<a href="classcatalog_access_1_1_catalog-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a0">Catalog</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a1">~Catalog</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a2">Catalog</a> (const Catalog &amp;)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a3">getMaxNumRows</a> (long *nrows, const std::string &amp;fileName, const std::string ext="1")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a4">getMaxNumRowsWeb</a> (long *nrows, const std::string catName, const std::string urlCode="cds")</td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a> (const long numRows=44000, const bool writeLog=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a> (const std::string &amp;fileName, const std::string ext="1")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a> (const std::string catName, const std::string urlCode="cds", const std::string &amp;fileName="")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a8">import</a> (const std::string &amp;fileName, const long maxRows=0, const std::string ext="1")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a> (const std::string catName, const std::string urlCode="cds", const long maxRow=44000, const std::string &amp;fileName="")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a> (std::string &amp;filter)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a11">saveText</a> (const std::string &amp;fileName, bool clobber=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a12">saveSelectedText</a> (const std::string &amp;fileName, bool clobber=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber=false, bool append=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a14">saveSelectedFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber=false, bool append=false)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a> (std::vector&lt; std::string &gt; *titles)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a> (std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt; *myQuantities)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a> (std::vector&lt; std::string &gt; *names)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a18">getQuantityUnits</a> (std::vector&lt; std::string &gt; *units)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a19">getQuantityUCDs</a> (std::vector&lt; std::string &gt; *ucds)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a20">getQuantityTypes</a> (std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html#s3">Quantity::QuantityType</a> &gt; *types)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a21">getStatErrorName</a> (const std::string name, std::string *statErrName)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a22">getSysErrorName</a> (const std::string name, std::string *sysErrName)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a> (long *nrows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a> (const std::string name, const long row, std::string *stringVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a> (const std::string name, const long row, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a27">getStatError</a> (const std::string name, const long row, double *realValStat)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a28">getSysError</a> (const std::string name, const long row, double *realValSys)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a> (const std::string name, std::vector&lt; std::string &gt; *values)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a30">minVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a> (long *nrows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a33">getSelSValue</a> (const std::string name, const long srow, std::string *stringVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a34">getSelNValue</a> (const std::string name, const long srow, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a35">getSelStatError</a> (const std::string name, const long srow, double *realValStat)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a36">getSelSysError</a> (const std::string name, const long srow, double *realValSys)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a> (const std::string name, std::vector&lt; std::string &gt; *values)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a40">ra_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a41">dec_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a42">posError_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a43">getNameRA</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a44">getNameDEC</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a45">getNamePosErr</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a46">getNameL</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a47">getNameB</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a48">getNameObjName</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a49">selectQuantity</a> (const std::string name, const bool toBeLoaded)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a50">selectAllQuantities</a> (const bool toBeLoaded)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a> (const std::string name)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a52">unsetCuts</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a53">setCriteriaORed</a> (const bool bitOR=true)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a> (const double centRA_deg, const double centDEC_deg, const double majAxis_deg, const double minAxis_deg, const double rot_deg=0.)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a55">unsetSelEllipse</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a> (const std::string name, double cutVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a> (const std::string name, double cutVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a> (const std::string name, const std::vector&lt; std::string &gt; &amp;slist, const bool exact=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a> (const std::string name, const std::vector&lt; std::string &gt; &amp;slist, const bool exact=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a62">includeN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a> (const std::string name, const bool rejectNaN)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a64">setMatchPercent</a> (const std::string name, double percent)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a65">setMatchEpsilon</a> (const std::string name, const unsigned long step)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a66">checkValWithinCut</a> (const std::string name, const double value, bool *cutLow, bool *cutUp, int *checkResult)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d0">getCatList</a> (std::vector&lt; std::string &gt; *names, const bool isCode=true)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d1">getWebList</a> (std::vector&lt; std::string &gt; *names, const bool isCode=true)</td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c1">deleteQuantities</a> ()</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a> (std::vector&lt; bool &gt; *quantSel)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c3">checkRegion</a> (const long row, const int nRA, const int nDEC)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a> (const double r, const int index, const bool miss, const bool reject, const double precis)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a> (const double r, const int index, const bool reject, const double precis)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a> (const long row, const std::vector&lt; bool &gt; &amp;quantSel)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c7">unsetCuts</a> (const int index)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c8">doSelS</a> (const std::string name, const int index, const int code, const std::vector&lt; std::string &gt; &amp;list, const bool exact)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c9">doSelN</a> (const std::string name, const int index, const int code, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c10">setPosErrFactor</a> (const int index)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c11">setGeneric</a> (const int whichCat)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c12">create_tables</a> (const int nbQuantAscii, const long maxRows)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c13">add_rows</a> (const long maxRows)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c14">translate_cell</a> (std::string mot, const int index)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c15">analyze_fits</a> (const tip::Table *myDOL, const bool getDescr, const std::string origin, long *maxRows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c16">analyze_head</a> (unsigned long *tot, int *what, bool *testCR, std::fstream *)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c17">analyze_body</a> (unsigned long *tot, int *what, const bool testCR, const bool getDescr, std::fstream *, long *maxRows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c18">load</a> (const std::string &amp;fileName, const std::string ext, const bool getDescr, long *maxRows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c19">loadWeb</a> (const std::string catName, const std::string urlCode, const std::string &amp;fileName, const long maxRow)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c20">loadSelectFits</a> (const std::string &amp;fileName, const std::string ext, long *maxRows, std::string &amp;filter)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c21">loadSelected</a> (unsigned long *tot, std::fstream *, long *maxRows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c22">createText</a> (const std::string &amp;fileName, bool clobber, const std::string origin)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c23">createFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber, bool append, const std::string origin, tip::Table **ptrTable)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a> (const std::string origin, const bool isDone)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c25">checkCatName</a> (const std::string origin, const std::string catName)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a> (const std::string origin, const long row)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a> (const std::string origin, const std::string name)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a> (const std::string origin, const long srow)</td></tr>
<tr><td nowrap align=right valign=top>unsigned long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a> (const int index, int *k)</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o0">m_code</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; bool &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 std::string &gt; &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 double &gt; &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 unsigned long &gt; &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o17">m_selection</a></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o20">m_selEllipseCentRA_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseMinAxis_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMajAxis_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseRot_deg</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; double &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a></td></tr>
<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r0">s_CatalogURL</a> [MAX_URL]</td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r1">s_CatalogList</a> [2 *MAX_CAT]</td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r2">s_CatalogGeneric</a> [MAX_CAT][MAX_GEN]</td></tr>
<tr><td nowrap align=right valign=top>const std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r3">s_genericL</a> = UCD_List[4]</td></tr>
<tr><td nowrap align=right valign=top>const std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r4">s_genericB</a> = UCD_List[5]</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provide methods to define a catalog and access its data. Only inline methods (default constructor, the destructor and 6 private checking methods) are implemented here.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
A. Sauvageon</dl>$Header $ 
<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00045">45</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="catalogAccess::Catalog::Catalog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::Catalog </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00547">547</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00382">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00020">catalogAccess::verbosity</a>.
<p>
<div class="fragment"><pre>00547                         {
00548 
00549   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=<span class="stringliteral">""</span>;
00550   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> =<span class="stringliteral">""</span>;
00551   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>   =<span class="stringliteral">""</span>;
00552   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>    =<span class="stringliteral">""</span>;
00553   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> =<span class="stringliteral">""</span>;
00554   <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>  =<span class="stringliteral">""</span>;
00555   <a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>  =<span class="stringliteral">""</span>;
00556   <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>   =0;
00557   <a class="code" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a> = -1.0;
00558   <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0;  <span class="comment">// "deg" by default</span>
00559 
00560   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>   =<a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00561   <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=0;
00562   <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_selection</a> =<span class="stringliteral">""</span>;
00563   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>=<span class="keyword">false</span>;
00564   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a> =<span class="keyword">false</span>;
00565   <span class="comment">// following four data members needed for efficient selection</span>
00566   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00567   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>= -1;
00568   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> = -1;
00569   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>= -1;
00570   <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.assign(7, 0.0); }
00571   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00572     std::string errText;
00573     errText=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse: "</span>)+err.what();
00574     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog constructor"</span>, errText);
00575     <span class="keywordflow">throw</span>;
00576   }
00577   <a class="code" href="namespacecatalog_access.html#a6">verbosity</a>=3;
00578 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00579 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog constructor (sizes="</span> &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()
00580             &lt;&lt;<span class="stringliteral">","</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size() &lt;&lt;<span class="stringliteral">","</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size() &lt;&lt;<span class="stringliteral">","</span>
00581             &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size() &lt;&lt;<span class="stringliteral">", m_selEllipse "</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.size()
00582             &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00583 <span class="preprocessor">  #endif</span>
00584 <span class="preprocessor"></span>}
</pre></div>    </td>
  </tr>
</table>
<a name="a1" doxytag="catalogAccess::Catalog::~Catalog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::~Catalog </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00588">588</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>.
<p>
<div class="fragment"><pre>00588                          {
00589 
00590 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00591 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog destructor on: "</span>
00592             &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> &lt;&lt; std::endl;
00593 <span class="preprocessor">  #endif</span>
00594 <span class="preprocessor"></span>  <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00595   <a class="code" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a>();
00596 }
</pre></div>    </td>
  </tr>
</table>
<a name="a2" doxytag="catalogAccess::Catalog::Catalog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::Catalog </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const Catalog &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00194">194</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00382">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00424">m_selEllipseCentRA_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00428">m_selEllipseMinAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00432">m_selEllipseRot_deg</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
<div class="fragment"><pre>00194                                       {
00195 
00196 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00197 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog COPY constructor on: "</span>
00198             &lt;&lt; myCat.m_tableName &lt;&lt; std::endl;
00199 <span class="preprocessor">  #endif  </span>
00200 <span class="preprocessor"></span>  std::string errText;
00201   <span class="comment">// copying values</span>
00202   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=myCat.m_code;
00203   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> =myCat.m_URL;
00204   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>   =myCat.m_catName;
00205   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>    =myCat.m_catRef;
00206   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> =myCat.m_tableName;
00207   <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>  =myCat.m_tableRef;
00208 
00209   <a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>   =myCat.m_filename;
00210   <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>    =myCat.m_filePos;
00211   <a class="code" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a>=myCat.m_posErrSys;
00212   <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=myCat.m_posErrFactor;
00213 
00214   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>   =myCat.m_numRows;
00215   <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=myCat.m_numOriRows;
00216   <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_selection</a> =myCat.m_selection;
00217   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>=myCat.m_criteriaORed;
00218   <span class="comment">// following three data members needed for efficient selection</span>
00219   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=myCat.m_numSelRows;
00220   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>  =myCat.m_indexErr;
00221   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>   =myCat.m_indexRA;
00222   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>  =myCat.m_indexDEC;
00223 
00224   <span class="comment">// copying elliptical region definition</span>
00225   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>=myCat.m_selRegion;
00226   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selEllipseCentRA_deg</a> =myCat.m_selEllipseCentRA_deg;
00227   <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a>=myCat.m_selEllipseCentDEC_deg;
00228   <a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseMinAxis_deg</a>=myCat.m_selEllipseMinAxis_deg;
00229   <a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMajAxis_deg</a>=myCat.m_selEllipseMajAxis_deg;
00230   <a class="code" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseRot_deg</a>=myCat.m_selEllipseRot_deg;
00231 
00232   <span class="comment">// copying vectors</span>
00233 <span class="comment">//try {</span>
00234   <span class="keywordtype">long</span> i;
00235   <span class="keywordtype">int</span> vecSize, j;
00236   <span class="comment">// following data member m_selEllipse[] needed for efficient selection</span>
00237   <span class="keywordflow">try</span> {
00238     vecSize=myCat.m_selEllipse.size(); <span class="comment">// size is only 7</span>
00239     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.push_back(myCat.m_selEllipse.at(j));
00240   }
00241   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00242     errText=std::string(<span class="stringliteral">"EXCEPTION on m_selEllipse[]: "</span>)+err.what();
00243     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00244     <span class="keywordflow">throw</span>;
00245   }
00246   <span class="comment">// following data member m_loadQuantity[] needed for importSelected()</span>
00247   <span class="keywordflow">try</span> {
00248     vecSize=myCat.m_loadQuantity.size();
00249     <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.reserve(vecSize);  <span class="comment">// pre-allocate the memory </span>
00250     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)
00251       <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.push_back(myCat.m_loadQuantity.at(j));
00252   }
00253   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00254     errText=std::string(<span class="stringliteral">"EXCEPTION on m_loadQuantity[]: "</span>)+err.what();
00255     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00256     <span class="keywordflow">throw</span>;
00257   }
00258   <span class="keywordflow">try</span> {
00259     std::vector&lt;Quantity&gt;::const_iterator itQ;
00260     <span class="keywordflow">for</span> (itQ=myCat.m_quantities.begin(); itQ!=myCat.m_quantities.end(); itQ++)
00261       <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.push_back(*itQ);
00262   }
00263   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00264     errText=std::string(<span class="stringliteral">"EXCEPTION on m_quantities[]: "</span>)+err.what();
00265     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00266     <span class="keywordflow">throw</span>;
00267   }
00268   <span class="comment">// suppose that each column has same number of rows</span>
00269   vecSize=myCat.m_rowIsSelected.size();
00270   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00271     <span class="keywordflow">try</span> {
00272       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.resize(vecSize);
00273       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00274         <span class="comment">// pre-allocate the memory for each vector</span>
00275         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].reserve(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
00276         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++)
00277           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].push_back(myCat.m_rowIsSelected[j].at(i));
00278       }
00279     }
00280     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00281       errText=std::string(<span class="stringliteral">"EXCEPTION on m_rowIsSelected[][]: "</span>)+err.what();
00282       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00283       <span class="keywordflow">throw</span>;
00284     }
00285   }
00286   vecSize=myCat.m_strings.size();
00287   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00288     <span class="keywordflow">try</span> {
00289       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.resize(vecSize);
00290       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00291         <span class="comment">// pre-allocate the memory for each vector</span>
00292         <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].reserve(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
00293         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++)
00294           <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].push_back(myCat.m_strings[j].at(i));
00295       }
00296     }
00297     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00298       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings[][]: "</span>)+err.what();
00299       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00300       <span class="keywordflow">throw</span>;
00301     }
00302   }
00303   vecSize=myCat.m_numericals.size();
00304   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00305     <span class="keywordflow">try</span> {
00306       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.resize(vecSize);
00307       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00308         <span class="comment">// pre-allocate the memory for each vector</span>
00309         <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].reserve(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
00310         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++)
00311           <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].push_back(myCat.m_numericals[j].at(i));
00312       }
00313     }
00314     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00315       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals[][]: "</span>)+err.what();
00316       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00317       <span class="keywordflow">throw</span>;
00318     }
00319   }
00320 <span class="comment">/* line is commented on purpose to TEMINATE the program on EXCEPTION */</span>
00321 <span class="comment">//} catch (...) { printErr("Catalog copy constructor", ""); }</span>
00322 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="c13" doxytag="catalogAccess::Catalog::add_rows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::add_rows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>maxRows</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00257">257</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>.
<p>
<div class="fragment"><pre>00257                                          {
00258 
00259   <span class="keywordtype">int</span> i, vecSize;
00260   std::string errText;
00261 <span class="comment">// printf("!! %ld / %ld \n", m_numRows, maxRows);</span>
00262   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
00263   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00264     <span class="keywordflow">try</span> {
00265       <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00266         <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].resize(maxRows);
00267 <span class="comment">//        for (j=0; j&lt;maxRows; j++) m_strings[i].at(j).resize(20);</span>
00268       }
00269     }
00270     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00271       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings: "</span>)+err.what();
00272       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private add_rows"</span>, errText);
00273       <span class="keywordflow">throw</span>;
00274     }
00275   }
00276   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
00277   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00278     <span class="keywordflow">try</span> {
00279       <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].resize(maxRows);
00280     }
00281     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00282       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals: "</span>)+err.what();
00283       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private add_rows"</span>, errText);
00284       <span class="keywordflow">throw</span>;
00285     }
00286   } 
00287 
00288 }
</pre></div>    </td>
  </tr>
</table>
<a name="c17" doxytag="catalogAccess::Catalog::analyze_body"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_body </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>what</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>testCR</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::fstream *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>.    </td>
  </tr>
</table>
<a name="c15" doxytag="catalogAccess::Catalog::analyze_fits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_fits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const tip::Table *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>myDOL</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00293">293</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_8cxx-source.html#l00044">catalogAccess::Key_UCD</a>, <a class="el" href="catalog__io_8cxx-source.html#l00041">catalogAccess::KeyCatal</a>, <a class="el" href="catalog__io_8cxx-source.html#l00043">catalogAccess::KeyTable</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_comment</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00092">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_unit</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::SepNull</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>.
<p>
<div class="fragment"><pre>00294                                                                  {
00295   std::string text, mot;
00296   <span class="keywordtype">int</span>  i, j, max,
00297        nbQuantAscii=0;
00298   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
00299   <span class="keywordtype">bool</span> binary=<span class="keyword">true</span>;
00300   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00301   int (*pfunc)(int)=toupper; <span class="comment">// function used by transform</span>
00302   <span class="keyword">const</span> Header &amp;header=myDOL-&gt;getHeader();
00303 
00304   <span class="keywordflow">try</span> {
00305     text=myDOL-&gt;getName();
00306     header.getKeyword(<span class="stringliteral">"XTENSION"</span>, mot);
00307   <span class="comment">/* text.rfind('_');</span>
00308 <span class="comment">    since '/' are replaced by '_' in EXTNAME</span>
00309 <span class="comment">    and  is ambiguous with '_' in catalog name:</span>
00310 <span class="comment">    must search for keywords CDS-CAT  CDS-NAME</span>
00311 <span class="comment">  */</span>
00312   }
00313   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00314     text=<span class="stringliteral">": fits EXTENSION, cannot get name"</span>;
00315     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00316     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00317   }
00318   std::ostringstream sortie;
00319   sortie &lt;&lt; <span class="stringliteral">"fits extension "</span> &lt;&lt; mot &lt;&lt; <span class="stringliteral">" name = "</span> &lt;&lt; text;
00320   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00321   sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00322 
00323   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=<span class="stringliteral">""</span>;   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>=<span class="stringliteral">""</span>;
00324   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=<span class="stringliteral">""</span>; <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>=<span class="stringliteral">""</span>;
00325   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>=<span class="stringliteral">""</span>;
00326   <span class="keywordflow">if</span> (mot == <span class="stringliteral">"TABLE"</span>) {
00327     binary=<span class="keyword">false</span>;
00328     <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>=<span class="stringliteral">"CDS"</span>; <span class="comment">/* to know that format string need to be changed for fits */</span>
00329   }
00330   <span class="keywordflow">try</span> {
00331     header.getKeyword(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0], text);
00332     <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=text;
00333     header.getKeyword(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0], mot);
00334     <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=mot;
00335 
00336   }
00337   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00338     <span class="keywordflow">if</span> (binary) {
00339       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"fits EXTENSION, cannot get CDS header keys"</span>);
00340     }
00341     <span class="keywordflow">else</span> {
00342       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get CDS header keys"</span>);
00343       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00344     }
00345   }
00346   <span class="keywordflow">try</span> {
00347     text=header.getKeyComment(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0]);
00348     mot =header.getKeyComment(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0]);
00349     <span class="comment">// have to use long comment</span>
00350   }
00351   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00352     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"fits EXTENSION, cannot get CDS header comments"</span>);
00353   }
00354 <span class="comment">//  const Table::FieldCont &amp;allCol=myDOL-&gt;getValidFields();</span>
00355   <span class="keywordflow">try</span> {
00356     max=myDOL-&gt;getValidFields().size();
00357     <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=myDOL-&gt;getNumRecords();
00358   }
00359   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00360     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get number of rows or columns"</span>);
00361     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00362   }
00363   <span class="keywordflow">if</span> (max &lt; 1) {
00364     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, need at least 1 column"</span>);
00365     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00366   }
00367   text=<span class="stringliteral">""</span>;
00368   std::vector&lt;double&gt; colNull(max, 0.0);
00369   <span class="keywordflow">try</span> {
00370     <span class="keyword">const</span> IColumn *myCol = 0;
00371     <span class="keywordflow">for</span> (i=0; i &lt; max; i++) {
00372       text=<span class="stringliteral">""</span>;
00373       myCol=myDOL-&gt;getColumn(i);
00374       Quantity readQ;
00375       readQ.m_name=myCol-&gt;getId();
00376       readQ.m_unit=myCol-&gt;getUnits();
00377       sprintf(name, <span class="stringliteral">"TFORM%d"</span>, i+1);
00378       mot=name; <span class="comment">/* convert C string to C++ string */</span>
00379       header.getKeyword(mot, text);
00380       transform(text.begin(), text.end(), text.begin(), pfunc);
00381       j=text.length();
00382       readQ.m_format=text;
00383       text=<span class="stringliteral">""</span>;
00384       <span class="keywordflow">if</span> (binary) {
00385         <span class="keywordflow">if</span> ( !myCol-&gt;isScalar() ) {
00386           text=<span class="stringliteral">"unauthorized FITS TABLE vector"</span>;
00387           sortie &lt;&lt; <span class="stringliteral">": VECTOR not supported, column#"</span> &lt;&lt; i+1;
00388           <span class="keywordflow">throw</span> std::runtime_error(text);
00389         }
00390         <span class="keywordflow">if</span> (j == 0) {
00391           text=<span class="stringliteral">"unauthorized FITS empty format "</span>;
00392           sortie &lt;&lt; <span class="stringliteral">": FITS format is empty, column#"</span> &lt;&lt; i+1;
00393           <span class="keywordflow">throw</span> std::runtime_error(text);
00394         }
00395         <span class="keywordflow">if</span> (readQ.m_format[j-1] == <span class="charliteral">'A'</span>) readQ.m_type=Quantity::STRING;
00396         <span class="keywordflow">else</span> readQ.m_type=Quantity::NUM;
00397         sprintf(name, <span class="stringliteral">"TNULL%d"</span>, i+1); mot=name;
00398         <span class="keywordflow">try</span> { header.getKeyword(mot, readQ.m_null); }
00399         <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00400         colNull.at(i)=atof(readQ.m_null.c_str());
00401         <span class="keywordflow">if</span> ( !readQ.m_null.empty() ) {
00402           sprintf(name, <span class="stringliteral">"TSCAL%d"</span>, i+1); mot=name;
00403           <span class="keywordflow">try</span> { header.getKeyword(mot, text); }
00404           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00405           readQ.m_null+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+text;
00406           <span class="keywordflow">if</span> ( !text.empty() ) colNull.at(i)*=atof(text.c_str());
00407           text=<span class="stringliteral">""</span>;
00408           sprintf(name, <span class="stringliteral">"TZERO%d"</span>, i+1); mot=name;
00409           <span class="keywordflow">try</span> { header.getKeyword(mot, text); }
00410           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00411           readQ.m_null+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+text;
00412           <span class="keywordflow">if</span> ( !text.empty() ) colNull.at(i)+=atof(text.c_str());
00413           text=<span class="stringliteral">""</span>;
00414         }
00415 <span class="comment">// printf("'%s'\n",  readQ.m_null.c_str() );</span>
00416         sprintf(name, <span class="stringliteral">"%s%d"</span>, <a class="code" href="namespacecatalog_access.html#a4">Key_UCD</a>.c_str(), i+1); mot=name;
00417         <span class="keywordflow">try</span> {
00418           readQ.m_comment=header.getKeyComment(mot);
00419           header.getKeyword(mot, text);
00420         }
00421         <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00422           sortie &lt;&lt; <span class="stringliteral">"missing keyword "</span> &lt;&lt; mot &lt;&lt; <span class="stringliteral">" for column#"</span> &lt;&lt; i+1;
00423           <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str() );
00424           sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00425         }
00426       }
00427       <span class="keywordflow">else</span> {
00428         <span class="keywordflow">if</span> (readQ.m_format[0] == <span class="charliteral">'A'</span>) readQ.m_type=Quantity::STRING;
00429         <span class="keywordflow">else</span> readQ.m_type=Quantity::NUM;
00430         sprintf(name, <span class="stringliteral">"TBCOL%d"</span>, i+1); mot=name;
00431         text=header.getKeyComment(mot);
00432         j=4;
00433         <span class="keywordflow">if</span> (text.substr(0,j) == <span class="stringliteral">"UCD="</span>) text.erase(0,j);
00434         pos=text.find(<span class="charliteral">'.'</span>);
00435         <span class="keywordflow">if</span> (pos != std::string::npos) text.erase(pos);
00436         <span class="comment">/* ONLY  readQ.m_comment  IS NOT SET */</span>
00437       }
00438       transform(text.begin(), text.end(), text.begin(), pfunc);
00439       readQ.m_ucd=text;
00440       <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
00441         readQ.m_index=nbQuantAscii;
00442         nbQuantAscii++;
00443       }
00444       <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (readQ.m_type == Quantity::NUM) {
00445         readQ.m_index=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()-nbQuantAscii;
00446         readQ.m_type=Quantity::NUM;
00447       }
00448       <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.push_back(readQ); }
00449       <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00450         text=std::string(<span class="stringliteral">"EXCEPTION filling m_quantities: "</span>)+prob.what();
00451         sortie &lt;&lt; text;
00452         <span class="keywordflow">throw</span>;
00453       }
00454     }<span class="comment">/* loop on columns */</span>
00455   }
00456   <span class="keywordflow">catch</span> (...) {
00457     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.clear();
00458     j=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00459     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=j;
00460     <span class="keywordflow">if</span> ( text.empty() ) {
00461       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, error reading TABLE column#"</span>;
00462       sortie &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">" description"</span>;
00463       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00464     }
00465     <span class="keywordflow">else</span> {
00466       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00467       <span class="comment">// exception sent only for vector allocation</span>
00468       <span class="keywordflow">if</span> (text == sortie.str() ) <span class="keywordflow">throw</span>;
00469     }
00470     <span class="keywordflow">return</span> j;
00471   }
00472 <span class="comment">// printf("numRows=%ld\n", m_numOriRows );</span>
00473   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=0;
00474   <span class="keywordflow">if</span> ( !*maxRows ) *maxRows=<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>;
00475   <span class="keywordflow">if</span> ((getDescr) || (<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a> == 0)) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00476 
00477   <a class="code" href="classcatalog_access_1_1_catalog.html#c12">create_tables</a>(nbQuantAscii, *maxRows);
00478   <span class="keywordflow">try</span> {
00479     <span class="keywordtype">double</span> rowVal;
00480     std::vector&lt;Quantity&gt;::iterator itQ;
00481     <span class="comment">// Loop over all records (rows) and extract values</span>
00482     <span class="keywordflow">for</span> (Table::ConstIterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end();
00483          ++itor) {
00484       i=0;
00485       <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.end(); ++itQ, ++i) {
00486         j=itQ-&gt;m_index;
00487         <span class="comment">// double variable to hold the value of all the numeric fields</span>
00488         <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00489           rowVal=(*itor)[itQ-&gt;m_name].get();
00490           <span class="keywordflow">if</span> ( itQ-&gt;m_null.empty() ) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)=rowVal;
00491           <span class="keywordflow">else</span> {
00492             <span class="keywordflow">if</span> (rowVal == colNull.at(i)) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)=MissNAN;
00493             <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)=rowVal;
00494           }
00495         }
00496         <span class="keywordflow">else</span> (*itor)[itQ-&gt;m_name].get(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>) );
00497       }
00498       <span class="keywordflow">if</span> (++<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == *maxRows) <span class="keywordflow">break</span>;
00499     }<span class="comment">/* loop on rows*/</span>
00500   }
00501   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00502     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot read after row#"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>+1;
00503     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00504     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00505   }
00506   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00507 }
</pre></div>    </td>
  </tr>
</table>
<a name="c16" doxytag="catalogAccess::Catalog::analyze_head"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_head </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>what</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>testCR</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::fstream *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>.    </td>
  </tr>
</table>
<a name="c29" doxytag="catalogAccess::Catalog::bitPosition"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long catalogAccess::Catalog::bitPosition </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>k</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00689">689</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>.
<p>
<div class="fragment"><pre>00689                                                                  {
00690 
00691   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=1ul;
00692   <span class="keywordtype">int</span> pos=index+1; <span class="comment">// position of given criteria in isSelected vector</span>
00693   *k=(pos+1)/(<span class="keyword">sizeof</span>(long)*8);
00694   <span class="comment">// index of m_rowIsSelected with given criteria</span>
00695   <span class="keywordtype">int</span> i=pos+1-(*k)*<span class="keyword">sizeof</span>(long)*8;
00696   <span class="comment">// bit pos.of given criteria in m_rowIsSelected[k]</span>
00697   <span class="keywordtype">int</span> j=0;
00698   <span class="keywordflow">while</span> (j &lt; i) {test*=2ul; j++;}
00699 
00700   <span class="keywordflow">return</span> test;
00701 }
</pre></div>    </td>
  </tr>
</table>
<a name="c25" doxytag="catalogAccess::Catalog::checkCatName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkCatName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00622">622</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a17">catalogAccess::BAD_CATNAME</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00568">getMaxNumRowsWeb()</a>.
<p>
<div class="fragment"><pre>00623                                                           {
00624 
00625   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00626     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*i] == catName) <span class="keywordflow">return</span> i;
00627   }
00628   std::string errText;
00629   errText=<span class="stringliteral">"given Catalog name ("</span>+catName+<span class="stringliteral">") do not exist"</span>;
00630   <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00631   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a17">BAD_CATNAME</a>;
00632 }
</pre></div>    </td>
  </tr>
</table>
<a name="c24" doxytag="catalogAccess::Catalog::checkImport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkImport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isDone</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00600">600</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="namespacecatalog_access.html#a37a15">catalogAccess::IMPORT_BIS</a>, <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00995">checkValWithinCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00757">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01128">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01392">getNameB()</a>, <a class="el" href="catalog_8cxx-source.html#l01380">getNameL()</a>, <a class="el" href="catalog_8cxx-source.html#l01405">getNameObjName()</a>, <a class="el" href="catalog_8cxx-source.html#l00636">getQuantityDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00649">getQuantityNames()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getQuantityTypes()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getQuantityUCDs()</a>, <a class="el" href="catalog_8cxx-source.html#l00672">getQuantityUnits()</a>, <a class="el" href="catalog_8cxx-source.html#l00742">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00754">getSysErrorName()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00696">importDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00795">includeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00038">selectAllQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00260">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00776">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01147">useOnlyS()</a>.
<p>
<div class="fragment"><pre>00600                                                                          {
00601 
00602   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00603   <span class="keywordflow">if</span> (quantSize &gt; 0) {
00604     <span class="keywordflow">if</span> (isDone) <span class="keywordflow">return</span> quantSize;
00605     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt;= 0) {
00606       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, <span class="stringliteral">"deleting previous Catalog description"</span>);
00607       <a class="code" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a>();
00608       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00609     }
00610     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"call 'deleteContent' before importing again"</span>);
00611     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a15">IMPORT_BIS</a>;
00612   }
00613   <span class="keywordflow">else</span> {
00614     <span class="keywordflow">if</span> (! isDone) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00615     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
00616     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00617   }
00618 }
</pre></div>    </td>
  </tr>
</table>
<a name="c4" doxytag="catalogAccess::Catalog::checkNUM"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkNUM </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>r</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>miss</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reject</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>precis</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00092">92</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>.
<p>
<div class="fragment"><pre>00093                                                                {
00094 
00095   <span class="comment">// since we test the NaN only once at the beginning</span>
00096   <span class="comment">// this methods MUST NOT be called if no criteria is applied</span>
00097   <span class="keywordflow">if</span> (isnan(r)) <span class="keywordflow">return</span> !reject;
00098 
00099   <span class="keywordtype">double</span> myLimit;
00100   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_lowerCut;
00101   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00102     <span class="keywordflow">if</span> (r &lt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00103   }
00104   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_upperCut;
00105   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00106     <span class="keywordflow">if</span> (r &gt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00107   }
00108 
00109   <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size();
00110   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00111     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;vecSize; i++) {
00112       myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN[i];
00113       <span class="keywordflow">if</span> (fabs(myLimit) &gt; NearZero) {
00114         <span class="keywordflow">if</span> (fabs(r/myLimit-1.0) &lt;= precis) <span class="keywordflow">return</span> !miss;
00115       }
00116       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(r) &lt;= precis) <span class="keywordflow">return</span> !miss;
00117       <span class="comment">// returns TRUE for inclusion (equality found)</span>
00118       <span class="comment">// returns FALSE for exclusion (difference found)</span>
00119     }
00120     <span class="keywordflow">return</span> miss;
00121     <span class="comment">// not in list: returns FALSE for inclusion, TRUE for exclusion</span>
00122   }
00123 
00124   <span class="comment">// empty list (interval exist): within interval</span>
00125   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00126 }
</pre></div>    </td>
  </tr>
</table>
<a name="c5" doxytag="catalogAccess::Catalog::checkNUMor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkNUMor </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>r</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reject</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>precis</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00131">131</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>.
<p>
<div class="fragment"><pre>00132                                                                  {
00133 
00134   <span class="comment">// since we test the NaN only once at the beginning</span>
00135   <span class="comment">// this methods MUST NOT be called if no criteria is applied</span>
00136   <span class="keywordflow">if</span> (isnan(r)) <span class="keywordflow">return</span> !reject;
00137 
00138   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00139   <span class="keywordtype">double</span> myLimit;
00140   <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size();
00141   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00142     <span class="keywordtype">int</span> i;
00143     check=<span class="keyword">false</span>;
00144     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00145       myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN[i];
00146       <span class="keywordflow">if</span> (fabs(myLimit) &gt; NearZero) {
00147         <span class="keywordflow">if</span> (fabs(r/myLimit-1.0) &lt;= precis) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00148       }
00149       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(r) &lt;= precis) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00150       <span class="comment">// returns TRUE for inclusion (equality found)</span>
00151       <span class="comment">// needn't check for upper/lower cut (OR condition)</span>
00152     }
00153   }
00154 
00155   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_lowerCut;
00156   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00157     check=<span class="keyword">true</span>; <span class="comment">// used with list</span>
00158     <span class="keywordflow">if</span> (r &lt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00159   }
00160 
00161   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_upperCut;
00162   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00163     check=<span class="keyword">true</span>; <span class="comment">// used with list</span>
00164     <span class="keywordflow">if</span> (r &gt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00165   }
00166 
00167   <span class="comment">// empty list  + within interval = TRUE</span>
00168   <span class="comment">// not in list + within interval = TRUE</span>
00169   <span class="comment">// not in list +   no  interval = FALSE</span>
00170   <span class="keywordflow">return</span> check;
00171 
00172 }
</pre></div>    </td>
  </tr>
</table>
<a name="c27" doxytag="catalogAccess::Catalog::checkQuant_name"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkQuant_name </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00653">653</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a25">catalogAccess::BAD_QUANT_NAME</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00995">checkValWithinCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00757">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01128">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00742">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00754">getSysErrorName()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00795">includeN()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00959">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00260">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00776">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01147">useOnlyS()</a>.
<p>
<div class="fragment"><pre>00654                                                           {
00655 
00656   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00657   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++) {
00658     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name == name) <span class="keywordflow">return</span> i;
00659   }
00660   std::string errText;
00661   errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") do not exist"</span>;
00662   <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00663   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a25">BAD_QUANT_NAME</a>;
00664 }
</pre></div>    </td>
  </tr>
</table>
<a name="c3" doxytag="catalogAccess::Catalog::checkRegion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkRegion </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nRA</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nDEC</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00062">62</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.
<p>
<div class="fragment"><pre>00062                                                                        {
00063 
00064   <span class="comment">/* for the moment, only circle</span>
00065 <span class="comment">    if angle phi=RA and t=PI/2 - DEC then:</span>
00066 <span class="comment">    OM postion is x= (sin t &lt;=&gt; cos DEC) * cos phi</span>
00067 <span class="comment">                  y= (sin t &lt;=&gt; cos DEC) * sin phi</span>
00068 <span class="comment">                  z= (cos t &lt;=&gt; sin DEC)</span>
00069 <span class="comment">   and the circular region around OA is defined by</span>
00070 <span class="comment">   its scalar product with OM &gt; cos desired_angle</span>
00071 <span class="comment">  */</span>
00072   <span class="keywordtype">double</span> myRA=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[nRA].at(row);
00073   <span class="keywordtype">double</span> myDEC=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[nDEC].at(row);
00074   <span class="keywordflow">if</span> (isnan(myRA))  <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_rejectNaN);
00075   <span class="keywordflow">if</span> (isnan(myDEC)) <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_rejectNaN);
00076   <span class="keywordtype">double</span> obj_cosP=cos(myRA * Angle_Conv);
00077   <span class="keywordtype">double</span> obj_sinP=sin(myRA * Angle_Conv);
00078   <span class="keywordtype">double</span> obj_sinT=cos(myDEC * Angle_Conv);
00079   <span class="keywordtype">double</span> obj_cosT=sin(myDEC * Angle_Conv);
00080   <span class="keywordtype">double</span> myAngle=obj_sinT*obj_cosP*<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(2)*<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(0)
00081                 +obj_sinT*obj_sinP*<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(2)*<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(1)
00082                 +obj_cosT*<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(3);
00083 <span class="comment">/*std::cout &lt;&lt; "cos(angle)*1E6 = " &lt;&lt; myAngle*1E6 &lt;&lt; " ? "</span>
00084 <span class="comment">            &lt;&lt;  m_selEllipse.at(4)*1E6 &lt;&lt; std::endl;*/</span>
00085   <span class="keywordflow">if</span> (myAngle &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(4)) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00086   <span class="keywordflow">return</span> <span class="keyword">false</span>;
00087 }
</pre></div>    </td>
  </tr>
</table>
<a name="c28" doxytag="catalogAccess::Catalog::checkSel_row"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkSel_row </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00668">668</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, and <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>.
<p>
<div class="fragment"><pre>00668                                                                         {
00669 
00670   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt;= 0) {
00671     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
00672     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00673   }
00674   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> == 0) {
00675     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"no row is selected"</span>);
00676     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00677   }
00678   <span class="keywordflow">if</span> ((srow &lt; 0) || (srow &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>)) {
00679     std::ostringstream sortie;
00680     sortie &lt;&lt; <span class="stringliteral">"row must be within [ 0, "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>-1 &lt;&lt; <span class="stringliteral">"]"</span>;
00681     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00682     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00683   }
00684   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>;
00685 }
</pre></div>    </td>
  </tr>
</table>
<a name="c26" doxytag="catalogAccess::Catalog::checkSize_row"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkSize_row </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00636">636</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00959">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, and <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>.
<p>
<div class="fragment"><pre>00636                                                                         {
00637 
00638   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt;= 0) {
00639     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
00640     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
00641   }
00642   <span class="keywordflow">if</span> ((row &lt; 0) || (row &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)) {
00643     std::ostringstream sortie;
00644     sortie &lt;&lt; <span class="stringliteral">"row must be within [ 0, "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>-1 &lt;&lt; <span class="stringliteral">"]"</span>;
00645     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00646     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00647   }
00648   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>;
00649 }
</pre></div>    </td>
  </tr>
</table>
<a name="a66" doxytag="catalogAccess::Catalog::checkValWithinCut"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkValWithinCut </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutLow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutUp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>checkResult</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00995">995</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00996                                                                            {
00997 
00998   *cutLow=<span class="keyword">false</span>;
00999   *cutUp=<span class="keyword">false</span>;
01000   *checkResult=0;
01001   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"checkValWithinCut"</span>;
01002   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
01003   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
01004   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01005   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01006   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
01007     std::string errText;
01008     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01009     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01010     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01011   }  
01012 
01013   <span class="keywordtype">double</span> myLimit, r=value;
01014   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_lowerCut;
01015   <span class="keywordflow">if</span> (fabs(value) &gt; NearZero)
01016     r+=value*<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01017   <span class="keywordflow">else</span>
01018     r+=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01019   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
01020     *cutLow=<span class="keyword">true</span>;
01021     <span class="keywordflow">if</span> (r &lt; myLimit) *checkResult=-2;
01022     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &lt; myLimit) *checkResult=-1;
01023   }
01024   r=value;
01025   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_upperCut;
01026   <span class="keywordflow">if</span> (fabs(value) &gt; NearZero)
01027     r-=value*<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01028   <span class="keywordflow">else</span>
01029     r-=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01030   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
01031     *cutUp=<span class="keyword">true</span>;
01032     <span class="keywordflow">if</span> (r &gt; myLimit) *checkResult=2;
01033     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &gt; myLimit) *checkResult=1;
01034   }
01035 
01036   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
01037 }
</pre></div>    </td>
  </tr>
</table>
<a name="c12" doxytag="catalogAccess::Catalog::create_tables"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::create_tables </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nbQuantAscii</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00226">226</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00257">add_rows()</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>.
<p>
<div class="fragment"><pre>00226                                                                       {
00227 
00228   <span class="keywordtype">int</span> vecSize;
00229   std::string errText;
00230   <span class="keywordflow">if</span> (nbQuantAscii &gt; 0) {
00231     <span class="keywordflow">try</span> {
00232       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.resize(nbQuantAscii);
00233     }
00234     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00235       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings: "</span>)+err.what();
00236       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private create_tables"</span>, errText);
00237       <span class="keywordflow">throw</span>;
00238     }
00239   }
00240   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()-nbQuantAscii;
00241 <span class="comment">// printf("sizes = %d , %d\n", nbQuantAscii, vecSize);</span>
00242   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00243     <span class="keywordflow">try</span> {
00244       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.resize(vecSize);
00245     }
00246     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00247       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals: "</span>)+err.what();
00248       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private create_tables"</span>, errText);
00249       <span class="keywordflow">throw</span>;
00250     }
00251   }
00252   <span class="keywordflow">if</span> (maxRows &gt; 0) <a class="code" href="classcatalog_access_1_1_catalog.html#c13">add_rows</a>(maxRows);
00253 
00254 }
</pre></div>    </td>
  </tr>
</table>
<a name="c23" doxytag="catalogAccess::Catalog::createFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::createFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>append</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tip::Table **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ptrTable</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01254">1254</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00044">catalogAccess::Key_UCD</a>, <a class="el" href="catalog__io_8cxx-source.html#l00041">catalogAccess::KeyCatal</a>, <a class="el" href="catalog__io_8cxx-source.html#l00043">catalogAccess::KeyTable</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_comment</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00092">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_unit</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::SepNull</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01413">saveFits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>.
<p>
<div class="fragment"><pre>01256                                              {
01257 
01258   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
01259   std::string text, newName;
01260   <span class="keywordtype">int</span>  j, err;
01261   <span class="keywordtype">bool</span> create=<span class="keyword">true</span>;
01262 
01263   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
01264   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
01265 
01266   err=fileName.length();
01267   <span class="keywordflow">if</span> (err == 0) {
01268     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
01269     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01270     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01271   }
01272   <span class="keywordflow">if</span> (extName.length() &gt; 68) {
01273     text=<span class="stringliteral">": EXTENSION name is TOO long (limited to 68 characters)"</span>;
01274     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01275     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01276   }
01277   <span class="comment">// overwrite existing file ?</span>
01278   <span class="keywordflow">if</span> (!clobber) {
01279     std::fstream file;
01280     file.open(fileName.c_str(), std::ios::in);
01281     <span class="keywordflow">if</span> (file) {
01282       file.close();
01283       create=<span class="keyword">false</span>;
01284       <span class="keywordflow">if</span> (!append) {
01285         text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" exist (clobber=no, append=no)"</span>;
01286         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01287         <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01288       }
01289       <span class="keywordflow">else</span> {
01290         text=<span class="stringliteral">"appending extension to existing FILENAME (method "</span>+origin+<span class="stringliteral">")"</span>;
01291         <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
01292       }
01293     }
01294   }
01295   <span class="keywordflow">if</span> ( extName.empty() ) {
01296     <span class="comment">/* max length is 68, as keyword value starts/ends with ' in 11/80 */</span>
01297     newName=<a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>.substr(0,68);
01298     <span class="comment">/* replace forbidden char. */</span>
01299     err=newName.length();
01300     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01301       <span class="keywordflow">if</span> (newName[j] == <span class="charliteral">'/'</span>) newName[j]=<span class="charliteral">'_'</span>;
01302     }
01303     text=<span class="stringliteral">"EXTENSION name set to '"</span>+newName+<span class="stringliteral">"'"</span>;
01304     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text); 
01305     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01306   }
01307   <span class="keywordflow">else</span> newName=extName;
01308 
01309   <span class="keywordflow">try</span> {
01310     <span class="keywordflow">if</span> (create) IFileSvc::instance().createFile(fileName);
01311     IFileSvc::instance().appendTable(fileName, newName);
01312     (*ptrTable)=IFileSvc::instance().editTable(fileName, newName);
01313   }
01314   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01315     text=<span class="stringliteral">": cannot append and edit fits EXTENSION"</span>;
01316     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01317     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01318   }
01319   Header &amp;header=(*ptrTable)-&gt;getHeader();
01320   <span class="keywordflow">try</span> {
01321     header.setKeyword(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0], <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>);
01322     header.setKeyComment(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0], <a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[1]);
01323     header.setKeyword(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0], <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>);
01324     header.setKeyComment(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0], <a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[1]);
01325     <span class="comment">/* test </span>
01326 <span class="comment">    header.setKeyUnit(KeyTable[0], "deg");*/</span>
01327   }
01328   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01329     text=<span class="stringliteral">"fits EXTENSION, cannot add CDS header keys"</span>;
01330     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
01331   }
01332   <span class="keywordflow">try</span> {
01333     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
01334     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01335     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01336       <span class="keyword">const</span> Quantity &amp;readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01337       <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01338         <span class="keywordflow">if</span> ( !readQ.m_null.empty() ) {
01339           sprintf(name, <span class="stringliteral">"TNULL%d"</span>, j+1);
01340           newName=name; <span class="comment">/* convert C string to C++ string */</span>
01341           text=readQ.m_format;
01342           <span class="comment">// to be improved for integers</span>
01343         }
01344         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> == <span class="stringliteral">"CDS"</span>) text=<span class="stringliteral">"1D"</span>;
01345         <span class="keywordflow">else</span> text=readQ.m_format;
01346       }
01347       <span class="keywordflow">else</span> {
01348         text=readQ.m_format;
01349         <span class="keywordflow">if</span> ( isalpha(readQ.m_format[0]) ) {
01350           text.erase(0,1);
01351           text=text+<span class="stringliteral">"A"</span>;
01352         }
01353       }
01354       (*ptrTable)-&gt;appendField(readQ.m_name, text);
01355       text=readQ.m_null;
01356       <span class="keywordflow">if</span> ( !text.empty() ) {
01357         header.setKeyword(newName, atoi(text.c_str()) );
01358         header.setKeyComment(newName, <span class="stringliteral">"Undefined value of field"</span>);
01359         pos=text.find(<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>); <span class="comment">/* always exist */</span>
01360         text.erase(0, pos+1);
01361         pos=text.find(<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>);
01362         <span class="keywordflow">if</span> (pos &gt; 0) {
01363           sprintf(name, <span class="stringliteral">"TSCAL%d"</span>, j+1);
01364           newName=name; <span class="comment">/* convert C string to C++ string */</span>
01365           header.setKeyword(newName, atoi(text.c_str()) );
01366           header.setKeyComment(newName, <span class="stringliteral">"to rescale data"</span>);
01367         }
01368         text.erase(0, pos+1);
01369         <span class="keywordflow">if</span> ( !text.empty() ) {
01370           sprintf(name, <span class="stringliteral">"TZERO%d"</span>, j+1);
01371           newName=name; <span class="comment">/* convert C string to C++ string */</span>
01372           header.setKeyword(newName, atoi(text.c_str()) );
01373           header.setKeyComment(newName, <span class="stringliteral">"offset for unsigned integers"</span>);
01374         }
01375       }
01376       text=readQ.m_unit;
01377       <span class="keywordflow">if</span> ( !text.empty() ) {
01378         sprintf(name, <span class="stringliteral">"TUNIT%d"</span>, j+1);
01379         newName=name; <span class="comment">/* convert C string to C++ string */</span>
01380         header.setKeyword(newName, text);
01381         header.setKeyComment(newName, <span class="stringliteral">"physical unit of field"</span>);
01382       }
01383       sprintf(name, <span class="stringliteral">"%s%d"</span>, <a class="code" href="namespacecatalog_access.html#a4">Key_UCD</a>.c_str(), j+1);
01384       newName=name; <span class="comment">/* convert C string to C++ string */</span>
01385       header.setKeyword(newName, readQ.m_ucd);
01386       header.setKeyComment(newName, readQ.m_comment);
01387     }<span class="comment">/* loop on quantities */</span>
01388   }
01389   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01390     text=<span class="stringliteral">": fits EXTENSION, cannot add column"</span>;
01391     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01392     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01393   }
01394 <span class="comment">/* NEED new tip methods</span>
01395 <span class="comment">  const IColumn *myCol = 0;</span>
01396 <span class="comment">  try {</span>
01397 <span class="comment">    for (j=0; j &lt; err; j++) {</span>
01398 <span class="comment">      const Quantity &amp;readQ=m_quantities[j];</span>
01399 <span class="comment">      myCol=(*ptrTable)-&gt;getColumn(j);</span>
01400 <span class="comment"></span>
01401 <span class="comment">    }</span>
01402 <span class="comment">  }</span>
01403 <span class="comment">  catch (const TipException &amp;x) {</span>
01404 <span class="comment">    text=": fits EXTENSION, cannot modify column description";</span>
01405 <span class="comment">    printErr(origin, text);</span>
01406 <span class="comment">    return BAD_FITS;</span>
01407 <span class="comment">  }</span>
01408 <span class="comment">*/</span>
01409   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01410 }
</pre></div>    </td>
  </tr>
</table>
<a name="c22" doxytag="catalogAccess::Catalog::createText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::createText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a41" doxytag="catalogAccess::Catalog::dec_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::dec_deg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>inSelection</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01278">1278</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a23">catalogAccess::NO_RA_DEC</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01278                                                                             {
01279 
01280   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"dec_deg"</span>;
01281   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a> &lt; 0) {
01282     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0)
01283       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01284     <span class="keywordflow">else</span>
01285       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"missing generic DEC position quantity"</span>);
01286     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a23">NO_RA_DEC</a>;
01287   }
01288   <span class="keywordtype">int</span> num;
01289   <span class="keywordflow">if</span> (!inSelection) {
01290     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
01291     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01292     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_index;
01293     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
01294   }
01295   <span class="keywordflow">else</span> {
01296     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, row);
01297     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01298     <span class="keywordtype">long</span> tot=0;
01299     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_index;
01300     <span class="comment">// first bit indicates global selection</span>
01301     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01302       <span class="keywordflow">if</span> (tot == row) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(k); <span class="keywordflow">break</span>; }
01303       tot++;
01304     }
01305     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01306   }
01307   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01308 }
</pre></div>    </td>
  </tr>
</table>
<a name="a23" doxytag="catalogAccess::Catalog::deleteContent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteContent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00108">108</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01283">eraseSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>, and <a class="el" href="catalog_8h-source.html#l00588">~Catalog()</a>.
<p>
<div class="fragment"><pre>00108                             {
00109 
00110   <span class="keywordtype">int</span> vecSize, i;
00111   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=0;
00112   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00113   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
00114   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00115     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[i].clear();
00116     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.clear();
00117   }
00118   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
00119   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00120     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].clear();
00121     <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.clear();
00122   }
00123   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
00124   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00125     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].clear();
00126     <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.clear();
00127   }
00128 }
</pre></div>    </td>
  </tr>
</table>
<a name="c0" doxytag="catalogAccess::Catalog::deleteDescription"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteDescription </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00131">131</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00382">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, and <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>.
<p>
Referenced by <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, and <a class="el" href="catalog_8h-source.html#l00588">~Catalog()</a>.
<p>
<div class="fragment"><pre>00131                                 {
00132 
00133   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=<span class="stringliteral">""</span>;
00134   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> =<span class="stringliteral">""</span>;
00135   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>   =<span class="stringliteral">""</span>;
00136   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>    =<span class="stringliteral">""</span>;
00137   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> =<span class="stringliteral">""</span>;
00138   <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>  =<span class="stringliteral">""</span>;
00139 
00140   <a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>  =<span class="stringliteral">""</span>;
00141   <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>   =0;
00142   <a class="code" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a> = -1.0;
00143   <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0;  <span class="comment">// "deg" by default</span>
00144   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.clear();
00145   <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.clear();
00146 
00147   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>   =<a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00148   <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=0;
00149   <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_selection</a>=<span class="stringliteral">""</span>;
00150   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>=<span class="keyword">false</span>;
00151   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00152   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>= -1;
00153   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> = -1;
00154   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>= -1;
00155   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>=<span class="keyword">false</span>;
00156   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.clear();
00157 }
</pre></div>    </td>
  </tr>
</table>
<a name="c1" doxytag="catalogAccess::Catalog::deleteQuantities"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteQuantities </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00161">161</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>.
<p>
<div class="fragment"><pre>00161                                {
00162 
00163   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
00164   <span class="keywordtype">int</span>  nbA=0, nbD=0;
00165 
00166   <span class="keywordflow">if</span> (maxSize != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()) {
00167     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"deleteQuantities"</span>,
00168              <span class="stringliteral">"problem in code, this error should not occur"</span>);
00169     <span class="keywordflow">return</span>;
00170   }
00171   <span class="comment">/* these vectors can be set if import was succesful with 0 row */</span>
00172   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.clear();
00173   <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.clear();
00174   <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.clear();
00175 <span class="comment">//std::cout &lt;&lt; "Initial number of COL = " &lt;&lt; maxSize &lt;&lt; std::endl;</span>
00176   std::vector&lt;Quantity&gt;::iterator quantIter;
00177   quantIter=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin();
00178   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;maxSize; i++) {
00179     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>[i]) {<span class="comment">/* change the index in 2D tables */</span>
00180       <span class="keywordflow">if</span> (quantIter-&gt;m_type == Quantity::STRING) quantIter-&gt;m_index=nbA++;
00181       <span class="keywordflow">else</span> quantIter-&gt;m_index=nbD++;
00182       quantIter++;
00183     }
00184     <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.erase(quantIter);
00185   }<span class="comment">/* loop on quantities */</span>
00186   <span class="comment">/* now that index have changed, update the index shortcuts */</span>
00187   <span class="keywordflow">for</span> (nbA=0; nbA&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; nbA++) {
00188     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*nbA+1] == <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>) <span class="keywordflow">break</span>;
00189   }
00190   <a class="code" href="classcatalog_access_1_1_catalog.html#c11">setGeneric</a>(nbA);
00191 }
</pre></div>    </td>
  </tr>
</table>
<a name="c9" doxytag="catalogAccess::Catalog::doSelN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::doSelN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00655">655</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00757">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00795">includeN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00776">useOnlyN()</a>.
<p>
<div class="fragment"><pre>00656                                                       {
00657 
00658   std::ostringstream sortie;
00659   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed=<span class="keyword">false</span>;
00660   <span class="keywordtype">bool</span> miss;
00661   <span class="comment">// take only first 7 char to match possible generic functions</span>
00662   <span class="keywordflow">if</span> (code &amp; 1) {
00663     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">false</span>;
00664     miss=<span class="keyword">false</span>;
00665     sortie &lt;&lt; <span class="stringliteral">"Include rows"</span>;
00666   }
00667   <span class="keywordflow">else</span> {
00668     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">true</span>;
00669     miss=<span class="keyword">true</span>;
00670     sortie &lt;&lt; <span class="stringliteral">"Exclude rows"</span>;
00671   }
00672   <span class="keywordtype">int</span> listSize=listVal.size();
00673   <span class="comment">/* if empty list as before: exit */</span>
00674   <span class="keywordflow">if</span> (listSize == 0) {
00675     <span class="comment">// if NO list, m_cutORed has no effect (false method quicker)</span>
00676     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00677   }
00678   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code &gt; 1)
00679     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed=<span class="keyword">true</span>;
00680 
00681   <span class="keywordtype">int</span> j;
00682   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.clear();
00683   <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
00684      <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.push_back(listVal.at(j));
00685 
00686   <span class="comment">/* if no data: exit */</span>
00687   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00688 
00689   std::vector&lt;bool&gt; isSelected;
00690   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00691   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00692   <span class="keywordflow">if</span> (listSize == 0) {
00693     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling list selection (on "</span>+name+<span class="stringliteral">")"</span>);
00694     <span class="keywordflow">if</span> (!oneCriteria) {
00695       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
00696         listSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
00697         <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
00698           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00699       }
00700       <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00701       check=<span class="keyword">false</span>;
00702       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00703     }
00704   }
00705   <span class="keywordflow">else</span> {
00706     sortie &lt;&lt; <span class="stringliteral">" with \""</span> &lt;&lt; name &lt;&lt;<span class="stringliteral">"\" around value in list ("</span>
00707            &lt;&lt; listSize &lt;&lt; <span class="stringliteral">" elements, "</span>;
00708     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed)
00709       sortie &lt;&lt; <span class="stringliteral">"ORed with cut)"</span>;
00710     <span class="keywordflow">else</span>
00711       sortie &lt;&lt; <span class="stringliteral">"ANDed with cut)"</span>;
00712     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00713   }
00714   
00715   <span class="keywordflow">if</span> (check) {
00716     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00717          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed;
00718     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00719     <span class="keywordtype">int</span>  k,
00720          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00721     <span class="keywordtype">long</span> i;
00722     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00723     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00724     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00725     oneCriteria=isSelected.at(index+1);
00726     <span class="keywordflow">if</span> (oneCriteria) {
00727 
00728       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00729       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00730         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00731           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00732         <span class="keywordflow">else</span>
00733           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00734         <span class="comment">// setting required bit</span>
00735         <span class="keywordflow">if</span> (check)
00736           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
00737         <span class="keywordflow">else</span>
00738           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00739         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00740       }<span class="comment">// loop on rows</span>
00741 
00742     }
00743     <span class="keywordflow">else</span> {
00744 
00745       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00746         <span class="comment">// required bit set to FALSE</span>
00747         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00748         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00749       }<span class="comment">// loop on rows</span>
00750 
00751     }
00752   }
00753   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00754 }
</pre></div>    </td>
  </tr>
</table>
<a name="c8" doxytag="catalogAccess::Catalog::doSelS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::doSelS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>list</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>exact</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01042">1042</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01128">excludeS()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01147">useOnlyS()</a>.
<p>
<div class="fragment"><pre>01043                                                                         {
01044 
01045   std::ostringstream sortie;
01046   <span class="keywordtype">bool</span> miss;
01047   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed=!exact;
01048   <span class="keywordflow">if</span> (code &amp; 1) {
01049     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">false</span>;
01050     miss=<span class="keyword">false</span>;
01051     sortie &lt;&lt; <span class="stringliteral">"Include rows"</span>;
01052   }
01053   <span class="keywordflow">else</span> {
01054     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">true</span>;
01055     miss=<span class="keyword">true</span>;
01056     sortie &lt;&lt; <span class="stringliteral">"Exclude rows"</span>;
01057   }
01058   <span class="keywordtype">int</span> listSize=list.size();
01059   <span class="keywordflow">if</span> ((!listSize) &amp;&amp; (!<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.size())) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01060   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.clear();
01061   <span class="keywordtype">int</span> j;
01062   int (*pfunc)(int)=tolower; <span class="comment">// function used by transform</span>
01063   std::vector&lt;std::string&gt; myList;
01064   std::string mot;
01065   <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) {
01066     mot=list.at(j);
01067     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.push_back(mot);
01068     <span class="keywordflow">if</span> (!exact) transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01069     myList.push_back(mot);
01070   }
01071 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01072 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) std::cout &lt;&lt; myList[j] &lt;&lt; <span class="stringliteral">"|"</span>;
01073   std::cout &lt;&lt;<span class="stringliteral">"caseless="</span>&lt;&lt; exact &lt;&lt; std::endl;
01074 <span class="preprocessor">  #endif</span>
01075 <span class="preprocessor"></span>
01076   <span class="comment">/* if no data: exit */</span>
01077   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01078 
01079   std::vector&lt;bool&gt; isSelected;
01080   <span class="keywordtype">bool</span> check=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
01081   <span class="keywordtype">int</span>  k;
01082   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
01083   <span class="keywordflow">if</span> (listSize == 0) {
01084     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling list selection (on "</span>+name+<span class="stringliteral">")"</span>);
01085     <span class="keywordflow">if</span> (!check) {
01086       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
01087         listSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
01088         <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
01089       }
01090       <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
01091       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
01092     }
01093     <span class="keywordflow">else</span> {
01094       <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
01095       <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
01096         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
01097         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
01098       }
01099     }
01100     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01101   }
01102 
01103   sortie &lt;&lt; <span class="stringliteral">" with \""</span> &lt;&lt; name &lt;&lt;<span class="stringliteral">"\" string in list ("</span>
01104          &lt;&lt; listSize &lt;&lt; <span class="stringliteral">" elements, "</span>;
01105   <span class="keywordflow">if</span> (exact) sortie &lt;&lt; <span class="stringliteral">"exact match)"</span>; <span class="keywordflow">else</span> sortie &lt;&lt; <span class="stringliteral">"caseless match)"</span>; 
01106   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
01107   <span class="keywordtype">int</span>  pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
01108   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
01109   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
01110     mot=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[pos].at(i);
01111     <span class="keywordflow">if</span> (!exact) transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01112     check=miss;
01113     <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) {
01114       <span class="keywordflow">if</span> (mot == myList[j]) {check=!miss; <span class="keywordflow">break</span>;}
01115     }
01116     <span class="comment">// setting required bit</span>
01117     <span class="keywordflow">if</span> (check)
01118       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
01119     <span class="keywordflow">else</span>
01120       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
01121     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
01122   }<span class="comment">// loop on rows</span>
01123 
01124   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01125 }
</pre></div>    </td>
  </tr>
</table>
<a name="a67" doxytag="catalogAccess::Catalog::eraseNonSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::eraseNonSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01168">1168</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, and <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01168                               {
01169 
01170   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"eraseNonSelected"</span>;
01171   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt;= 0) {
01172     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
01173     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; 
01174   }
01175   <span class="comment">// test below avoid deleting NOTHING</span>
01176   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) {
01177     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"all rows selected, nothing done"</span>);
01178     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>; 
01179   }
01180   <span class="comment">// log if ALL is deleted</span>
01181   std::string text;
01182   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> == 0) {
01183     text=<span class="stringliteral">"no row selected, calling deleteContent()"</span>;
01184     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, text);
01185     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
01186     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01187   }
01188   <span class="keywordflow">try</span> {
01189     <span class="keywordtype">long</span> i, tot=0;
01190     <span class="keywordtype">int</span> j;
01191     <span class="keywordtype">int</span> sizeS=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
01192     <span class="keywordtype">int</span> sizeN=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
01193     <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
01194     <span class="comment">// to speed-up, will not change (avoid reading size in loop)</span>
01195 
01196     std::vector&lt;std::vector&lt;double&gt; &gt; myNum;
01197     myNum.resize(sizeN);
01198     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>, 0.0);
01199     std::vector&lt;std::vector&lt;std::string&gt; &gt; myStr;
01200     myStr.resize(sizeS);
01201     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>, <span class="stringliteral">""</span>);
01202     std::vector&lt;std::vector&lt;unsigned long&gt; &gt; myBits;
01203     myBits.resize(vecSize);
01204     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>, 0ul);
01205     <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
01206       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01207         <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(i);
01208         <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(i);
01209         <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].at(i);
01210         <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01211       }
01212     }
01213     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) {
01214       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].begin(),
01215                              myNum[j].begin(), myNum[j].end());
01216       myNum[j].clear();
01217     }
01218     myNum.clear();
01219     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) {
01220       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].begin(),
01221                           myStr[j].begin(), myStr[j].end());
01222       myStr[j].clear();
01223     }
01224     myStr.clear();
01225     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)  {
01226       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].begin(),
01227                                 myBits[j].begin(), myBits[j].end());
01228       myBits[j].clear();
01229     }
01230     myBits.clear();
01231 <span class="comment">/* if (!keepCriteria) {</span>
01232 <span class="comment">    for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].assign(m_numSelRows, 0);</span>
01233 <span class="comment">    vecSize=m_quantities.size();</span>
01234 <span class="comment">    for (i=0; i&lt;vecSize; i++) {</span>
01235 <span class="comment">      m_quantities.at(i).m_listValS.clear();</span>
01236 <span class="comment">      m_quantities.at(i).m_lowerCut=NO_SEL_CUT;</span>
01237 <span class="comment">      m_quantities.at(i).m_upperCut=NO_SEL_CUT;</span>
01238 <span class="comment">      m_quantities.at(i).m_listValN.clear();</span>
01239 <span class="comment">    }</span>
01240 <span class="comment">    m_selRegion=false;</span>
01241 <span class="comment">*/</span>
01242 <span class="comment">/*  THIS METHOD IS VERY VERY LONG </span>
01243 <span class="comment">    std::vector&lt; std::vector&lt;std::string&gt;::iterator &gt; stringIter;</span>
01244 <span class="comment">    std::vector&lt; std::vector&lt;double&gt;::iterator &gt; doubleIter;</span>
01245 <span class="comment">    for (j=0; j&lt;sizeS; j++) stringIter.push_back(m_strings[j].begin());</span>
01246 <span class="comment">    for (j=0; j&lt;sizeN; j++) doubleIter.push_back(m_numericals[j].begin());</span>
01247 <span class="comment">    if (keepCriteria) {</span>
01248 <span class="comment"></span>
01249 <span class="comment">      std::vector&lt; std::vector&lt;unsigned long&gt;::iterator &gt; myIter;</span>
01250 <span class="comment">      for (j=0; j&lt;vecSize; j++) myIter.push_back(m_rowIsSelected[j].begin());</span>
01251 <span class="comment">      for (i=0; i&lt;m_numRows; i++) {</span>
01252 <span class="comment">        if (!(*myIter[0] &amp; 1)) {</span>
01253 <span class="comment">          for (j=0; j&lt;sizeS; j++) m_strings[j].erase(stringIter[j]);</span>
01254 <span class="comment">          for (j=0; j&lt;sizeN; j++) m_numericals[j].erase(doubleIter[j]);</span>
01255 <span class="comment">          for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].erase(myIter[j]);</span>
01256 <span class="comment">        }</span>
01257 <span class="comment">        else {</span>
01258 <span class="comment">          for (j=0; j&lt;sizeS; j++) stringIter.at(j)++;</span>
01259 <span class="comment">          for (j=0; j&lt;sizeN; j++) doubleIter.at(j)++;</span>
01260 <span class="comment">          for (j=0; j&lt;vecSize; j++) myIter.at(j)++;</span>
01261 <span class="comment">        }</span>
01262 <span class="comment">      }</span>
01263 <span class="comment">      stringIter.clear();</span>
01264 <span class="comment">      doubleIter.clear();</span>
01265 <span class="comment">      myIter.clear();</span>
01266 <span class="comment">*/</span>
01267   }
01268   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01269     text=<span class="stringliteral">"EXCEPTION erasing m_strings, m_numericals or m_rowIsSelected: "</span>;
01270     text=text+prob.what();
01271     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01272     <span class="keywordflow">throw</span>;
01273   }
01274   std::ostringstream sortie;
01275   sortie &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &lt;&lt; <span class="stringliteral">" row(s) deleted"</span>;
01276   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01277   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>;
01278   <span class="comment">//if (!keepCriteria) m_numSelRows=0;</span>
01279   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01280 }
</pre></div>    </td>
  </tr>
</table>
<a name="a68" doxytag="catalogAccess::Catalog::eraseSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::eraseSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01283">1283</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01283                            {
01284 
01285   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"eraseSelected"</span>;
01286   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt;= 0) {
01287     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
01288     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; 
01289   }
01290   <span class="comment">// test below avoid deleting NOTHING</span>
01291   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> == 0) {
01292     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"no row selected, nothing done"</span>);
01293     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>; 
01294   }
01295   <span class="comment">// log if ALL is deleted</span>
01296   std::string text;
01297   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) {
01298     text=<span class="stringliteral">"all rows selected, calling deleteContent()"</span>;
01299     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, text);
01300     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
01301     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01302   }
01303   <span class="keywordflow">try</span> {
01304     <span class="keywordtype">long</span> i, tot=0,
01305          numRows=<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>;
01306     <span class="keywordtype">int</span> j;
01307     <span class="keywordtype">int</span> sizeS=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
01308     <span class="keywordtype">int</span> sizeN=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
01309     <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
01310     <span class="comment">// to speed-up, will not change (avoid reading size in loop)</span>
01311 
01312     std::vector&lt;std::vector&lt;double&gt; &gt; myNum;
01313     myNum.resize(sizeN);
01314     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].assign(numRows, 0.0);
01315     std::vector&lt;std::vector&lt;std::string&gt; &gt; myStr;
01316     myStr.resize(sizeS);
01317     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].assign(numRows, <span class="stringliteral">""</span>);
01318     std::vector&lt;std::vector&lt;unsigned long&gt; &gt; myBits;
01319     myBits.resize(vecSize);
01320     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].assign(numRows, 0ul);
01321     <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
01322       <span class="keywordflow">if</span> (!(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1)) {
01323         <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(i);
01324         <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(i);
01325         <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].at(i);
01326         <span class="keywordflow">if</span> (++tot == numRows) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01327       }
01328     }
01329     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) {
01330       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].begin(),
01331                              myNum[j].begin(), myNum[j].end());
01332       myNum[j].clear();
01333     }
01334     myNum.clear();
01335     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) {
01336       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].begin(),
01337                           myStr[j].begin(), myStr[j].end());
01338       myStr[j].clear();
01339     }
01340     myStr.clear();
01341     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)  {
01342       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].begin(),
01343                                 myBits[j].begin(), myBits[j].end());
01344       myBits[j].clear();
01345     }
01346     myBits.clear();
01347 <span class="comment">/* if (!keepCriteria) {</span>
01348 <span class="comment">    for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].assign(numRows, 0);</span>
01349 <span class="comment">    vecSize=m_quantities.size();</span>
01350 <span class="comment">    for (i=0; i&lt;vecSize; i++) {</span>
01351 <span class="comment">      m_quantities.at(i).m_listValS.clear();</span>
01352 <span class="comment">      m_quantities.at(i).m_lowerCut=NO_SEL_CUT;</span>
01353 <span class="comment">      m_quantities.at(i).m_upperCut=NO_SEL_CUT;</span>
01354 <span class="comment">      m_quantities.at(i).m_listValN.clear();</span>
01355 <span class="comment">    }</span>
01356 <span class="comment">    m_selRegion=false;</span>
01357 <span class="comment">*/</span>
01358   }
01359   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01360     text=<span class="stringliteral">"EXCEPTION erasing m_strings, m_numericals or m_rowIsSelected: "</span>;
01361     text=text+prob.what();
01362     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01363     <span class="keywordflow">throw</span>;
01364   }
01365   std::ostringstream sortie;
01366   sortie &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &lt;&lt; <span class="stringliteral">" row(s) deleted"</span>;
01367   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01368   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>;
01369   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
01370   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01371 }
</pre></div>    </td>
  </tr>
</table>
<a name="a60" doxytag="catalogAccess::Catalog::excludeN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::excludeN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00757">757</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00758                                                         {
00759 
00760   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"excludeN"</span>, <span class="keyword">true</span>);
00761   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
00762   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"excludeN"</span>, name);
00763   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00764 
00765   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00766     std::string errText;
00767     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00768     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"excludeN"</span>, errText);
00769     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00770   }
00771   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c9">doSelN</a>(name, index, 0, listVal);
00772   <span class="keywordflow">return</span> done;
00773 }
</pre></div>    </td>
  </tr>
</table>
<a name="a58" doxytag="catalogAccess::Catalog::excludeS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::excludeS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>slist</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>exact</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01128">1128</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01129                                                                           {
01130 
01131   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"excludeS"</span>, <span class="keyword">true</span>);
01132   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
01133   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"excludeS"</span>, name);
01134   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01135 
01136   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::STRING) {  
01137     std::string errText;
01138     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01139     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"excludeS"</span>, errText);
01140     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01141   }
01142   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c8">doSelS</a>(name, index, 0, list, exact);
01143   <span class="keywordflow">return</span> done;
01144 }
</pre></div>    </td>
  </tr>
</table>
<a name="c2" doxytag="catalogAccess::Catalog::existCriteria"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::existCriteria </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; bool &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>quantSel</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00066">66</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>.
<p>
<div class="fragment"><pre>00066                                                      {
00067 
00068   <span class="keywordtype">bool</span> all=<span class="keyword">false</span>;
00069   std::vector&lt;Quantity&gt;::const_iterator itQ;
00070   quantSel-&gt;clear();
00071   <span class="keywordflow">try</span> {
00072     <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>) quantSel-&gt;push_back(<span class="keyword">false</span>);
00073     <span class="keywordflow">else</span> { all=<span class="keyword">true</span>;  quantSel-&gt;push_back(<span class="keyword">true</span>); }
00074     <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.end(); itQ++) {
00075 
00076       <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::STRING) {
00077         <span class="keywordflow">if</span> (itQ-&gt;m_listValS.size() &gt; 0) {
00078           all=<span class="keyword">true</span>;
00079           quantSel-&gt;push_back(<span class="keyword">true</span>);
00080         }
00081         <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00082       }
00083 
00084       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00085         <span class="keywordflow">if</span> ( (itQ-&gt;m_lowerCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>)||(itQ-&gt;m_upperCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>)
00086             || (itQ-&gt;m_listValN.size() &gt; 0) ) {
00087           all=<span class="keyword">true</span>;
00088           quantSel-&gt;push_back(<span class="keyword">true</span>);
00089         }
00090         <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00091       }
00092 
00093       <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00094       <span class="comment">// VECTOR quantity are selected by the quantities in m_vectorQs</span>
00095 
00096     }<span class="comment">// loop on quantities</span>
00097   }
00098   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00099     std::string errText=std::string(<span class="stringliteral">"EXCEPTION on boolean vector: "</span>)+err.what();
00100     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"private existCriteria"</span>, errText);
00101     <span class="keywordflow">throw</span>;
00102   }
00103   <span class="keywordflow">return</span> all;
00104 }
</pre></div>    </td>
  </tr>
</table>
<a name="a15" doxytag="catalogAccess::Catalog::getCatalogTitles"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getCatalogTitles </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>titles</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00618">618</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00376">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00379">m_tableRef</a>, and <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00618                                                            {
00619 
00620   <span class="keywordtype">int</span> nb=titles-&gt;size();
00621   <span class="keywordflow">if</span> (nb == 0) titles-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>);
00622   <span class="keywordflow">else</span> (*titles)[0]=<a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>;
00623   <span class="keywordflow">if</span> (nb &gt; 1) (*titles)[1]=<a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>;       <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00624   <span class="keywordflow">if</span> (nb &gt; 2) (*titles)[2]=<a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>;   <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00625   <span class="keywordflow">if</span> (nb &gt; 3) (*titles)[3]=<a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>;    <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00626   <span class="keywordflow">if</span> (nb &gt; 4) (*titles)[4]=<a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00627   <span class="keywordflow">if</span> (nb &gt; 5) (*titles)[5]=<a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>;  <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00628 }
</pre></div>    </td>
  </tr>
</table>
<a name="d0" doxytag="catalogAccess::Catalog::getCatList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getCatList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>names</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isCode</em> = true</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00329">329</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00329                                                                        {
00330 
00331   names-&gt;clear();
00332 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00333 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG number of known catalogs: "</span> &lt;&lt; <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>
00334             &lt;&lt; std::endl;
00335 <span class="preprocessor">  #endif</span>
00336 <span class="preprocessor"></span>  std::string text;
00337   <span class="keywordtype">int</span> j=1;
00338   <span class="keywordflow">if</span> (isCode) j=0;
00339   <span class="keywordflow">try</span> {
00340     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00341       text=Catalog::s_CatalogList[2*i+j]; <span class="comment">/* convert C string to C++ string */</span>
00342       names-&gt;push_back(text);
00343     }
00344   }
00345   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00346     text=std::string(<span class="stringliteral">"EXCEPTION filling names: "</span>)+prob.what();
00347     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"getCatList"</span>, text);
00348     <span class="keywordflow">throw</span>;
00349   }
00350 }
</pre></div>    </td>
  </tr>
</table>
<a name="a3" doxytag="catalogAccess::Catalog::getMaxNumRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getMaxNumRows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em> = "1"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00388">388</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="classcatalog_access_1_1_catalog.html#c17">analyze_body()</a>, <a class="el" href="classcatalog_access_1_1_catalog.html#c16">analyze_head()</a>, <a class="el" href="namespacecatalog_access.html#a37a21">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00030">MAX_LINE</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00389                                                 {
00390 
00391   <span class="keywordtype">int</span> i, err;
00392   std::string text, origin=<span class="stringliteral">"getMaxNumRows"</span>;
00393   *nrows=0;
00394   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">false</span>);
00395   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00396 
00397   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=0;
00398   i=fileName.length();
00399   <span class="keywordflow">if</span> (i == 0) {
00400     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00401     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00402     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00403     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00404     <span class="keywordflow">return</span> err;
00405   }
00406   std::fstream myFile (fileName.c_str(), std::ios::in);
00407   <span class="comment">// file can be opened ?</span>
00408   <span class="keywordflow">if</span> ( !myFile.is_open() ) {
00409     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be opened"</span>;
00410     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00411     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00412     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00413     <span class="keywordflow">return</span> err;
00414   }
00415 <span class="comment">/*  DIR *testDir=opendir(fileName.c_str());</span>
00416 <span class="comment">  if (testDir != NULL) {</span>
00417 <span class="comment">    closedir(testDir);</span>
00418 <span class="comment">    text=": FILENAME \""+fileName+"\" is a directory";</span>
00419 <span class="comment">    printErr(origin, text);</span>
00420 <span class="comment">    err=BAD_FILETYPE;</span>
00421 <span class="comment">    m_numRows=err;</span>
00422 <span class="comment">    return err;</span>
00423 <span class="comment">  }*/</span>
00424   myFile.close();
00425   std::ostringstream sortie;
00426   <span class="keywordtype">bool</span>  myTest;
00427   <span class="keyword">const</span> Extension *myEXT = 0;
00428   <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
00429   <span class="keywordflow">try</span> {
00430     myEXT=IFileSvc::instance().readExtension(fileName, ext);
00431   }
00432   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00433     err=x.code();
00434     <span class="keywordflow">if</span> (err == 1) {
00435       <span class="comment">// This non-cfitsio error number means the file does not exist</span>
00436       <span class="comment">// or is not a table, or is not in either Root nor Fits format. </span>
00437       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00438 <span class="comment">/*      printWarn(origin, "FILENAME is NOT fits");*/</span>
00439     }
00440     <span class="keywordflow">else</span> {
00441       <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
00442       <span class="comment">// which is in FITS format but has some sort of format error.</span>
00443       sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
00444       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00445       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00446       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00447       <span class="keyword">delete</span> myEXT;
00448       <span class="keywordflow">return</span> err;
00449     }
00450   }
00451   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) myTest=myEXT-&gt;isTable();
00452   <span class="keyword">delete</span> myEXT;
00453   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00454  
00455     <span class="keywordflow">if</span> (!myTest) {
00456       text=<span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
00457       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00458       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00459       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00460       <span class="keywordflow">return</span> err;
00461     }
00462     <span class="keyword">const</span> Table *myDOL = 0;
00463     <span class="keywordflow">try</span> {
00464       myDOL=IFileSvc::instance().readTable(fileName, ext);
00465       *nrows=myDOL-&gt;getNumRecords();
00466     }
00467     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00468       sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; err;
00469       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00470       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00471       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00472       <span class="keyword">delete</span> myDOL;
00473       <span class="keywordflow">return</span> err;
00474     }
00475     <span class="keyword">delete</span> myDOL;
00476 
00477   }
00478   <span class="keywordflow">else</span> { <span class="comment">// (err == BAD_FITS)</span>
00479 
00480     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00481     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of lines read</span>
00482     <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>; <span class="comment">// true if lines ends with CR (on windows)</span>
00483     <span class="keywordtype">int</span> what=0;        <span class="comment">// 0 for unkwown, &gt;0 for csv, &lt;0 to tsv</span>
00484                        <span class="comment">// fabs()=1 for standard, =2 for meta QUERY</span>
00485 
00486     myFile.open(fileName.c_str(), std::ios::in);
00487     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c16">analyze_head</a>(&amp;tot, &amp;what, &amp;testCR, &amp;myFile);
00488     <span class="keywordflow">if</span> (!tot) {
00489       text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" is fits without extension[] specified"</span>;
00490       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00491       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00492       <span class="comment">// in case, for strange reason, file.good() fails at first time</span>
00493     }
00494     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00495       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is empty or "</span>
00496              &lt;&lt; <span class="stringliteral">"has unknown structure (stopped step "</span> &lt;&lt; -1*err &lt;&lt; <span class="stringliteral">")"</span>;
00497       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00498       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00499       <span class="keywordflow">if</span> (err == 0) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>; <span class="comment">/* nothing is read */</span>
00500       <span class="keywordflow">else</span> err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>; <span class="comment">/* can search if catalog name exist */</span>
00501     }
00502     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == 2) {
00503       sortie &lt;&lt; <span class="stringliteral">"closing input META file ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>;
00504       sortie &lt;&lt; <span class="stringliteral">" rows in whole CDS catalog)"</span>;
00505       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00506     }
00507     <span class="keywordflow">else</span> {
00508       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> refRow=0ul;
00509       <span class="keywordtype">long</span> maxRows=0l;
00510       <span class="comment">// get columns description and units, data</span>
00511       err=<a class="code" href="classcatalog_access_1_1_catalog.html#c17">analyze_body</a>(&amp;tot, &amp;what, testCR, <span class="keyword">true</span>, &amp;myFile, &amp;maxRows);
00512       <span class="comment">// only possible error: found &lt; 4</span>
00513       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00514         <span class="comment">// decription is read until separation line starting with ---</span>
00515         <span class="keywordtype">char</span> line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00516         <span class="keywordtype">int</span>  posC,
00517              maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1; <span class="comment">// to avoid computation each line</span>
00518         refRow=tot+1;
00519         <span class="keywordflow">while</span> ( myFile.good() ) {
00520           myFile.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
00521           tot++;
00522           i=strlen(line);
00523           <span class="keywordflow">if</span> (i &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// in any case, stop on empty string contrary to</span>
00524                             <span class="comment">//  load() which continues, skipping lines</span>
00525           <span class="comment">// string max size is MAX_LINE-1;</span>
00526           <span class="keywordflow">if</span> (i &gt;= maxLine) {
00527             sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
00528                    &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
00529             <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00530             sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00531             err=<a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>;
00532             <span class="keywordflow">break</span>;
00533           }
00534           <span class="comment">//if (testCR) line[--i]='\0';</span>
00535           posC=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
00536           <span class="keywordflow">if</span> (posC == 0) {
00537             <span class="comment">// should not happen, normally preceded by empty lines</span>
00538             sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
00539             <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00540             sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00541             err=<a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00542             <span class="keywordflow">break</span>;
00543           }
00544         }
00545         <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>) err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00546       }<span class="comment">// analyze_body() is OK</span>
00547  
00548       <span class="keywordflow">if</span> ((err &lt; IS_OK) &amp;&amp; (err &gt;= -3)) {
00549         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName
00550             &lt;&lt; <span class="stringliteral">"\" has unknown type (stopped step "</span> &lt;&lt; 5-1*err &lt;&lt; <span class="stringliteral">")"</span>;
00551         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00552         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00553         err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00554       }
00555       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) *nrows=tot-refRow;
00556       sortie &lt;&lt; <span class="stringliteral">"closing input text file: "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines read"</span>;
00557       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00558     }<span class="comment">// analyze_head() is OK</span>
00559     myFile.close();
00560 
00561   }<span class="comment">// file is read</span>
00562 
00563   <a class="code" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a>();
00564   <span class="keywordflow">return</span> err;
00565 }
</pre></div>    </td>
  </tr>
</table>
<a name="a4" doxytag="catalogAccess::Catalog::getMaxNumRowsWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getMaxNumRowsWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em> = "cds"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00568">568</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a22">catalogAccess::BAD_URL</a>, <a class="el" href="catalog_8h-source.html#l00622">checkCatName()</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
<div class="fragment"><pre>00569                                                        {
00570 
00571   <span class="keywordtype">int</span> i, err;
00572   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00573   std::string web, text, origin=<span class="stringliteral">"getMaxNumRowsWeb"</span>;
00574   *nrows=0;
00575   err=<a class="code" href="namespacecatalog_access.html#a37a22">BAD_URL</a>;
00576   <span class="keywordflow">if</span> (urlCode.length() == 0) {
00577     text=<span class="stringliteral">": CODE for URL (web http address) is empty"</span>;
00578     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00579     <span class="keywordflow">return</span> err;
00580   }
00581   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00582     text=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00583     pos=text.find(<span class="charliteral">' '</span>);
00584     <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">continue</span>;
00585     <span class="keywordflow">if</span> (text.substr(0, pos) == urlCode) <span class="keywordflow">break</span>;
00586   }
00587   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a2">MAX_URL</a>) {
00588     text=<span class="stringliteral">": CODE for URL (web http address) do not exist"</span>;
00589     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00590     <span class="keywordflow">return</span> err;
00591   }
00592   pos=text.rfind(<span class="charliteral">' '</span>);
00593   <span class="keywordflow">if</span> (pos == std::string::npos) web=text;
00594   <span class="keywordflow">else</span> web=text.substr(pos+1, text.length()-pos);
00595 
00596   <span class="keywordtype">int</span> iCat=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkCatName</a>(origin, catName);
00597   <span class="keywordflow">if</span> (iCat &lt; 0) <span class="keywordflow">return</span> iCat;
00598 
00599 <span class="comment">/* IS IT REALLY NEEDED ?</span>
00600 <span class="comment">  err=checkImport(origin, false);</span>
00601 <span class="comment">  if (err &lt; IS_VOID) return err;</span>
00602 <span class="comment">*/</span>
00603 <span class="comment">/* now, ASCII query must be created</span>
00604 <span class="comment">  and sent, using CDS package to given URL</span>
00605 <span class="comment">*/</span>
00606   err=-9;
00607   text=<span class="stringliteral">"Web query not implemented"</span>;
00608   <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00609 
00610   <span class="keywordflow">return</span> err;
00611 }
</pre></div>    </td>
  </tr>
</table>
<a name="a47" doxytag="catalogAccess::Catalog::getNameB"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameB </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01392">1392</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
<div class="fragment"><pre>01392                             {
01393   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameB"</span>;
01394   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
01395   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01396   <span class="keywordtype">int</span> i;
01397   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01398     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01399         (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_ucd == Catalog::s_genericB))
01400       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name;
01401   }
01402   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01403 }
</pre></div>    </td>
  </tr>
</table>
<a name="a44" doxytag="catalogAccess::Catalog::getNameDEC"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameDEC </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01359">1359</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01359                               {
01360   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a> &lt; 0) {
01361     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0)
01362       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameDEC"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01363     <span class="keywordflow">else</span>
01364       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameDEC"</span>, <span class="stringliteral">"missing generic DEC position quantity"</span>);
01365     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01366   }
01367   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_name;
01368 }
</pre></div>    </td>
  </tr>
</table>
<a name="a46" doxytag="catalogAccess::Catalog::getNameL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameL </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01380">1380</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
<div class="fragment"><pre>01380                             {
01381   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameL"</span>;
01382   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
01383   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01384   <span class="keywordtype">int</span> i;
01385   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01386     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01387         (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_ucd == Catalog::s_genericL))
01388       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name;
01389   }
01390   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01391 }
</pre></div>    </td>
  </tr>
</table>
<a name="a48" doxytag="catalogAccess::Catalog::getNameObjName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameObjName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01405">1405</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
<div class="fragment"><pre>01405                                   {
01406   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameObjName"</span>;
01407   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
01408   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01409   <span class="keywordtype">int</span> i;
01410   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01411     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01412         (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_type == Quantity::STRING))
01413       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name;
01414   }
01415   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01416 }
</pre></div>    </td>
  </tr>
</table>
<a name="a45" doxytag="catalogAccess::Catalog::getNamePosErr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNamePosErr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01369">1369</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01369                                  {
01370   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>&lt; 0) {
01371     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0)
01372       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNamePosErr"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01373     <span class="keywordflow">else</span>
01374       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNamePosErr"</span>, <span class="stringliteral">"missing generic position error quantity"</span>);
01375     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01376   }
01377   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>].m_name;
01378 }
</pre></div>    </td>
  </tr>
</table>
<a name="a43" doxytag="catalogAccess::Catalog::getNameRA"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameRA </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01349">1349</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01349                              {
01350   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> &lt; 0) {
01351     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0)
01352       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameRA"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01353     <span class="keywordflow">else</span>
01354       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getNameRA"</span>, <span class="stringliteral">"missing generic RA position quantity"</span>);
01355     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01356   }
01357   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_name;
01358 }
</pre></div>    </td>
  </tr>
</table>
<a name="a24" doxytag="catalogAccess::Catalog::getNumRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getNumRows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>nrows</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00774">774</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00774                                     {
00775 
00776   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0) *nrows=0;
00777   <span class="keywordflow">else</span> *nrows=<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>;
00778 }
</pre></div>    </td>
  </tr>
</table>
<a name="a32" doxytag="catalogAccess::Catalog::getNumSelRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getNumSelRows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>nrows</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00990">990</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00990                                        {
00991 
00992  *nrows=<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>;
00993 }
</pre></div>    </td>
  </tr>
</table>
<a name="a26" doxytag="catalogAccess::Catalog::getNValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getNValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00805">805</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00806                                         {
00807 
00808   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNValue"</span>;
00809   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
00810   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00811   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00812   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00813   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {  
00814     std::string errText;
00815     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00816     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00817     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00818   }
00819   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00820 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00821 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00822 <span class="preprocessor">  #endif</span>
00823 <span class="preprocessor"></span>  *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
00824   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00825 }
</pre></div>    </td>
  </tr>
</table>
<a name="a16" doxytag="catalogAccess::Catalog::getQuantityDescription"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityDescription </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>myQuantities</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00636">636</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00636                                                                      {
00637 
00638   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"getQuantityDescription"</span>, <span class="keyword">true</span>);
00639   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00640     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"getQuantityDescription"</span>, <span class="stringliteral">"returning unchanged vector."</span>);
00641     <span class="keywordflow">return</span> quantSize;
00642   }
00643   *myQuantities=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>;
00644   <span class="keywordflow">return</span> quantSize;
00645 }
</pre></div>    </td>
  </tr>
</table>
<a name="a17" doxytag="catalogAccess::Catalog::getQuantityNames"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityNames </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>names</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00649">649</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00649                                                          {
00650 
00651   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityNames"</span>;
00652   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00653   names-&gt;clear();
00654   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00655     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00656     <span class="keywordflow">return</span> quantSize;
00657   }
00658   <span class="keywordflow">try</span> {
00659     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00660       names-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_name);
00661   }
00662   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00663     std::string errText;
00664     errText=std::string(<span class="stringliteral">"EXCEPTION on names: "</span>)+err.what();
00665     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00666     <span class="keywordflow">throw</span>;
00667   }
00668   <span class="keywordflow">return</span> quantSize;
00669 }
</pre></div>    </td>
  </tr>
</table>
<a name="a20" doxytag="catalogAccess::Catalog::getQuantityTypes"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityTypes </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html#s3">Quantity::QuantityType</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>types</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00718">718</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00718                                                                     {
00719 
00720   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityTypes"</span>;
00721   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00722   types-&gt;clear();
00723   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00724     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00725     <span class="keywordflow">return</span> quantSize;
00726   } 
00727   <span class="keywordflow">try</span> {
00728     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00729       types-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_type);
00730   }
00731   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00732     std::string errText;
00733     errText=std::string(<span class="stringliteral">"EXCEPTION on types: "</span>)+err.what();
00734     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00735     <span class="keywordflow">throw</span>;
00736   }
00737   <span class="keywordflow">return</span> quantSize;
00738 }
</pre></div>    </td>
  </tr>
</table>
<a name="a19" doxytag="catalogAccess::Catalog::getQuantityUCDs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityUCDs </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>ucds</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00695">695</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00695                                                         {
00696 
00697   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityUCDs"</span>;
00698   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00699   ucds-&gt;clear();
00700   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00701     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00702     <span class="keywordflow">return</span> quantSize;
00703   } 
00704   <span class="keywordflow">try</span> {
00705     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00706       ucds-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_ucd);
00707   }
00708   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00709     std::string errText;
00710     errText=std::string(<span class="stringliteral">"EXCEPTION on ucds: "</span>)+err.what();
00711     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00712     <span class="keywordflow">throw</span>;
00713   }
00714   <span class="keywordflow">return</span> quantSize;
00715 }
</pre></div>    </td>
  </tr>
</table>
<a name="a18" doxytag="catalogAccess::Catalog::getQuantityUnits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityUnits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>units</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00672">672</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00672                                                          {
00673 
00674   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityUnits"</span>;
00675   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00676   units-&gt;clear();
00677   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
00678     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00679     <span class="keywordflow">return</span> quantSize;
00680   } 
00681   <span class="keywordflow">try</span> {
00682     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00683       units-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_unit);
00684   }
00685   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00686     std::string errText;
00687     errText=std::string(<span class="stringliteral">"EXCEPTION on units: "</span>)+err.what();
00688     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, errText);
00689     <span class="keywordflow">throw</span>;
00690   }
00691   <span class="keywordflow">return</span> quantSize;
00692 }
</pre></div>    </td>
  </tr>
</table>
<a name="a5" doxytag="catalogAccess::Catalog::getRAMsize"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::getRAMsize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>numRows</em> = 44000, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>writeLog</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00164">164</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>.
<p>
<div class="fragment"><pre>00164                                                                 {
00165 
00166   std::string mot, text;
00167   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00168   <span class="keywordflow">if</span> (quantSize == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
00169 
00170   <span class="keywordtype">int</span> nD=0, nS=0, nchar=0;
00171   <span class="keywordtype">int</span> i, j;
00172   std::vector&lt;Quantity&gt;::iterator itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin();
00173   <span class="keywordflow">for</span> (; itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.end(); ++itQ) {
00174     <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) nD++;
00175     <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (itQ-&gt;m_type == Quantity::STRING) {
00176       nS++;
00177       text=itQ-&gt;m_format;
00178       i=text.length();
00179       <span class="keywordflow">if</span> (i &gt; 1) {
00180         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> == <span class="stringliteral">"CDS"</span>) text.erase(0, 1);
00181         <span class="keywordflow">else</span> text.erase(i-1);
00182         j=std::atoi(text.c_str());
00183         <span class="keywordflow">if</span> (j &gt; 0) nchar+=j;
00184       }
00185     }
00186   }
00187   <span class="keywordtype">char</span> buffer[50];
00188   <span class="keywordtype">long</span> sizeD=nD*<span class="keyword">sizeof</span>(double)*numRows;
00189   <span class="keywordtype">long</span> sizeS=nchar*<span class="keyword">sizeof</span>(char)*numRows;
00190   i=1+(quantSize+1)/(<span class="keyword">sizeof</span>(long)*8);
00191   <span class="keywordtype">long</span> sizeB=i*<span class="keyword">sizeof</span>(long)*numRows;
00192   <span class="keywordflow">if</span> (writeLog &amp;&amp; (<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a> &gt; 0)) {
00193     sprintf(buffer, <span class="stringliteral">"%6ld"</span>, <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>);
00194     mot=buffer; <span class="comment">/* convert C string to C++ string */</span>
00195     text=<span class="stringliteral">"Original whole catalog number of rows = "</span>+mot;
00196     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
00197   }
00198   <span class="keywordflow">if</span> (numRows &lt;= 0) <span class="keywordflow">return</span> 0;
00199   <span class="keywordflow">if</span> (writeLog) {
00200     sprintf(buffer, <span class="stringliteral">"%6ld"</span>, numRows);
00201     mot=buffer; <span class="comment">/* convert C string to C++ string */</span>
00202     text=<span class="stringliteral">"Needed RAM space (MB) for "</span>+mot;
00203     sprintf(buffer, <span class="stringliteral">"%5.1f"</span>, (sizeD+sizeS+sizeB)/(1024.*1024.));
00204     mot=buffer;
00205     text=text+<span class="stringliteral">" data rows = "</span>+mot+<span class="stringliteral">"\n"</span>;
00206     sprintf(buffer, <span class="stringliteral">"%5.0f kB for numericals (%3d double per row)"</span>,
00207                    sizeD/1024., nD);
00208     mot=buffer;
00209     text=text+mot+<span class="stringliteral">"\n"</span>;
00210     sprintf(buffer, <span class="stringliteral">"%5.0f kB for %2d strings (%3d char per row)"</span>,
00211                    sizeS/1024., nS, nchar);
00212     mot=buffer;
00213     text=text+mot+<span class="stringliteral">"\n"</span>;
00214     sprintf(buffer, <span class="stringliteral">"%5.0f kB for select bits (%2d long per row)"</span>,
00215                    sizeB/1024., i);
00216     mot=buffer;
00217     text=text+mot;
00218     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
00219   }
00220   <span class="keywordflow">return</span> (sizeD+sizeS+sizeB);
00221 }
</pre></div>    </td>
  </tr>
</table>
<a name="a34" doxytag="catalogAccess::Catalog::getSelNValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelNValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01025">1025</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01026                                            {
01027 
01028   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelNValue"</span>;
01029   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, srow);
01030   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01031   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01032   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01033   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01034   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {  
01035     std::string errText;
01036     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01037     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01038     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01039   }
01040   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01041   <span class="keywordtype">long</span> tot=0;
01042   <span class="comment">// first bit indicates global selection</span>
01043   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01044     <span class="keywordflow">if</span> (tot == srow) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01045     tot++;
01046     <span class="comment">//if (tot == m_numSelRows) break; should not happen</span>
01047   }
01048   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01049   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01050 }
</pre></div>    </td>
  </tr>
</table>
<a name="a35" doxytag="catalogAccess::Catalog::getSelStatError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelStatError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValStat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01057">1057</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01058                                                   {
01059 
01060   *realValStat = -1.0;
01061   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelStatError"</span>;
01062   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, srow);
01063   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01064   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01065   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01066   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01067   std::string statName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_statError;
01068   <span class="keywordflow">if</span> (statName.empty()) {;
01069     statName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no statistical error"</span>;
01070     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, statName);
01071     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
01072   }
01073   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, statName);
01074   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01075   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01076 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01077 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM STAT index = "</span> &lt;&lt; num &lt;&lt; std::endl;
01078 <span class="preprocessor">  #endif</span>
01079 <span class="preprocessor"></span>  <span class="keywordtype">long</span> tot=0;
01080   <span class="comment">// first bit indicates global selection</span>
01081   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01082     <span class="keywordflow">if</span> (tot == srow) { *realValStat=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01083     tot++;
01084   }
01085   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01086   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01087 }
</pre></div>    </td>
  </tr>
</table>
<a name="a33" doxytag="catalogAccess::Catalog::getSelSValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>stringVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00997">997</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00998                                                 {
00999 
01000   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSValue"</span>;
01001   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, srow);
01002   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01003   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01004   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01005   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01006   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
01007     std::string errText;
01008     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01009     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01010     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01011   }
01012   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01013   <span class="keywordtype">long</span> tot=0;
01014   <span class="comment">// first bit indicates global selection</span>
01015   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01016     <span class="keywordflow">if</span> (tot == srow) { *stringVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(i); <span class="keywordflow">break</span>; }
01017     tot++;
01018     <span class="comment">//if (tot == m_numSelRows) break; should not happen</span>
01019   }
01020   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01021   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01022 }
</pre></div>    </td>
  </tr>
</table>
<a name="a37" doxytag="catalogAccess::Catalog::getSelSValues"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSValues </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>values</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01130">1130</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01131                                                          {
01132 
01133   values-&gt;clear();
01134   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSValues"</span>;
01135   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, 0);
01136   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01137   <span class="comment">// above test avoid searching when no row is selected</span>
01138   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01139   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01140   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
01141     std::string errText;
01142     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01143     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01144     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01145   }
01146   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01147   std::string text;
01148   <span class="keywordflow">try</span> {
01149     <span class="keywordtype">long</span> j, max=0, tot=0;
01150     <span class="comment">// first bit indicates global selection</span>
01151     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01152       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(i);
01153       <span class="keywordflow">if</span> (max == 0) {values-&gt;assign(1, text); max++;}
01154       <span class="keywordflow">else</span> {
01155         <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (values-&gt;at(j) == text) <span class="keywordflow">break</span>;
01156         <span class="keywordflow">if</span> (j == max) {values-&gt;push_back(text); max++;}
01157       }
01158       <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01159     }
01160   }
01161   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
01162     text=std::string(<span class="stringliteral">"EXCEPTION on values: "</span>)+err.what();
01163     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01164     <span class="keywordflow">throw</span>;
01165   }
01166   <span class="keywordflow">return</span> values-&gt;size();
01167 }
</pre></div>    </td>
  </tr>
</table>
<a name="a36" doxytag="catalogAccess::Catalog::getSelSysError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSysError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValSys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01090">1090</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01091                                                  {
01092 
01093   *realValSys = -1.0;
01094   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSysError"</span>;
01095   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, srow);
01096   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01097   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01098   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01099   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01100   std::string sysName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_sysError;
01101   <span class="keywordflow">if</span> (sysName.empty()) {;
01102     sysName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no systematic error"</span>;
01103     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sysName);
01104     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
01105   }
01106   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, sysName);
01107   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01108   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01109 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01110 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM SYS. index = "</span> &lt;&lt; num &lt;&lt; std::endl;
01111 <span class="preprocessor">  #endif</span>
01112 <span class="preprocessor"></span>  <span class="keywordtype">long</span> tot=0;
01113   <span class="comment">// first bit indicates global selection</span>
01114   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01115     <span class="keywordflow">if</span> (tot == srow) { *realValSys=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01116     tot++;
01117   }
01118   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01119   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01120 }
</pre></div>    </td>
  </tr>
</table>
<a name="a27" doxytag="catalogAccess::Catalog::getStatError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getStatError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValStat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00832">832</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00833                                                {
00834 
00835   *realValStat = -1.0;
00836   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getStatError"</span>;
00837   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
00838   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00839   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00840   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00841   std::string statName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_statError;
00842   <span class="keywordflow">if</span> (statName.empty()) {;
00843     statName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no statistical error"</span>;
00844     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, statName);
00845     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
00846   }
00847   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, statName);
00848   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00849   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00850 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00851 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM STAT index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00852 <span class="preprocessor">  #endif</span>
00853 <span class="preprocessor"></span>  *realValStat=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
00854   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00855 }
</pre></div>    </td>
  </tr>
</table>
<a name="a21" doxytag="catalogAccess::Catalog::getStatErrorName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getStatErrorName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>statErrName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00742">742</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00743                                                       {
00744 
00745   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"getStatErrorName"</span>, <span class="keyword">true</span>);
00746   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00747   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"getStatErrorName"</span>, name);
00748   <span class="keywordflow">if</span> (quantSize &lt; 0) <span class="keywordflow">return</span> quantSize;
00749   *statErrName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(quantSize).m_statError;
00750   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00751 }
</pre></div>    </td>
  </tr>
</table>
<a name="a25" doxytag="catalogAccess::Catalog::getSValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>stringVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00782">782</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00783                                              {
00784 
00785   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSValue"</span>;
00786   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
00787   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00788   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00789   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00790   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00791     std::string errText;
00792     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00793     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00794     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00795   }
00796   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00797 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00798 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG STRING index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00799 <span class="preprocessor">  #endif</span>
00800 <span class="preprocessor"></span>  *stringVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(row);
00801   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00802 }
</pre></div>    </td>
  </tr>
</table>
<a name="a29" doxytag="catalogAccess::Catalog::getSValues"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSValues </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>values</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00892">892</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00893                                                       {
00894 
00895   values-&gt;clear();
00896   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSValues"</span>;
00897   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, 0);
00898   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00899   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00900   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00901   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00902     std::string errText;
00903     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00904     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00905     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00906   }
00907   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00908   std::string text;
00909   <span class="keywordflow">try</span> {
00910     values-&gt;assign(1, <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(0));
00911     <span class="keywordtype">long</span> i, j, max;
00912     <span class="keywordflow">for</span> (i=1; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00913       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(i);
00914       max=values-&gt;size();
00915       <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (values-&gt;at(j) == text) <span class="keywordflow">break</span>;
00916       <span class="keywordflow">if</span> (j == max) values-&gt;push_back(text);
00917     }
00918   }
00919   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00920     text=std::string(<span class="stringliteral">"EXCEPTION on values: "</span>)+err.what();
00921     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00922     <span class="keywordflow">throw</span>;
00923   }
00924   <span class="keywordflow">return</span> values-&gt;size();
00925 }
</pre></div>    </td>
  </tr>
</table>
<a name="a28" doxytag="catalogAccess::Catalog::getSysError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSysError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValSys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00858">858</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="namespacecatalog_access.html#a37a27">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00859                                                {
00860 
00861   *realValSys = -1.0;
00862   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSysError"</span>;
00863   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
00864   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00865   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00866   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00867   std::string sysName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_sysError;
00868   <span class="keywordflow">if</span> (sysName.empty()) {
00869     sysName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no systematic error"</span>;
00870     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sysName);
00871     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a27">NO_QUANT_ERR</a>;
00872   }
00873   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, sysName);
00874   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00875   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00876 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00877 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM SYS. index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00878 <span class="preprocessor">  #endif</span>
00879 <span class="preprocessor"></span>  *realValSys=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
00880   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00881 }
</pre></div>    </td>
  </tr>
</table>
<a name="a22" doxytag="catalogAccess::Catalog::getSysErrorName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSysErrorName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sysErrName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00754">754</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00755                                                     {
00756 
00757   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"getSysErrorName"</span>, <span class="keyword">true</span>);
00758   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00759   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"getSysErrorName"</span>, name);
00760   <span class="keywordflow">if</span> (quantSize &lt; 0) <span class="keywordflow">return</span> quantSize;
00761   *sysErrName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(quantSize).m_sysError;
00762   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00763 }
</pre></div>    </td>
  </tr>
</table>
<a name="d1" doxytag="catalogAccess::Catalog::getWebList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getWebList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>names</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isCode</em> = true</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00353">353</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00029">MAX_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00353                                                                        {
00354 
00355   names-&gt;clear();
00356 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00357 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG number of web sites: "</span> &lt;&lt; <a class="code" href="catalog_8h.html#a2">MAX_URL</a>
00358             &lt;&lt; std::endl;
00359 <span class="preprocessor">  #endif</span>
00360 <span class="preprocessor"></span>  std::string text;
00361   <span class="keywordflow">try</span> {
00362     std::string s;
00363     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00364     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00365       s=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00366       <span class="keywordflow">if</span> (isCode) {
00367         pos=s.find(<span class="charliteral">' '</span>);
00368         <span class="keywordflow">if</span> (pos == std::string::npos) text=<span class="stringliteral">""</span>;
00369         <span class="keywordflow">else</span> text=s.substr(0, pos);
00370       }
00371       <span class="keywordflow">else</span> {
00372         pos=s.rfind(<span class="charliteral">' '</span>);
00373         <span class="keywordflow">if</span> (pos == std::string::npos) text=s;
00374         <span class="keywordflow">else</span> text=s.substr(pos+1, s.length()-pos);
00375       }
00376       names-&gt;push_back(text);
00377     }
00378   }
00379   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00380     text=std::string(<span class="stringliteral">"EXCEPTION filling names: "</span>)+prob.what();
00381     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"getWebList"</span>, text);
00382     <span class="keywordflow">throw</span>;
00383   }
00384 }
</pre></div>    </td>
  </tr>
</table>
<a name="a8" doxytag="catalogAccess::Catalog::import"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::import </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em> = "1"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00711">711</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00712                                          {
00713   <span class="keywordtype">int</span> err;
00714   <span class="keywordtype">long</span> maxR=maxRows;
00715   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"import"</span>, <span class="keyword">false</span>);
00716   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00717 
00718   <span class="keywordflow">if</span> (maxR &lt;= 0) {
00719     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"import"</span>, <span class="stringliteral">"trying to get whole catalog file"</span>);
00720     maxR=0;
00721   }
00722 
00723   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c18">load</a>(fileName, ext, <span class="keyword">false</span>, &amp;maxR);
00724   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) <span class="keywordflow">return</span> err;
00725   <a class="code" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, <span class="keyword">true</span>);
00726   <span class="keywordflow">try</span> {
00727     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; maxR) {
00728       <span class="keywordtype">int</span> i;
00729       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
00730       <span class="comment">// erase unused memory  printf("ERASING\n");</span>
00731       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
00732       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
00733       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
00734     }
00735     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()+2;
00736     <span class="comment">// number of required bits including global and region</span>
00737     err=1+(err-1)/(<span class="keyword">sizeof</span>(long)*8);
00738     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.resize(err);
00739 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
00740 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
00741               &lt;&lt; err &lt;&lt; std::endl;
00742 <span class="preprocessor">    #endif</span>
00743 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_numRows)
00744       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00745     <span class="comment">// above lines can be commented to test the try catch mechanism</span>
00746   }
00747   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00748     std::string text;
00749     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
00750     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"import"</span>, text);
00751     <span class="keywordflow">throw</span>;
00752   }
00753   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>;
00754 }
</pre></div>    </td>
  </tr>
</table>
<a name="a6" doxytag="catalogAccess::Catalog::importDescription"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importDescription </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em> = "1"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00696">696</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, and <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00697                                                     {
00698   <span class="keywordtype">int</span> err;
00699   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"importDescription"</span>, <span class="keyword">false</span>);
00700   <span class="comment">// must be called before load() which set m_numRows to 0</span>
00701   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
00702 
00703   <span class="keywordtype">long</span> maxRows=0l;
00704   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c18">load</a>(fileName, ext, <span class="keyword">true</span>, &amp;maxRows);
00705   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) <span class="keywordflow">return</span> err;
00706 
00707   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00708 }
</pre></div>    </td>
  </tr>
</table>
<a name="a7" doxytag="catalogAccess::Catalog::importDescriptionWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importDescriptionWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em> = "cds", </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em> = ""</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.    </td>
  </tr>
</table>
<a name="a10" doxytag="catalogAccess::Catalog::importSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>filter</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01000">1000</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a33">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a15">catalogAccess::IMPORT_BIS</a>, <a class="el" href="namespacecatalog_access.html#a37a16">catalogAccess::IMPORT_NEED</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="classcatalog_access_1_1_catalog.html#c21">loadSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="quantity_8h-source.html#l00140">catalogAccess::Quantity::m_cutORed</a>, <a class="el" href="quantity_8h-source.html#l00137">catalogAccess::Quantity::m_excludeList</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00381">m_filePos</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="quantity_8h-source.html#l00124">catalogAccess::Quantity::m_listValS</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="quantity_8h-source.html#l00138">catalogAccess::Quantity::m_precision</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00139">catalogAccess::Quantity::m_rejectNaN</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01000                                              {
01001 
01002   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"importSelected"</span>;
01003   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
01004   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
01005 
01006   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &gt; 0) {
01007     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"call 'deleteContent' before 'importSelected'"</span>);
01008     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a15">IMPORT_BIS</a>;
01009   }
01010   <span class="keywordtype">int</span> i, err=0,
01011       maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
01012   <span class="keywordflow">for</span> (i=0; i&lt;maxSize; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>[i]) err++;
01013   <span class="keywordflow">if</span> (err &lt; 2) {
01014     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">"at least 2 quantities must be selected for import"</span>);
01015     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a33">BAD_SEL_QUANT</a>;
01016   }
01017   filter=<span class="stringliteral">""</span>;
01018   std::ostringstream sortie; 
01019   sortie &lt;&lt; err &lt;&lt; <span class="stringliteral">" quantities (over "</span> &lt;&lt; maxSize &lt;&lt; <span class="stringliteral">") selected for import"</span>;
01020   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
01021   sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string</span>
01022   <span class="keywordflow">if</span> (err != quantSize) {
01023     <span class="comment">// in fact, due to select*Quantities() restrictions,</span>
01024     <span class="comment">// quantSize can only be greater than err</span>
01025     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(2, <span class="stringliteral">"Erasing unwanted quantities for importSelected()"</span>);
01026     <a class="code" href="classcatalog_access_1_1_catalog.html#c1">deleteQuantities</a>();
01027   }
01028   err=<a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>;
01029   std::string text;
01030   <span class="keywordtype">long</span> maxRows=0l;
01031   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>.find(0x0A);
01032   <span class="keywordflow">if</span> (pos == std::string::npos) {
01033 
01034     <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>.empty() ) {
01035       <span class="comment">// data must be querried via web</span>
01036 
01037 
01038     }
01039     <span class="keywordflow">else</span> {
01040       <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>) {
01041         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">"file import was not succesful"</span>);
01042         <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a16">IMPORT_NEED</a>;
01043       }
01044       std::fstream myFile (<a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>.c_str(), std::ios::in);
01045       <span class="comment">// file can be opened ?</span>
01046       <span class="keywordflow">if</span> ( !myFile.is_open() ) {
01047         text=<span class="stringliteral">": FILENAME \""</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>+<span class="stringliteral">"\" cannot be opened"</span>;
01048         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
01049         err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01050         <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
01051         <span class="keywordflow">return</span> err;
01052       }
01053       <span class="comment">// go back to initial position</span>
01054       myFile.clear(); <span class="comment">// needed to reset flags before seekg</span>
01055       myFile.seekg(<a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>);
01056       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of data lines read</span>
01057       err=<a class="code" href="classcatalog_access_1_1_catalog.html#c21">loadSelected</a>(&amp;tot, &amp;myFile, &amp;maxRows);
01058       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
01059         sortie &lt;&lt; tot &lt;&lt; <span class="stringliteral">" data lines read for importSelected()"</span>;
01060         <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01061       }
01062       myFile.close();
01063     }
01064 
01065   }
01066   <span class="keywordflow">else</span> { <span class="comment">//fits file</span>
01067 
01068     text=<a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>;
01069     std::string fileName=text.substr(0, pos);
01070     text.erase(0, pos+1);
01071     <span class="keyword">const</span> Extension *myEXT = 0;
01072     <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
01073     <span class="keywordflow">try</span> {
01074       myEXT=IFileSvc::instance().readExtension(fileName, text);
01075     }
01076     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01077       err=x.code();
01078       <span class="keywordflow">if</span> (err == 1) {
01079         <span class="comment">// This non-cfitsio error number means the file does not exist</span>
01080         <span class="comment">// or is not a table, or is not either Root nor Fits format. </span>
01081         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName;
01082         sortie &lt;&lt; <span class="stringliteral">"\" cannot be opened or is NOT fits"</span>;
01083         err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
01084       }
01085       <span class="keywordflow">else</span> {
01086         <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
01087         <span class="comment">// which is in FITS format but has some sort of format error.</span>
01088         sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
01089         err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01090       }
01091     }
01092     <span class="keywordflow">if</span> (err &gt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
01093       <span class="keywordflow">if</span> ( !myEXT-&gt;isTable() ) {
01094         sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
01095         err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
01096       }
01097     }
01098     <span class="keyword">delete</span> myEXT;
01099     <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
01100       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
01101       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
01102       <span class="keywordflow">return</span> err;
01103     }
01104     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c20">loadSelectFits</a>(fileName, text, &amp;maxRows, filter);
01105 
01106   }
01107   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) {
01108     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
01109     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
01110     <span class="keywordflow">return</span> err;
01111   }
01112   <span class="keywordflow">try</span> {
01113     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; maxRows) {
01114       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
01115       <span class="comment">// erase unused memory  printf("ERASING\n")</span>
01116       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
01117       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
01118       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
01119     }
01120     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()+2;
01121     <span class="comment">// number of required bits including global and region</span>
01122     maxSize=<span class="keyword">sizeof</span>(long)*8;
01123     err=1+(err-1)/maxSize;
01124     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.resize(err);
01125 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
01126 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
01127               &lt;&lt; err &lt;&lt; std::endl;
01128 <span class="preprocessor">    #endif</span>
01129 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_numRows) {
01130       std::vector&lt;bool&gt; isSelected;
01131       <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected) ) {
01132 
01133         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> quantBit;
01134         <span class="keywordtype">int</span> j, k;
01135         quantSize=isSelected.size();
01136         <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> == <span class="stringliteral">"CDS"</span>) || (m_criteriaORed)) {
01137           <span class="keywordflow">for</span> (j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
01138           <span class="comment">/* for the moment, no selection applied */</span>
01139           std::vector&lt;std::string&gt; list;
01140           std::string mot;
01141           <span class="keywordtype">int</span> nbV, (*pfunc)(int)=tolower; <span class="comment">// function used by transform</span>
01142           Quantity readQ;
01143           <span class="keywordtype">double</span>   myVal, precis;
01144           <span class="keywordtype">bool</span>     check, reject;
01145           <span class="keywordflow">for</span> (i=1; i&lt;quantSize; i++) <span class="keywordflow">if</span> (isSelected[i]) {
01146             readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i-1];
01147             quantBit=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(i-1, &amp;k);
01148 <span class="comment">//std::cout &lt;&lt; m_criteriaORed &lt;&lt;"byte #"&lt;&lt; k &lt;&lt; " unsigned long="&lt;&lt;quantBit;</span>
01149             <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
01150               nbV=readQ.m_listValS.size(); <span class="comment">/* &gt;0 because criteria exist */</span>
01151               list.assign(nbV, <span class="stringliteral">""</span>);
01152               <span class="keywordflow">for</span> (j=0; j&lt;nbV; j++) {
01153                 mot=readQ.m_listValS.at(j);
01154                 <span class="keywordflow">if</span> (readQ.m_cutORed)
01155                   transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01156                 list.at(j)=mot;
01157               }
01158               <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; maxRows++) {
01159                 mot=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[readQ.m_index].at(maxRows);
01160                 <span class="keywordflow">if</span> (readQ.m_cutORed)
01161                   transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01162                 check=readQ.m_excludeList;
01163                 <span class="keywordflow">for</span> (j=0; j&lt;nbV; j++) {
01164                   <span class="keywordflow">if</span> (mot == list[j]) {check=!readQ.m_excludeList; <span class="keywordflow">break</span>;}
01165                 }
01166                 <span class="comment">// setting required bit</span>
01167                 <span class="keywordflow">if</span> (check)
01168                   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(maxRows)|= quantBit;
01169                 <span class="keywordflow">else</span>
01170                   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(maxRows)&amp;= (Max_Test-quantBit);
01171               }
01172             }
01173             <span class="keywordflow">else</span> { <span class="comment">// numerical quantity</span>
01174               j=i-1;
01175               nbV=readQ.m_index;
01176               reject=readQ.m_rejectNaN;
01177               precis=readQ.m_precision;
01178               <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; maxRows++) {
01179                 myVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[nbV].at(maxRows);
01180                 <span class="keywordflow">if</span> (!readQ.m_cutORed) <span class="comment">// usual case</span>
01181                   check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(myVal,j, readQ.m_excludeList,reject,precis);
01182                 <span class="keywordflow">else</span>
01183                   check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(myVal,j, reject,precis);
01184                 <span class="comment">// setting required bit</span>
01185                 <span class="keywordflow">if</span> (check)
01186                   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(maxRows)|= quantBit;
01187                 <span class="keywordflow">else</span>
01188                   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(maxRows)&amp;= (Max_Test-quantBit);
01189               }<span class="comment">// loop on rows</span>
01190             }
01191           }<span class="comment">/*loop on selected quantities */</span>
01192           <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
01193           <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; maxRows++) {
01194             <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(maxRows, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
01195           }
01196         }
01197         <span class="keywordflow">else</span> {<span class="comment">// from binary fits, only if criteria ANDed</span>
01198           <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>;
01199           <span class="comment">/* easy, as criteria are ANDed: bit to 1 */</span>
01200           std::vector&lt;unsigned long&gt; selBits(err, 0);
01201           selBits[0]=1ul;
01202           j=0;
01203           quantBit=2ul;
01204           <span class="keywordflow">for</span> (i=0; i&lt;quantSize; ) {
01205             <span class="keywordflow">if</span> (isSelected[i]) selBits[j]|=quantBit;
01206             <span class="keywordflow">if</span> ((++i % maxSize) == 0) {
01207               quantBit=1ul; <span class="comment">// first bit</span>
01208               j++;          <span class="comment">// of next vector index.</span>
01209             }
01210             <span class="keywordflow">else</span> quantBit*=2ul;
01211           }
01212 <span class="comment">//std::cout &lt;&lt; m_criteriaORed &lt;&lt;"first unsigned long selection="&lt;&lt; selBits[0];</span>
01213           <span class="keywordflow">for</span> (j=0; j&lt;err; j++)
01214             <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, selBits[j]);
01215         }
01216         <span class="keywordflow">if</span> (m_selRegion) {
01217           sortie &lt;&lt; origin &lt;&lt; <span class="stringliteral">", selecting region from "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>;
01218           sortie &lt;&lt; <span class="stringliteral">" loaded rows"</span>;
01219           <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
01220           <span class="keywordtype">int</span> nRA =<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_index,
01221               nDEC=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_index;
01222           <span class="keywordtype">bool</span> check;
01223           <span class="keywordflow">for</span> (maxRows=0; maxRows&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; maxRows++) {
01224             check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkRegion</a>(maxRows, nRA, nDEC);
01225             <span class="keywordflow">if</span> (!check) {<span class="comment">// setting 2nd bit to 0</span>
01226               <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(maxRows)&amp;=(Max_Test-2ul);
01227               <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>) {<span class="comment">// setting 1st bit to 0</span>
01228                 <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(maxRows)&amp;=(Max_Test-1ul);
01229                 <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>--;
01230               }
01231               <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(maxRows, isSelected) == <span class="keyword">false</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>--;
01232             }
01233           }<span class="comment">/* loop on rows */</span>
01234         }
01235         <a class="code" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a>();
01236 
01237       }
01238       <span class="keywordflow">else</span>  <span class="comment">// lines can be commented to test the try catch mechanism</span>
01239         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
01240     }<span class="comment">/* row exist ==&gt; MUST create selection array */</span>
01241   }
01242   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01243     std::string text;
01244     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
01245     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(<span class="stringliteral">"import"</span>, text);
01246     <span class="keywordflow">throw</span>;
01247   }
01248   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>;
01249 }
</pre></div>    </td>
  </tr>
</table>
<a name="a9" doxytag="catalogAccess::Catalog::importWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em> = "cds", </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRow</em> = 44000, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em> = ""</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.    </td>
  </tr>
</table>
<a name="a62" doxytag="catalogAccess::Catalog::includeN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::includeN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00795">795</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00796                                                         {
00797 
00798   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"includeN"</span>, <span class="keyword">true</span>);
00799   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
00800   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"includeN"</span>, name);
00801   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00802 
00803   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00804     std::string errText;
00805     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00806     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"includeN"</span>, errText);
00807     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00808   }
00809   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c9">doSelN</a>(name, index, 3, listVal); <span class="comment">// 3 to set bit 0 to 1.</span>
00810   <span class="keywordflow">return</span> done;
00811 }
</pre></div>    </td>
  </tr>
</table>
<a name="c18" doxytag="catalogAccess::Catalog::load"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::load </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00512">512</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="classcatalog_access_1_1_catalog.html#c17">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="classcatalog_access_1_1_catalog.html#c16">analyze_head()</a>, <a class="el" href="namespacecatalog_access.html#a37a21">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a37a18">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00374">m_code</a>, <a class="el" href="catalog_8h-source.html#l00380">m_filename</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00378">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00696">importDescription()</a>.
<p>
<div class="fragment"><pre>00513                                                       {
00514 
00515   <span class="keywordtype">int</span> i, err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00516   std::string origin, text;
00517   <span class="keywordflow">if</span> (getDescr) origin=<span class="stringliteral">"importDescription"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"import"</span>;
00518 
00519   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=0;
00520   i=fileName.length();
00521   <span class="keywordflow">if</span> (i == 0) {
00522     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00523     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00524     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00525     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00526     <span class="keywordflow">return</span> err;
00527   }
00528   std::fstream myFile (fileName.c_str(), std::ios::in);
00529   <span class="comment">// file can be opened ?</span>
00530   <span class="keywordflow">if</span> ( !myFile.is_open() ) {
00531     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be opened"</span>;
00532     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00533     err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00534     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00535     <span class="keywordflow">return</span> err;
00536   }
00537 <span class="comment">/*  DIR *testDir=opendir(fileName.c_str());</span>
00538 <span class="comment">  if (testDir != NULL) {</span>
00539 <span class="comment">    closedir(testDir);</span>
00540 <span class="comment">    text=": FILENAME \""+fileName+"\" is a directory";</span>
00541 <span class="comment">    printErr(origin, text);</span>
00542 <span class="comment">    err=BAD_FILETYPE;</span>
00543 <span class="comment">    m_numRows=err;</span>
00544 <span class="comment">    return err;</span>
00545 <span class="comment">  }*/</span>
00546   myFile.close();
00547   std::ostringstream sortie;
00548   <span class="keywordtype">bool</span>  myTest;
00549   <span class="keyword">const</span> Extension *myEXT = 0;
00550   <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
00551   <span class="keywordflow">try</span> {
00552     myEXT=IFileSvc::instance().readExtension(fileName, ext);
00553   }
00554   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00555     err=x.code();
00556     <span class="keywordflow">if</span> (err == 1) {
00557       <span class="comment">// This non-cfitsio error number means the file does not exist</span>
00558       <span class="comment">// or is not a table, or is not either Root nor Fits format. </span>
00559       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00560 <span class="comment">/*      printWarn(origin, "FILENAME is NOT fits");*/</span>
00561     }
00562     <span class="keywordflow">else</span> {
00563       <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
00564       <span class="comment">// which is in FITS format but has some sort of format error.</span>
00565       sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
00566       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00567       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00568       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00569       <span class="keyword">delete</span> myEXT;
00570       <span class="keywordflow">return</span> err;
00571     }
00572   }
00573   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) myTest=myEXT-&gt;isTable();
00574   <span class="keyword">delete</span> myEXT;
00575   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00576  
00577     <span class="keywordflow">if</span> (!myTest) {
00578       text=<span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
00579       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00580       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00581       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00582       <span class="keywordflow">return</span> err;
00583     }
00584     <span class="keyword">const</span> Table *myDOL = 0;
00585     <span class="keywordflow">try</span> {
00586       myDOL=IFileSvc::instance().readTable(fileName, ext);
00587     }
00588     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00589       sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; x.code();
00590       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00591       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00592       <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00593       <span class="keyword">delete</span> myDOL;
00594       <span class="keywordflow">return</span> err;
00595     }
00596     <span class="keyword">const</span> <span class="keywordtype">char</span> lf = 0x0A;
00597     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>=fileName+lf+ext;
00598     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c15">analyze_fits</a>(myDOL, getDescr, origin, maxRows);
00599     <span class="keyword">delete</span> myDOL;
00600 
00601   }
00602   <span class="keywordflow">else</span> { <span class="comment">// (err == BAD_FITS)</span>
00603 
00604     err=<a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00605     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of lines read</span>
00606     <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>; <span class="comment">// true if lines ends with CR (on windows)</span>
00607     <span class="keywordtype">int</span> what=0;        <span class="comment">// 0 for unkwown, &gt;0 for csv, &lt;0 to tsv</span>
00608                        <span class="comment">// fabs()=1 for standard, =2 for meta QUERY</span>
00609 
00610     myFile.open(fileName.c_str(), std::ios::in);
00611     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c16">analyze_head</a>(&amp;tot, &amp;what, &amp;testCR, &amp;myFile);
00612     <span class="keywordflow">if</span> (!tot) {
00613       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is fits without extension[] "</span>
00614              &lt;&lt; <span class="stringliteral">"specified"</span>;
00615       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00616       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00617       text=<span class="stringliteral">"input file"</span>;
00618       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>;
00619       <span class="comment">// in case, for strange reason, file.good() fails at first time</span>
00620     }
00621     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00622       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is empty or "</span>
00623              &lt;&lt; <span class="stringliteral">"has unknown structure (stopped step "</span> &lt;&lt; -1*err &lt;&lt; <span class="stringliteral">")"</span>;
00624       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00625       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00626       text=<span class="stringliteral">"input file"</span>;
00627       <span class="keywordflow">if</span> (err == 0) err=<a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>; <span class="comment">/* nothing is read */</span>
00628       <span class="keywordflow">else</span> err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>; <span class="comment">/* can search if catalog name exist */</span>
00629     }
00630     <span class="keywordflow">else</span> {
00631 
00632       <span class="comment">//what is 1 or 2, then negate if TSV type</span>
00633       <span class="keywordflow">if</span> (what == 1) text=<span class="stringliteral">"input text file"</span>;
00634       <span class="keywordflow">else</span> text=<span class="stringliteral">"input META file"</span>;
00635 
00636       <span class="comment">// get columns description and units, data</span>
00637       err=<a class="code" href="classcatalog_access_1_1_catalog.html#c17">analyze_body</a>(&amp;tot, &amp;what, testCR, getDescr, &amp;myFile, maxRows);
00638       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a37a21">BAD_FILELINE</a>) {
00639         <span class="comment">// stopped before reading needed stuff (with getDescr false)</span>
00640         text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" couldn't be read (line too long)"</span>;
00641         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00642       }
00643       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>) {
00644         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName
00645              &lt;&lt; <span class="stringliteral">"\" has wrong type (stopped step "</span> &lt;&lt; 5-1*err &lt;&lt; <span class="stringliteral">")"</span>;
00646         <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00647         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00648         err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00649       }
00650       <span class="keywordflow">else</span> {
00651         <span class="keywordflow">if</span> (what &gt; 0) sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">" is CSV type (; separator)"</span>;
00652         <span class="keywordflow">else</span> sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">" is TSV type (Tab=0x09 separator)"</span>;
00653         <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00654         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00655       }
00656 
00657     }
00658     myFile.close();
00659     sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines read"</span>;
00660     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
00661     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">m_filename</a>=fileName;
00662     <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>=<span class="stringliteral">"CDS"</span>; <span class="comment">/* to know that format string need to be changed for fits */</span>
00663 
00664   }<span class="comment">// file is read</span>
00665   <span class="keywordflow">if</span> (err &lt; 0) {
00666     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
00667     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=err;
00668     <span class="comment">// exit only if nothing is read</span>
00669     <span class="keywordflow">if</span> ((err == <a class="code" href="namespacecatalog_access.html#a37a18">BAD_FILENAME</a>) || (err == <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>)) <span class="keywordflow">return</span> err;
00670   }
00671   <span class="comment">// m_quantities vector maybe filled, MUST fill m_selEllipse, m_loadQuantity</span>
00672   <span class="keywordflow">try</span> {
00673     <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.assign(7, 0.0);
00674     <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size(), <span class="keyword">true</span>);
00675   }
00676   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00677     text=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse, m_loadQuantity: "</span>)
00678         +prob.what();
00679     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, text);
00680     <span class="keywordflow">throw</span>;
00681   }
00682   <span class="comment">// check if tableName is known to set generic</span>
00683   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00684     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*i+1] == <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>) <span class="keywordflow">break</span>;
00685   }
00686   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>) {
00687     text=<span class="stringliteral">"Unknown table name, all generic quantities may be not found"</span>;
00688     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00689   }
00690   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=Catalog::s_CatalogList[2*i];
00691   <a class="code" href="classcatalog_access_1_1_catalog.html#c11">setGeneric</a>(i);
00692   <span class="keywordflow">return</span> err;
00693 }
</pre></div>    </td>
  </tr>
</table>
<a name="c21" doxytag="catalogAccess::Catalog::loadSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::fstream *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>.    </td>
  </tr>
</table>
<a name="c20" doxytag="catalogAccess::Catalog::loadSelectFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadSelectFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filter</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00758">758</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a19">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a20">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="quantity_8h-source.html#l00140">catalogAccess::Quantity::m_cutORed</a>, <a class="el" href="quantity_8h-source.html#l00137">catalogAccess::Quantity::m_excludeList</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="quantity_8h-source.html#l00133">catalogAccess::Quantity::m_listValN</a>, <a class="el" href="quantity_8h-source.html#l00124">catalogAccess::Quantity::m_listValS</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, <a class="el" href="quantity_8h-source.html#l00127">catalogAccess::Quantity::m_lowerCut</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="quantity_8h-source.html#l00138">catalogAccess::Quantity::m_precision</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00139">catalogAccess::Quantity::m_rejectNaN</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00130">catalogAccess::Quantity::m_upperCut</a>, <a class="el" href="catalog_8h-source.html#l00375">m_URL</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::SepNull</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>.
<p>
<div class="fragment"><pre>00760 {
00761   <span class="keyword">const</span> std::string  origin=<span class="stringliteral">"importSelected"</span>;
00762   std::ostringstream sortie;
00763   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>       i, max;
00764   <span class="keyword">const</span> Table *myDOL = 0;
00765 
00766   <span class="comment">/* create the selection string */</span>
00767   <span class="keywordtype">char</span> value[20];
00768   <span class="keywordtype">bool</span> test, probCase=<span class="keyword">false</span>;
00769   std::vector&lt;bool&gt; isSelected;
00770   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected) &amp;&amp; (<a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> != <span class="stringliteral">"CDS"</span>)) {
00771     <span class="keywordflow">if</span> (m_selRegion) {
00772       <span class="comment">/* !! cannot concatenate Cstring and char !! */</span>
00773       filter+=<span class="charliteral">'('</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_name+<span class="stringliteral">" &gt;= "</span>;
00774       sprintf(value, <span class="stringliteral">"%9.5f"</span>, <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMajAxis_deg</a>);
00775       filter+=value;
00776       filter+=<span class="stringliteral">" &amp;&amp; "</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_name+<span class="stringliteral">" &lt;= "</span>;
00777       sprintf(value, <span class="stringliteral">"%9.5f"</span>, <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a>+<a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMajAxis_deg</a>);
00778       filter+=value;
00779       <span class="comment">/* AND has higher priority than OR, needn't parenthesis (isnull...)*/</span>
00780       <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_rejectNaN )
00781         filter+=<span class="stringliteral">" || isnull("</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_name+<span class="charliteral">')'</span>;
00782       <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_rejectNaN )
00783         filter+=<span class="stringliteral">" || isnull("</span>+<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_name+<span class="charliteral">')'</span>;
00784       filter+=<span class="charliteral">')'</span>;
00785     }
00786     max=isSelected.size();
00787     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j, nbV;
00788     Quantity readQ;
00789     <span class="keywordtype">double</span>   rVal;
00790     <span class="comment">// first boolean is for elliptical region (m_selRegion)</span>
00791     <span class="keywordflow">for</span> (i=1; i&lt;max; i++) <span class="keywordflow">if</span> ( isSelected[i] ) {
00792       <span class="keywordflow">if</span> ( !filter.empty() ) {
00793         <span class="keywordflow">if</span> (m_criteriaORed) filter+=<span class="stringliteral">" || "</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" &amp;&amp; "</span>;
00794       }
00795       filter+=<span class="charliteral">'('</span>;
00796       readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i-1];
00797       <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
00798         nbV=readQ.m_listValS.size(); <span class="comment">/* nbV is &gt;0 because criteria exist */</span>
00799         test=readQ.m_excludeList;
00800         filter+=<span class="charliteral">'('</span>+readQ.m_name;
00801         <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" != '"</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" == '"</span>;
00802         filter+=readQ.m_listValS[0]+<span class="stringliteral">"')"</span>;
00803         <span class="keywordflow">for</span> (j=1; j&lt;nbV; j++) {
00804           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" &amp;&amp; "</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" || "</span>;
00805           filter+=<span class="charliteral">'('</span>+readQ.m_name;
00806           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" != '"</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" == '"</span>;
00807           filter+=readQ.m_listValS[j]+<span class="stringliteral">"')"</span>;
00808         }
00809         <span class="keywordflow">if</span> ((!<a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>) &amp;&amp; (!readQ.m_cutORed)) probCase=<span class="keyword">true</span>;
00810       }
00811       <span class="keywordflow">else</span> {
00812         <span class="keywordflow">if</span> (readQ.m_rejectNaN == <span class="keyword">false</span>) {
00813           filter+=<span class="stringliteral">"isnull("</span>+readQ.m_name+<span class="stringliteral">") || "</span>;  
00814           <span class="comment">/* can put OR because criteria exist */</span>
00815           <span class="comment">/* AND has higher priority than OR, needn't parenthesis (isnull...)*/</span>
00816         }
00817         <span class="keywordflow">if</span> (readQ.m_lowerCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00818           filter+=<span class="charliteral">'('</span>+readQ.m_name+<span class="stringliteral">" &gt;= "</span>;          
00819           sprintf(value, <span class="stringliteral">"%.9E"</span>, readQ.m_lowerCut);
00820           filter+=value; filter+=<span class="charliteral">')'</span>;
00821           test=<span class="keyword">true</span>;
00822         }
00823         <span class="keywordflow">else</span> test=<span class="keyword">false</span>;
00824         <span class="keywordflow">if</span> (readQ.m_upperCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00825           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">" &amp;&amp; "</span>;
00826           filter+=<span class="charliteral">'('</span>+readQ.m_name+<span class="stringliteral">" &lt;= "</span>;          
00827           sprintf(value, <span class="stringliteral">"%.9E"</span>, readQ.m_upperCut);
00828           filter+=value; filter+=<span class="charliteral">')'</span>;
00829           test=<span class="keyword">true</span>;
00830         }
00831         nbV=readQ.m_listValN.size();
00832         <span class="keywordflow">if</span> (nbV) { 
00833           <span class="keywordflow">if</span> (test) {
00834             <span class="keywordflow">if</span> (readQ.m_cutORed) filter+=<span class="stringliteral">" || ("</span>; <span class="keywordflow">else</span> filter+=<span class="stringliteral">" &amp;&amp; ("</span>;
00835           }
00836           <span class="keywordflow">if</span> (readQ.m_excludeList) filter+=<span class="stringliteral">"!("</span>;
00837           filter+=<span class="stringliteral">"near("</span>+readQ.m_name+<span class="stringliteral">", "</span>;
00838           rVal=readQ.m_listValN[0];
00839           sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00840           filter+=value; filter+=<span class="stringliteral">", "</span>;
00841           <span class="keywordflow">if</span> (fabs(rVal) &gt; NearZero) rVal*=readQ.m_precision;
00842           <span class="keywordflow">else</span> rVal=readQ.m_precision;
00843           sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00844           filter+=value; filter+=<span class="charliteral">')'</span>;
00845           <span class="keywordflow">for</span> (j=1; j&lt;nbV; j++) {
00846             filter+=<span class="stringliteral">" || near("</span>+readQ.m_name+<span class="stringliteral">", "</span>;
00847             rVal=readQ.m_listValN[j];
00848             sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00849             filter+=value; filter+=<span class="stringliteral">", "</span>;
00850             <span class="keywordflow">if</span> (fabs(rVal) &gt; NearZero) rVal*=readQ.m_precision;
00851             <span class="keywordflow">else</span> rVal=readQ.m_precision;
00852             sprintf(value, <span class="stringliteral">"%.9E"</span>, rVal);
00853             filter+=value; filter+=<span class="charliteral">')'</span>;
00854           }
00855           <span class="keywordflow">if</span> (readQ.m_excludeList) filter+=<span class="stringliteral">")"</span>;
00856           <span class="keywordflow">if</span> (test) filter+=<span class="stringliteral">")"</span>;
00857         }
00858       }
00859       filter+=<span class="charliteral">')'</span>;
00860     }
00861     <span class="keywordflow">if</span> (probCase) <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin,
00862       <span class="stringliteral">"filter (for binary fits) is NOT case sensitive for string"</span>);
00863   }
00864   <span class="keywordflow">try</span> {
00865     myDOL=IFileSvc::instance().readTable(fileName, ext, filter);
00866   }
00867   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00868     sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; x.code();
00869     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00870     <span class="keyword">delete</span> myDOL;
00871     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00872   }
00873   <span class="keywordflow">try</span> {
00874     max=myDOL-&gt;getValidFields().size();
00875     <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=myDOL-&gt;getNumRecords();
00876   }
00877   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00878     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get number of rows or columns"</span>);
00879     <span class="keyword">delete</span> myDOL;
00880     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00881   }
00882   <span class="keywordflow">if</span> (max &lt; 1) {
00883     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, need at least 1 column"</span>);
00884     <span class="keyword">delete</span> myDOL;
00885     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00886   }
00887   <span class="comment">/* beware some initial quantities can be skipped */</span>
00888   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size() != max) {
00889     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, number of fields ("</span> &lt;&lt; max;
00890     sortie &lt;&lt; <span class="stringliteral">") differ from previous import call ("</span>;
00891     sortie &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size() &lt;&lt; <span class="stringliteral">")"</span>;
00892     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str());
00893     <span class="keyword">delete</span> myDOL;
00894     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00895   }
00896 <span class="comment">//std::cout &lt;&lt; "Initial number of COL = " &lt;&lt; max &lt;&lt; std::endl;</span>
00897   <span class="keyword">const</span> Header &amp;header=myDOL-&gt;getHeader();
00898   std::string text, unit, mot, rescale, form;
00899   <span class="keywordtype">int</span>  err=0;
00900   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
00901   std::vector&lt;double&gt; colNull(max, 0.0);
00902   std::vector&lt;Quantity&gt;::iterator itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin();
00903   <span class="keywordflow">try</span> {
00904     <span class="keyword">const</span> IColumn *myCol = 0;
00905     <span class="keywordflow">for</span> (i=0; i &lt; max; i++) {
00906       text=<span class="stringliteral">"start"</span>;
00907       rescale=<span class="stringliteral">""</span>;
00908       myCol=myDOL-&gt;getColumn(i);
00909       text=myCol-&gt;getId();
00910       unit=myCol-&gt;getUnits();
00911       sprintf(name, <span class="stringliteral">"TNULL%d"</span>, i+1); mot=name;
00912       <span class="keywordflow">try</span> { header.getKeyword(mot, rescale); }
00913       <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00914       colNull.at(i)=atof(rescale.c_str());
00915       <span class="keywordflow">if</span> ( !rescale.empty() ) {
00916           form=<span class="stringliteral">""</span>;
00917           sprintf(name, <span class="stringliteral">"TSCAL%d"</span>, i+1); mot=name;
00918           <span class="keywordflow">try</span> { header.getKeyword(mot, form); }
00919           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00920           rescale+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+form;
00921           <span class="keywordflow">if</span> ( !form.empty() ) colNull.at(i)*=atof(form.c_str());
00922           form=<span class="stringliteral">""</span>;
00923           sprintf(name, <span class="stringliteral">"TZERO%d"</span>, i+1); mot=name;
00924           <span class="keywordflow">try</span> { header.getKeyword(mot, form); }
00925           <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {}
00926           rescale+=<a class="code" href="namespacecatalog_access.html#a5">SepNull</a>+form;
00927           <span class="keywordflow">if</span> ( !form.empty() ) colNull.at(i)+=atof(form.c_str());
00928       }
00929       sprintf(name, <span class="stringliteral">"TFORM%d"</span>, i+1);
00930       mot=name; <span class="comment">/* convert C string to C++ string */</span>
00931       header.getKeyword(mot, form);
00932       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>[i]) {
00933 <span class="comment">//std::cout &lt;&lt; itQ-&gt;m_index &lt;&lt; " ";</span>
00934         <span class="keywordflow">if</span> ( (text!=itQ-&gt;m_name) || (unit!=itQ-&gt;m_unit)
00935             || (rescale!=itQ-&gt;m_null) || (form!=itQ-&gt;m_format) ) {
00936           text=<span class="stringliteral">""</span>;
00937           <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"fileDiff"</span>);
00938         }
00939         <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::STRING) err++;
00940         itQ++;
00941       }
00942     }<span class="comment">/* loop on columns */</span>
00943   }
00944   <span class="keywordflow">catch</span> (...) {
00945     <span class="keywordflow">if</span> ( text.empty() ) {
00946       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, column#"</span>;
00947       sortie &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">" differ from previous import call"</span>;
00948       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00949       err=<a class="code" href="namespacecatalog_access.html#a37a19">BAD_FILETYPE</a>;
00950     }
00951     <span class="keywordflow">else</span> {
00952       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, error reading TABLE column#"</span>;
00953       sortie &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">" description"</span>;
00954       <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00955       err=<a class="code" href="namespacecatalog_access.html#a37a20">BAD_FITS</a>;
00956     }
00957     <span class="keyword">delete</span> myDOL;
00958     <span class="keywordflow">return</span> err;
00959   }
00960 <span class="comment">//std::cout &lt;&lt; std::endl;</span>
00961 <span class="comment">//std::cout &lt;&lt; m_numOriRows &lt;&lt; " OriRows" &lt;&lt; std::endl;</span>
00962   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>=0;
00963   <span class="keywordflow">if</span> ( !*maxRows ) *maxRows=<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>;
00964   <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a> ) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00965 
00966   <a class="code" href="classcatalog_access_1_1_catalog.html#c12">create_tables</a>(err, *maxRows);
00967   <span class="keywordflow">try</span> {
00968     <span class="keywordtype">double</span> rowVal;
00969     <span class="comment">// max=m_quantities.size();</span>
00970     <span class="keywordflow">for</span> (Table::ConstIterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end();
00971          ++itor, ++<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>) {
00972       err=0;
00973       <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.end(); ++itQ, ++err) {
00974         i=itQ-&gt;m_index;
00975         <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00976           rowVal=(*itor)[itQ-&gt;m_name].get();
00977           <span class="keywordflow">if</span> ( itQ-&gt;m_null.empty() ) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)=rowVal;
00978           <span class="keywordflow">else</span> {
00979             <span class="keywordflow">if</span> (rowVal == colNull[err]) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)=MissNAN;
00980             <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>)=rowVal;
00981           }
00982         }
00983         <span class="keywordflow">else</span> (*itor)[itQ-&gt;m_name].get(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>) );
00984       }
00985     }<span class="comment">/* loop on rows*/</span>
00986   }
00987   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00988     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot read after row#"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>+1;
00989     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
00990     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
00991   }
00992   <span class="keyword">delete</span> myDOL;
00993   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00994 }
</pre></div>    </td>
  </tr>
</table>
<a name="c19" doxytag="catalogAccess::Catalog::loadWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a39" doxytag="catalogAccess::Catalog::maxSelVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::maxSelVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01206">1206</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01206                                                             {
01207 
01208   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
01209   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"maxSelVal"</span>;
01210   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, 0);
01211   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01212   <span class="comment">// above test avoid searching when no row is selected</span>
01213   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01214   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01215   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
01216     std::string errText;
01217     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01218     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01219     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01220   }
01221   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01222 
01223   <span class="keywordtype">long</span> i, tot=0;
01224   <span class="keywordtype">double</span> r;
01225   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01226     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01227     <span class="keywordflow">if</span> (!isnan(*realVal)) <span class="keywordflow">break</span>;
01228     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01229   }
01230   <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01231   <span class="comment">// stop when selection contains only NaN</span>
01232   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01233     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01234     <span class="keywordflow">if</span> (r &gt; *realVal) *realVal=r;
01235     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01236   }
01237   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01238 }
</pre></div>    </td>
  </tr>
</table>
<a name="a31" doxytag="catalogAccess::Catalog::maxVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::maxVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00959">959</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00959                                                          {
00960 
00961   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00962   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"maxVal"</span>;
00963   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, 0);
00964   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00965   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00966   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00967   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
00968     std::string errText;
00969     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00970     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00971     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00972   }
00973   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00974   <span class="keywordtype">long</span> i=0;
00975   <span class="keywordtype">double</span> r;
00976   <span class="keywordflow">do</span> { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); }
00977   <span class="keywordflow">while</span> ((isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>));
00978   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00979     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
00980     <span class="keywordflow">if</span> (r &gt; *realVal) *realVal=r;
00981   }
00982   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00983 }
</pre></div>    </td>
  </tr>
</table>
<a name="a38" doxytag="catalogAccess::Catalog::minSelVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::minSelVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01171">1171</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01171                                                             {
01172 
01173   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
01174   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"minSelVal"</span>;
01175   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, 0);
01176   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01177   <span class="comment">// above test avoid searching when no row is selected</span>
01178   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
01179   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01180   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
01181     std::string errText;
01182     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01183     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
01184     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01185   }
01186   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01187 
01188   <span class="keywordtype">long</span> i, tot=0;
01189   <span class="keywordtype">double</span> r;
01190   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01191     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01192     <span class="keywordflow">if</span> (!isnan(*realVal)) <span class="keywordflow">break</span>;
01193     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01194   }
01195   <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01196   <span class="comment">// stop when selection contains only NaN</span>
01197   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01198     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01199     <span class="keywordflow">if</span> (r &lt; *realVal) *realVal=r;
01200     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01201   }
01202   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01203 }
</pre></div>    </td>
  </tr>
</table>
<a name="a30" doxytag="catalogAccess::Catalog::minVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::minVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00929">929</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00929                                                          {
00930 
00931   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00932   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"minVal"</span>;
00933   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, 0);
00934   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
00935   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00936   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00937   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
00938     std::string errText;
00939     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00940     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00941     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00942   }
00943   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00944   <span class="keywordtype">long</span> i=0;
00945   <span class="keywordtype">double</span> r;
00946   <span class="keywordflow">do</span> { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
00947 <span class="comment">/*  std::cout &lt;&lt; "NaN == NaN ? " &lt;&lt; (*realVal == m_numericals[num].at(0))</span>
00948 <span class="comment">            &lt;&lt; std::endl;*/</span>
00949   }
00950   <span class="keywordflow">while</span> ((isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>));
00951   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00952     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
00953     <span class="keywordflow">if</span> (r &lt; *realVal) *realVal=r;
00954   }
00955   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00956 }
</pre></div>    </td>
  </tr>
</table>
<a name="a42" doxytag="catalogAccess::Catalog::posError_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::posError_deg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>inSelection</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01311">1311</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a25">catalogAccess::BAD_QUANT_NAME</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01312                                                   {
01313 
01314   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"posError_deg"</span>;
01315   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a> &lt; 0) {
01316     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0)
01317       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01318     <span class="keywordflow">else</span>
01319       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"missing generic position error quantity"</span>);
01320     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a25">BAD_QUANT_NAME</a>;
01321   }
01322   <span class="keywordtype">int</span> num;
01323   <span class="keywordflow">if</span> (!inSelection) {
01324     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
01325     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01326     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>].m_index;
01327     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row)/<a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
01328   }
01329   <span class="keywordflow">else</span> {
01330     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, row);
01331     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01332     <span class="keywordtype">long</span> tot=0;
01333     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>].m_index;
01334     <span class="comment">// first bit indicates global selection</span>
01335     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01336       <span class="keywordflow">if</span> (tot == row) {
01337         *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(k)/<a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
01338         <span class="keywordflow">break</span>;
01339       }
01340       tot++;
01341     }
01342     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01343   }
01344   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01345 }
</pre></div>    </td>
  </tr>
</table>
<a name="a40" doxytag="catalogAccess::Catalog::ra_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::ra_deg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>inSelection</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01245">1245</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a37a23">catalogAccess::NO_RA_DEC</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01245                                                                            {
01246 
01247   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"ra_deg"</span>;
01248   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> &lt; 0) {
01249     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &lt; 0)
01250       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01251     <span class="keywordflow">else</span>
01252       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"missing generic RA position quantity"</span>);
01253     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a23">NO_RA_DEC</a>;
01254   }
01255   <span class="keywordtype">int</span> num;
01256   <span class="keywordflow">if</span> (!inSelection) {
01257     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSize_row</a>(origin, row);
01258     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01259     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_index;
01260     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
01261   }
01262   <span class="keywordflow">else</span> {
01263     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">checkSel_row</a>(origin, row);
01264     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> num;
01265     <span class="keywordtype">long</span> tot=0;
01266     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_index;
01267     <span class="comment">// first bit indicates global selection</span>
01268     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01269       <span class="keywordflow">if</span> (tot == row) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(k); <span class="keywordflow">break</span>; }
01270       tot++;
01271     }
01272     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>; <span class="comment">// should not happen</span>
01273   }
01274   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01275 }
</pre></div>    </td>
  </tr>
</table>
<a name="c6" doxytag="catalogAccess::Catalog::rowSelect"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::rowSelect </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>quantSel</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00177">177</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, and <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>.
<p>
<div class="fragment"><pre>00177                                                                        {
00178 
00179   <span class="keywordtype">int</span>  numBit=<span class="keyword">sizeof</span>(long)*8,
00180        vecSize=quantSel.size();
00181   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00182   <span class="keywordflow">if</span> (m_criteriaORed) check=<span class="keyword">false</span>;
00183   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel, test=2ul; <span class="comment">// bit0 reserved for check</span>
00184 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00185 <span class="preprocessor"></span>  std::cout &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a> &lt;&lt; <span class="stringliteral">"quantSize = "</span> &lt;&lt; vecSize;
00186 <span class="preprocessor">  #endif</span>
00187 <span class="preprocessor"></span>  <span class="keywordtype">int</span> j=0;
00188   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;=vecSize; ) {
00189 
00190     currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].at(row);
00191     <span class="keywordflow">if</span> (quantSel[i-1]) {
00192 <span class="preprocessor">      #ifdef DEBUG_CAT</span>
00193 <span class="preprocessor"></span>      std::cout &lt;&lt; <span class="stringliteral">" (AND with "</span> &lt;&lt; currSel &lt;&lt;<span class="stringliteral">" &amp; "</span>&lt;&lt; test
00194                 &lt;&lt; <span class="stringliteral">", pos["</span> &lt;&lt; j &lt;&lt;<span class="stringliteral">"] )"</span> &lt;&lt; std::endl;
00195 <span class="preprocessor">      #endif</span>
00196 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (m_criteriaORed) {
00197         <span class="comment">// OR  of bits, true --&gt; useless to continue</span>
00198         <span class="keywordflow">if</span> ((currSel &amp; test) == test) {check=<span class="keyword">true</span>; <span class="keywordflow">break</span>;}
00199       }
00200       <span class="keywordflow">else</span> {
00201         <span class="comment">// AND of bits, false--&gt; useless to continue</span>
00202         <span class="keywordflow">if</span> ((currSel &amp; test) == 0ul) {check=<span class="keyword">false</span>; <span class="keywordflow">break</span>;}
00203       }
00204     }
00205     <span class="keywordflow">if</span> ((++i % numBit) == 0) {
00206       test=1ul; <span class="comment">// first bit</span>
00207       j++;      <span class="comment">// of next vector index.</span>
00208     }
00209     <span class="keywordflow">else</span> test*=2ul;
00210 
00211   }
00212   <span class="keywordflow">if</span> (check) <span class="comment">// setting bit0 to 1</span>
00213     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(row)|= 1ul;
00214   <span class="keywordflow">else</span>       <span class="comment">// setting bit0 to 0</span>
00215     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(row)&amp;= (Max_Test-1ul);
00216 
00217   <span class="keywordflow">return</span> check;
00218 }
</pre></div>    </td>
  </tr>
</table>
<a name="a13" doxytag="catalogAccess::Catalog::saveFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>append</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01413">1413</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01414                                                  {
01415 
01416   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveFits"</span>;
01417   Table *myDOL=0;
01418   <span class="keywordtype">int</span> err;
01419   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c23">createFits</a>(fileName, extName, clobber, append, origin, &amp;myDOL);
01420   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
01421 
01422   std::ostringstream sortie;
01423   <span class="keywordtype">long</span> tot=0l;
01424   <span class="keywordtype">int</span>  i, j;
01425 
01426   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> &gt; 0) {
01427   <span class="keywordflow">try</span> {
01428     myDOL-&gt;setNumRecords(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>);
01429     Quantity readQ;
01430     <span class="keywordtype">double</span> rowVal;
01431     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01432     std::vector&lt;long&gt; colNull(err, 0);
01433     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01434       readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01435       colNull[j]=atoi( readQ.m_null.c_str() );
01436     }
01437     <span class="comment">// Loop over all records (rows) and set values</span>
01438     <span class="keywordflow">for</span> (Table::Iterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end(); ++itor) {
01439       <span class="comment">// double variable to hold the value of all the numeric fields</span>
01440       <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01441         readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01442         i=readQ.m_index;
01443         <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01444           rowVal= <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(tot);
01445           <span class="keywordflow">if</span> ( readQ.m_null.empty() ) (*itor)[readQ.m_name].set(rowVal);
01446           <span class="keywordflow">else</span> {
01447             <span class="keywordflow">if</span> ( isnan(rowVal) ) (*itor)[readQ.m_name].set(colNull[j]);
01448             <span class="keywordflow">else</span> (*itor)[readQ.m_name].set(rowVal);
01449           }
01450         }
01451         <span class="keywordflow">else</span> (*itor)[readQ.m_name].set( <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].at(tot) );
01452       }
01453       tot++;
01454     }<span class="comment">/* loop on rows */</span>
01455   }
01456   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01457     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot write at row#"</span> &lt;&lt; tot;
01458     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
01459     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
01460   }<span class="comment">/* end of try */</span>
01461   }<span class="comment">/* at least 1 row */</span>
01462 
01463   <span class="keyword">delete</span> myDOL; myDOL=0;
01464   sortie &lt;&lt; <span class="stringliteral">"output fits is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" rows written)"</span>;
01465   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01466   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01467 }
</pre></div>    </td>
  </tr>
</table>
<a name="a14" doxytag="catalogAccess::Catalog::saveSelectedFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveSelectedFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>append</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01470">1470</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a24">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="quantity_8h-source.html#l00100">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_name</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_null</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00388">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00097">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
<div class="fragment"><pre>01472                                                          {
01473 
01474   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveSelectedFits"</span>;
01475   Table *myDOL=0;
01476   <span class="keywordtype">int</span> err;
01477   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c23">createFits</a>(fileName, extName, clobber, append, origin, &amp;myDOL);
01478   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> err;
01479 
01480   std::ostringstream sortie;
01481   <span class="keywordtype">long</span> tot=0l;
01482   <span class="keywordtype">int</span>  i, j;
01483 
01484   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
01485   <span class="keywordflow">try</span> {
01486     myDOL-&gt;setNumRecords(<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>);
01487     Quantity readQ;
01488     <span class="keywordtype">double</span> rowVal;
01489     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01490     std::vector&lt;long&gt; colNull(err, 0);
01491     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01492       readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01493       colNull[j]=atoi( readQ.m_null.c_str() );
01494     }
01495     Table::Iterator itor=myDOL-&gt;begin();
01496     <span class="comment">// Loop over all selected records (rows) and set values</span>
01497     <span class="comment">// first bit indicates global selection</span>
01498     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01499       <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01500         readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01501         i=readQ.m_index;
01502         <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01503           rowVal= <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(tot);
01504           <span class="keywordflow">if</span> ( readQ.m_null.empty() ) (*itor)[readQ.m_name].set(rowVal);
01505           <span class="keywordflow">else</span> {
01506             <span class="keywordflow">if</span> ( isnan(rowVal) ) (*itor)[readQ.m_name].set(colNull[j]);
01507             <span class="keywordflow">else</span> (*itor)[readQ.m_name].set(rowVal);
01508             <span class="comment">// to be improved for integers</span>
01509           }
01510         }
01511         <span class="keywordflow">else</span> (*itor)[readQ.m_name].set( <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].at(tot) );
01512       }
01513       tot++;
01514       itor++;
01515       <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>) <span class="keywordflow">break</span>;
01516     }
01517   }
01518   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01519     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot write at row#"</span> &lt;&lt; tot;
01520     <a class="code" href="namespacecatalog_access.html#a34">printErr</a>(origin, sortie.str() );
01521     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a24">BAD_ROW</a>;
01522   }<span class="comment">/* end of try */</span>
01523   }<span class="comment">/* at least 1 selected row */</span>
01524 
01525   <span class="keyword">delete</span> myDOL; myDOL=0;
01526   sortie &lt;&lt; <span class="stringliteral">"output fits is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" rows written)"</span>;
01527   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, sortie.str());
01528   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
01529 }
</pre></div>    </td>
  </tr>
</table>
<a name="a12" doxytag="catalogAccess::Catalog::saveSelectedText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveSelectedText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="catalogAccess::Catalog::saveText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.    </td>
  </tr>
</table>
<a name="a50" doxytag="catalogAccess::Catalog::selectAllQuantities"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::selectAllQuantities </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>toBeLoaded</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00038">38</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a33">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00038                                                       {
00039 
00040   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"selectAllQuantities"</span>, <span class="keyword">true</span>);
00041   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00042 
00043   <span class="comment">// beware m_loadQuantity has always the initial size</span>
00044   <span class="comment">// whereas m_quantities size can decrease</span>
00045   <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
00046   <span class="keywordflow">if</span> (quantSize != maxSize) {
00047     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"selectAllQuantities"</span>,
00048              <span class="stringliteral">"cannot get all initial quantities once importSelected() done"</span>);
00049     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a33">BAD_SEL_QUANT</a>;
00050   }
00051   <span class="keywordflow">if</span> (toBeLoaded) <span class="comment">// vectors with same size</span>
00052        <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.assign(maxSize, <span class="keyword">true</span>);
00053   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.assign(maxSize, <span class="keyword">false</span>);
00054   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00055 }
</pre></div>    </td>
  </tr>
</table>
<a name="a49" doxytag="catalogAccess::Catalog::selectQuantity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::selectQuantity </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>toBeLoaded</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00021">21</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a33">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00386">m_loadQuantity</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00021                                                                        {
00022 
00023   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"selectQuantity"</span>, <span class="keyword">true</span>);
00024   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00025   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"selectQuantity"</span>, name);
00026   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00027 
00028   <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
00029   <span class="keywordflow">if</span> (quantSize != maxSize) {
00030     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"selectQuantity"</span>,
00031              <span class="stringliteral">"cannot get all initial quantities once importSelected() done"</span>);
00032     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a33">BAD_SEL_QUANT</a>;
00033   }
00034   <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.at(num)=toBeLoaded;
00035   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00036 }
</pre></div>    </td>
  </tr>
</table>
<a name="a53" doxytag="catalogAccess::Catalog::setCriteriaORed"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setCriteriaORed </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>bitOR</em> = true          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00320">320</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00418">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00320                                              {
00321 
00322   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setCriteriaORed"</span>;
00323   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00324   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00325 
00326   <span class="comment">// if boolean is the same: do nothing</span>
00327   <span class="keywordflow">if</span> (bitOR == <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00328   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_criteriaORed</a>=bitOR;
00329 
00330   <span class="comment">/* if no data: exit */</span>
00331   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00332   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00333   std::vector&lt;bool&gt; isSelected;
00334   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected) ) {
00335     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00336       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00337     }
00338   }
00339   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00340 }
</pre></div>    </td>
  </tr>
</table>
<a name="c11" doxytag="catalogAccess::Catalog::setGeneric"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::setGeneric </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>whichCat</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00077">77</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_CAT</a>, <a class="el" href="catalog_8h-source.html#l00028">MAX_GEN</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00052">setPosErrFactor()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>.
<p>
<div class="fragment"><pre>00077                                            {
00078 
00079   <span class="keyword">const</span> std::string epoch=<span class="stringliteral">"J2000"</span>;
00080   <span class="keywordtype">int</span> max=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00081   <span class="keywordtype">int</span> j;
00082   std::string text, name;
00083   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>= -1;
00084   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> = -1;
00085   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>= -1;
00086   std::vector&lt;Quantity&gt;::iterator itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin();
00087   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.end(); ++itQ, ++i) {
00088 
00089     <span class="keywordflow">if</span> ((whichCat &gt;= 0) &amp;&amp; (whichCat &lt; <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>)) {
00090       <span class="comment">// if it is a known catalog, the generic are defined</span>
00091       text=itQ-&gt;m_name;
00092       <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="catalog_8h.html#a1">MAX_GEN</a>; j++) {
00093         name=Catalog::s_CatalogGeneric[whichCat][j];
00094         <span class="keywordflow">if</span> (name == <span class="stringliteral">"+"</span>) name=UCD_Added[j];
00095         <span class="keywordflow">if</span> (text == name) {
00096           itQ-&gt;m_isGeneric=<span class="keyword">true</span>;
00097           <span class="keywordflow">switch</span> (j) {
00098             <span class="keywordflow">case</span> 1: <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>=i;
00099             <span class="keywordflow">break</span>;
00100             <span class="keywordflow">case</span> 2: <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>=i;
00101             <span class="keywordflow">break</span>;
00102             <span class="keywordflow">case</span> 3: <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>=i;
00103                     <a class="code" href="classcatalog_access_1_1_catalog.html#c10">setPosErrFactor</a>(i);
00104             <span class="keywordflow">break</span>;
00105             <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
00106           }
00107         }
00108       }<span class="comment">// loop on generic</span>
00109       text=itQ-&gt;m_ucd;
00110     }
00111 
00112     <span class="keywordflow">else</span> {
00113       <span class="comment">// otherwise, take first matching UCD</span>
00114       text=itQ-&gt;m_ucd;
00115       <span class="keywordflow">if</span> (text != <span class="stringliteral">""</span>) <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="catalog_8h.html#a1">MAX_GEN</a>; j++) { 
00116         <span class="keywordflow">if</span> (text == UCD_List[j]) {
00117           itQ-&gt;m_isGeneric=<span class="keyword">true</span>;
00118           <span class="keywordflow">if</span> ((j == 1) || (j == 2)) {
00119             <span class="comment">// check that epoch is J2000</span>
00120             name=itQ-&gt;m_name;
00121             name.erase(0, name.length()-epoch.length());
00122             <span class="comment">// format contains at least 1 char</span>
00123             <span class="keywordflow">if</span> ((name == epoch) &amp;&amp; (itQ-&gt;m_type == Quantity::NUM)) {
00124               <span class="keywordflow">if</span> (j == 1) <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>=i;
00125               <span class="keywordflow">else</span>        <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>=i;
00126             }
00127             <span class="keywordflow">else</span> itQ-&gt;m_isGeneric=<span class="keyword">false</span>;
00128           }
00129           <span class="keywordflow">break</span>;
00130         }
00131       }<span class="comment">// loop on generic</span>
00132     }
00133 
00134     <span class="comment">// flag error quantities, useless for already found generic</span>
00135     <span class="keywordflow">if</span> ((text == <span class="stringliteral">"ERROR"</span>) &amp;&amp; (!itQ-&gt;m_isGeneric)) {
00136       <span class="comment">// error column name is e_"associated column" except for position error</span>
00137       text=itQ-&gt;m_name;
00138       <span class="keywordflow">if</span> (text.find(<span class="stringliteral">"e_"</span>) == 0) {
00139         text.erase(0, 2);
00140 <span class="preprocessor">        #ifdef DEBUG_CAT</span>
00141 <span class="preprocessor"></span>        std::cout &lt;&lt; <span class="stringliteral">"ERROR column ("</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00142 <span class="preprocessor">        #endif</span>
00143 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_name == text) {
00144           itQ-&gt;m_statError=text;
00145           <span class="keywordflow">break</span>;
00146         }
00147       }
00148       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((text == <span class="stringliteral">"PosErr"</span>) || (text == <span class="stringliteral">"ErrorRad"</span>)) {
00149         itQ-&gt;m_isGeneric=<span class="keyword">true</span>;
00150         <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_indexErr</a>=i;
00151         <a class="code" href="classcatalog_access_1_1_catalog.html#c10">setPosErrFactor</a>(i);
00152       }
00153     }
00154 
00155   }<span class="comment">// loop on quantities</span>
00156 
00157   <span class="comment">/* since RA, DEC columns can be erased while importSelected() */</span>
00158   <span class="comment">/* must update the existence of elliptical region */</span>
00159   <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> &lt; 0) || (<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a> &lt; 0)) <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>=<span class="keyword">false</span>;
00160 }
</pre></div>    </td>
  </tr>
</table>
<a name="a56" doxytag="catalogAccess::Catalog::setLowerCut"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setLowerCut </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00469">469</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00469                                                             {
00470 
00471   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setLowerCut"</span>;
00472   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00473   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00474 
00475   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00476   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00477   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00478     std::string errText;
00479     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00480     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00481     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00482   }
00483 
00484   <span class="comment">// if cut is the same: do nothing</span>
00485   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) cutVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00486   <span class="keywordflow">if</span> (cutVal == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_lowerCut) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00487   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_lowerCut=cutVal;
00488 
00489   <span class="comment">/* if no data: exit */</span>
00490   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00491 
00492   std::vector&lt;bool&gt; isSelected;
00493   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00494   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00495   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00496     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling lower cut (on "</span>+name+<span class="stringliteral">")"</span>);
00497     <span class="keywordflow">if</span> (!oneCriteria) {
00498       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
00499         quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
00500         <span class="keywordflow">for</span> (index=0; index&lt;quantSize; index++)
00501           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[index].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00502       }
00503       <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00504       check=<span class="keyword">false</span>;
00505       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00506     }
00507   }
00508   <span class="keywordflow">else</span> {
00509     std::ostringstream sortie;
00510     sortie &lt;&lt; <span class="stringliteral">"Enabling lower cut ("</span> &lt;&lt;cutVal&lt;&lt;<span class="stringliteral">" on "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>;
00511     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());  
00512   }
00513   
00514   <span class="keywordflow">if</span> (check) {
00515     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00516          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00517          miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00518     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00519     <span class="keywordtype">int</span>  k,
00520          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00521     <span class="keywordtype">long</span> i;
00522     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00523     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00524     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00525     oneCriteria=isSelected.at(index+1);
00526     <span class="keywordflow">if</span> (oneCriteria) {
00527 
00528       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00529       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00530         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00531           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00532         <span class="keywordflow">else</span>
00533           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00534         <span class="comment">// setting required bit</span>
00535         <span class="keywordflow">if</span> (check)
00536           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
00537         <span class="keywordflow">else</span>
00538           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00539         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00540       }<span class="comment">// loop on rows</span>
00541 
00542     }
00543     <span class="keywordflow">else</span> {
00544 
00545       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00546         <span class="comment">// required bit set to FALSE</span>
00547         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00548         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00549       }<span class="comment">// loop on rows</span>
00550 
00551     }
00552   }
00553   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00554 }
</pre></div>    </td>
  </tr>
</table>
<a name="a65" doxytag="catalogAccess::Catalog::setMatchEpsilon"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setMatchEpsilon </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const unsigned long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>step</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00933">933</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a32">catalogAccess::BAD_SEL_LIM</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00934 {
00935   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setMatchEpsilon"</span>;
00936   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00937   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00938   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00939   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00940   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00941     std::string errText;
00942     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00943     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00944     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00945   }
00946   std::ostringstream sortie;
00947   <span class="keywordflow">if</span> (step == 0ul) {
00948     sortie &lt;&lt; <span class="stringliteral">"Number of epsilon must be &gt; 0"</span>;
00949     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00950     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a32">BAD_SEL_LIM</a>;
00951   }
00952   <span class="comment">// if limit is the same: do nothing</span>
00953   <span class="keywordtype">double</span> precis=step*std::numeric_limits&lt;double&gt;::epsilon();
00954   <span class="keywordflow">if</span> (precis == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00955   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_precision=precis;
00956 
00957   <span class="comment">/* if no data: exit */</span>
00958   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00959   <span class="comment">/* if empty list: exit */</span>
00960   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00961 
00962   std::vector&lt;bool&gt; isSelected;
00963   <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00964   <span class="comment">// quantity is selected since list is not empty</span>
00965   sortie &lt;&lt; <span class="stringliteral">"Relative precision for values in list (for "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>
00966          &lt;&lt; <span class="stringliteral">" is: "</span> &lt;&lt; precis &lt;&lt; <span class="stringliteral">" (absolute precision around 0)"</span>;
00967   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00968   <span class="keywordtype">bool</span> check,
00969        cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00970        reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00971        miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00972   <span class="keywordtype">int</span>  k,
00973        pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00974   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00975   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00976   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00977 
00978     <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00979       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00980     <span class="keywordflow">else</span>
00981       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00982     <span class="keywordflow">if</span> (check)
00983       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
00984     <span class="keywordflow">else</span>
00985       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00986     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00987 
00988   }<span class="comment">// loop on rows</span>
00989 
00990   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00991 }
</pre></div>    </td>
  </tr>
</table>
<a name="a64" doxytag="catalogAccess::Catalog::setMatchPercent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setMatchPercent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>percent</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00872">872</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="namespacecatalog_access.html#a37a32">catalogAccess::BAD_SEL_LIM</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00872                                                                  {
00873 
00874   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setMatchPercent"</span>;
00875   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00876   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00877   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00878   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00879   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00880     std::string errText;
00881     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00882     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00883     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00884   }
00885   std::ostringstream sortie;
00886   <span class="keywordflow">if</span> (percent &lt;= 100.*NearZero) {
00887     sortie &lt;&lt; <span class="stringliteral">"Percentage must be &gt; "</span> &lt;&lt; 100.*NearZero;
00888     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00889     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a32">BAD_SEL_LIM</a>;
00890   }
00891   <span class="comment">// if limit is the same: do nothing</span>
00892   percent/=100.;
00893   <span class="keywordflow">if</span> (percent == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00894   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_precision=percent;
00895 
00896   <span class="comment">/* if no data: exit */</span>
00897   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00898   <span class="comment">/* if empty list: exit */</span>
00899   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00900 
00901   std::vector&lt;bool&gt; isSelected;
00902   <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00903   <span class="comment">// quantity is selected since list is not empty</span>
00904   sortie &lt;&lt; <span class="stringliteral">"Relative precision for values in list (for "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>
00905          &lt;&lt; <span class="stringliteral">" is: "</span> &lt;&lt; percent &lt;&lt; <span class="stringliteral">" (absolute precision around 0)"</span>;
00906   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00907   <span class="keywordtype">bool</span> check,
00908        cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00909        reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00910        miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00911   <span class="keywordtype">int</span>  k,
00912        pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00913   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00914   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00915   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00916 
00917     <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00918       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, percent);
00919     <span class="keywordflow">else</span>
00920       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, percent);
00921     <span class="keywordflow">if</span> (check)
00922       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
00923     <span class="keywordflow">else</span>
00924       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00925     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00926 
00927   }<span class="comment">// loop on rows</span>
00928 
00929   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00930 }
</pre></div>    </td>
  </tr>
</table>
<a name="c10" doxytag="catalogAccess::Catalog::setPosErrFactor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::setPosErrFactor </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>index</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00052">52</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00383">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.
<p>
<div class="fragment"><pre>00052                                              {
00053 
00054   std::string text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_unit;
00055   <span class="keywordflow">if</span> ( text.empty() ) {
00056     std::ostringstream sortie;
00057     sortie &lt;&lt; <span class="stringliteral">"Generic position error ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_name
00058            &lt;&lt; <span class="stringliteral">") has no unit, by default multiply by: 1/"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
00059     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"private setGeneric"</span>, sortie.str());
00060   }
00061   <span class="keywordflow">else</span> {
00062     <span class="comment">// use explicit cast to be sure compiler choose the right tolower()</span>
00063     transform(text.begin(), text.end(), text.begin(), (int(*)(int)) tolower);
00064     <span class="keywordflow">if</span> (text == <span class="stringliteral">"deg"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0;
00065     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"arcsec"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=3600.0;
00066     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"arcmin"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=60.0;
00067     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"rad"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0/Angle_Conv;
00068     <span class="keywordflow">else</span> {
00069       std::ostringstream sortie;
00070       sortie &lt;&lt; <span class="stringliteral">"Generic position error ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_name
00071              &lt;&lt; <span class="stringliteral">") has unknown unit, by default multiply by: 1/"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
00072       <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"private setGeneric"</span>, sortie.str());
00073     }
00074   }
00075 }
</pre></div>    </td>
  </tr>
</table>
<a name="a63" doxytag="catalogAccess::Catalog::setRejectNaN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setRejectNaN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>rejectNaN</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00815">815</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00815                                                                     {
00816 
00817   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setRejectNaN"</span>;
00818   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00819   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00820   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00821   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00822   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00823     std::string errText;
00824     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00825     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00826     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00827   }
00828   <span class="comment">// if same boolean: do nothing</span>
00829   <span class="keywordflow">if</span> (rejectNaN == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_rejectNaN) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00830   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_rejectNaN=rejectNaN;
00831 
00832   <span class="comment">/* if no data: exit */</span>
00833   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00834 
00835   std::vector&lt;bool&gt; isSelected;
00836   <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00837   <span class="keywordflow">if</span> (isSelected.at(index+1)) {
00838     <span class="comment">// apply the selection with new behaviour on NaN</span>
00839 
00840     std::string text=<span class="stringliteral">"NaN values are now "</span>;
00841     <span class="keywordflow">if</span> (rejectNaN) text=text+<span class="stringliteral">" rejected (on "</span>;
00842     <span class="keywordflow">else</span> text=text+<span class="stringliteral">" accepted (on "</span>;
00843     text=text+name+ <span class="stringliteral">")"</span>;
00844     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, text);
00845     <span class="keywordtype">bool</span> check,
00846          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00847          miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00848     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00849     <span class="keywordtype">int</span>  k,
00850          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00851     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00852     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00853     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00854 
00855       <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00856         check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, rejectNaN, precis);
00857       <span class="keywordflow">else</span>
00858         check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, rejectNaN, precis);
00859       <span class="keywordflow">if</span> (check)
00860         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
00861       <span class="keywordflow">else</span>
00862         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00863       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00864 
00865     }<span class="comment">// loop on rows</span>
00866 
00867   }
00868   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;  
00869 }
</pre></div>    </td>
  </tr>
</table>
<a name="a54" doxytag="catalogAccess::Catalog::setSelEllipse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setSelEllipse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>centRA_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>centDEC_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>majAxis_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>minAxis_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>rot_deg</em> = 0.</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00345">345</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a31">catalogAccess::BAD_AXIS</a>, <a class="el" href="namespacecatalog_access.html#a37a29">catalogAccess::BAD_DEC</a>, <a class="el" href="namespacecatalog_access.html#a37a28">catalogAccess::BAD_RA</a>, <a class="el" href="namespacecatalog_access.html#a37a30">catalogAccess::BAD_ROT</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00440">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00439">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00441">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00424">m_selEllipseCentRA_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00428">m_selEllipseMinAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00432">m_selEllipseRot_deg</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="namespacecatalog_access.html#a37a23">catalogAccess::NO_RA_DEC</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00347                                                  {
00348 
00349   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setSelEllipse"</span>;
00350   std::string text;
00351   std::ostringstream sortie;
00352 
00353   <span class="comment">// first check that selection is possible</span>
00354   <span class="keywordtype">int</span> numPb=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00355   <span class="keywordflow">if</span> (numPb &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> numPb;
00356   <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a> &lt; 0) || (<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a> &lt; 0)) {
00357     text=<span class="stringliteral">"missing generic position quantities (RA and DEC)"</span>; 
00358     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00359     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a23">NO_RA_DEC</a>;
00360   }
00361   numPb=0;
00362   <span class="comment">//const std::_Ios_Fmtflags outDouble=std::ios::right | std::ios::scientific;</span>
00363   <span class="keywordflow">if</span> ((centRA_deg &lt; 0.) || (centRA_deg &gt;= 360.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a28">BAD_RA</a>;
00364   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((centDEC_deg &lt; -90.) || (centDEC_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a29">BAD_DEC</a>;
00365   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((rot_deg &lt; 0.) || (rot_deg &gt;= 180.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a30">BAD_ROT</a>;
00366   <span class="keywordflow">if</span> (numPb &lt; 0) {
00367     text=<span class="stringliteral">"bad ellipse position (impossible RA, DEC or rotation)"</span>; 
00368     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, text);
00369     <span class="keywordflow">return</span> numPb;
00370   }
00371   <span class="keywordflow">if</span> ((majAxis_deg &lt; Min_Axis) || (majAxis_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a31">BAD_AXIS</a>;
00372   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((minAxis_deg &lt; Min_Axis) || (minAxis_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a37a31">BAD_AXIS</a>;
00373   <span class="comment">// size limited to one hemisphere</span>
00374   <span class="keywordflow">if</span> (numPb &lt; 0) {
00375     sortie &lt;&lt; <span class="stringliteral">"bad ellipse size, radius from "</span> &lt;&lt; std::setprecision(2)
00376            &lt;&lt; Min_Axis*1000 &lt;&lt; <span class="stringliteral">"E-3 to 90 (in RA or DEC)"</span>;
00377     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, sortie.str());
00378     <span class="keywordflow">return</span> numPb;
00379   }
00380   <span class="keywordflow">if</span> (rot_deg &gt; 0.)
00381     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"whatever orientation, using 0"</span>); 
00382   <span class="keywordflow">if</span> (fabs(majAxis_deg/minAxis_deg - 1.) &gt; 10*Min_Prec)
00383     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, <span class="stringliteral">"axis sizes differ, taking only major axis"</span>);
00384   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>=<span class="keyword">true</span>;
00385   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selEllipseCentRA_deg</a>=centRA_deg;
00386   <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a>=centDEC_deg;
00387   <a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMajAxis_deg</a>=majAxis_deg;
00388   <a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseMinAxis_deg</a>=majAxis_deg; <span class="comment">//minAxis_deg;</span>
00389   <a class="code" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseRot_deg</a>=0.; <span class="comment">//rot_deg;</span>
00390   <span class="comment">// angles are phi=RA and theta=PI/2-DEC</span>
00391   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(0)=cos(<a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selEllipseCentRA_deg</a> * Angle_Conv);
00392   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(1)=sin(<a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selEllipseCentRA_deg</a> * Angle_Conv);
00393   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(2)=cos(<a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a>* Angle_Conv);
00394   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(3)=sin(<a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a>* Angle_Conv);
00395   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_selEllipse</a>.at(4)=cos(majAxis_deg * Angle_Conv);
00396 
00397   sortie &lt;&lt; <span class="stringliteral">"selection ellipse center RA="</span> &lt;&lt; std::setprecision(4)
00398          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selEllipseCentRA_deg</a> &lt;&lt; <span class="stringliteral">" , DEC="</span>
00399          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentDEC_deg</a> &lt;&lt; <span class="stringliteral">" with radius "</span>
00400          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMajAxis_deg</a> &lt;&lt; <span class="stringliteral">" * "</span>
00401          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseMinAxis_deg</a> &lt;&lt; <span class="stringliteral">" (degrees) orientated at "</span>
00402          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseRot_deg</a> &lt;&lt; <span class="stringliteral">" (with respect to North pole)"</span>;
00403   <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());
00404   <span class="comment">/* if no data: exit */</span>
00405   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00406 
00407   <span class="comment">// now, apply the selection ellipse</span>
00408   std::vector&lt;bool&gt; isSelected;
00409   <a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected); <span class="comment">// returns true (m_selRegion is true)</span>
00410   <span class="keywordtype">bool</span> check;
00411   <span class="keywordtype">int</span> nRA =<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexRA</a>].m_index,
00412       nDEC=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexDEC</a>].m_index;
00413   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel;
00414   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00415   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00416 
00417     check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkRegion</a>(i, nRA, nDEC);
00418     currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i);
00419     <span class="keywordflow">if</span> (check) <span class="comment">// setting 2nd bit to 1</span>
00420       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i)=currSel | 2ul;
00421     <span class="keywordflow">else</span>       <span class="comment">// setting 2nd bit to 0</span>
00422       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i)=currSel &amp; (Max_Test-2ul);
00423     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00424 
00425   }<span class="comment">// loop on all rows</span>
00426   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00427 }
</pre></div>    </td>
  </tr>
</table>
<a name="a57" doxytag="catalogAccess::Catalog::setUpperCut"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setUpperCut </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00558">558</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00396">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00558                                                             {
00559 
00560   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setUpperCut"</span>;
00561   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(origin, <span class="keyword">true</span>);
00562   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00563 
00564   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(origin, name);
00565   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00566   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00567     std::string errText;
00568     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00569     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(origin, errText);
00570     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00571   }
00572   <span class="comment">// if cut is the same: do nothing</span>
00573   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) cutVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00574   <span class="keywordflow">if</span> (cutVal == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_upperCut) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00575   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_upperCut=cutVal;
00576 
00577   <span class="comment">/* if no data: exit */</span>
00578   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00579 
00580   std::vector&lt;bool&gt; isSelected;
00581   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00582   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00583   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00584     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, <span class="stringliteral">"Disabling upper cut (on "</span>+name+<span class="stringliteral">")"</span>);
00585     <span class="keywordflow">if</span> (!oneCriteria) {
00586       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
00587         quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
00588         <span class="keywordflow">for</span> (index=0; index&lt;quantSize; index++)
00589           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[index].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00590       }
00591       <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00592       check=<span class="keyword">false</span>;
00593       <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00594     }
00595   }
00596   <span class="keywordflow">else</span> {
00597     std::ostringstream sortie;
00598     sortie &lt;&lt; <span class="stringliteral">"Enabling upper cut ("</span> &lt;&lt;cutVal&lt;&lt;<span class="stringliteral">" on "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>;
00599     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(1, sortie.str());  
00600   }
00601   
00602   <span class="keywordflow">if</span> (check) {
00603     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00604          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00605          miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00606     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00607     <span class="keywordtype">int</span>  k,
00608          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00609     <span class="keywordtype">long</span> i;
00610     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00611     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00612     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00613     oneCriteria=isSelected.at(index+1);
00614     <span class="keywordflow">if</span> (oneCriteria) {
00615 
00616       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00617       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00618         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00619           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00620         <span class="keywordflow">else</span>
00621           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c5">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00622         <span class="comment">// setting required bit</span>
00623         <span class="keywordflow">if</span> (check)
00624           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)|= test;
00625         <span class="keywordflow">else</span>
00626           <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00627         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00628       }<span class="comment">// loop on rows</span>
00629 
00630     }
00631     <span class="keywordflow">else</span> {
00632 
00633       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00634         <span class="comment">// required bit set to FALSE</span>
00635         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00636         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00637       }<span class="comment">// loop on rows</span>
00638 
00639     }
00640   }
00641   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00642 }
</pre></div>    </td>
  </tr>
</table>
<a name="c14" doxytag="catalogAccess::Catalog::translate_cell"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::translate_cell </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>mot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="c7" doxytag="catalogAccess::Catalog::unsetCuts"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::unsetCuts </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>index</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00223">223</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00689">bitPosition()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00223                                        {
00224 
00225   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_listValS.clear();
00226   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_lowerCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00227   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_upperCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00228   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_listValN.clear();
00229   <span class="comment">/* if no data: exit */</span>
00230   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span>;
00231 
00232   <span class="comment">// now, must check criteria on region and other quantities</span>
00233   <span class="keywordtype">int</span> k;
00234   std::vector&lt;bool&gt; isSelected;
00235   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00236   <span class="keywordflow">if</span> (oneCriteria) {
00237 
00238     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c29">bitPosition</a>(index, &amp;k);
00239     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00240     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00241       <span class="comment">// setting required bit to 0</span>
00242       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00243       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00244     }<span class="comment">// loop on rows</span>
00245 
00246   }
00247   <span class="keywordflow">else</span> {
00248     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
00249       <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
00250       <span class="keywordflow">for</span> (k=0; k&lt;quantSize; k++)
00251         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[k].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00252     }
00253     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00254     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00255   }
00256 
00257 }
</pre></div>    </td>
  </tr>
</table>
<a name="a52" doxytag="catalogAccess::Catalog::unsetCuts"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetCuts </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00274">274</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00416">m_selection</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00260">unsetCuts()</a>.
<p>
<div class="fragment"><pre>00274                        {
00275 
00276   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"unsetCuts"</span>, <span class="keyword">true</span>);
00277   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00278   <span class="keywordtype">int</span> j;
00279   <span class="comment">/*for (j=0; j&lt;quantSize; j++) unsetCuts(m_quantities.at(j).m_name);*/</span>
00280   <span class="comment">//quicker to just check for selection ellipse</span>
00281   <span class="keywordflow">for</span> (j=0; j&lt;quantSize; j++) {
00282     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_listValS.clear();
00283     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_lowerCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00284     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_upperCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00285     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_listValN.clear();
00286   }
00287   <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_selection</a>=<span class="stringliteral">""</span>;
00288   <span class="comment">/* if no data: exit */</span>
00289   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00290 
00291   <span class="comment">// now, must check criteria on region</span>
00292   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
00293   <span class="keywordflow">if</span> (m_selRegion) {
00294 
00295     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel;
00296     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00297     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00298       currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i);
00299       <span class="keywordflow">if</span> (currSel &amp; 2ul) {
00300         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i)=3ul;
00301         <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00302       }
00303       <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i)=0ul;
00304       <span class="comment">// setting all bits to 0 except first two</span>
00305       <span class="keywordflow">for</span> (j=1; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].at(i)=0ul;
00306     }<span class="comment">// loop on rows</span>
00307 
00308   }
00309   <span class="keywordflow">else</span> {
00310     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0)
00311       <span class="keywordflow">for</span> (j=0; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00312     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00313     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00314   }
00315   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00316 }
</pre></div>    </td>
  </tr>
</table>
<a name="a51" doxytag="catalogAccess::Catalog::unsetCuts"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetCuts </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00260">260</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00274">unsetCuts()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00260                                            {
00261 
00262   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"unsetCuts"</span>, <span class="keyword">true</span>);
00263   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00264   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"unsetCuts"</span>, name);
00265   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00266 
00267   <a class="code" href="classcatalog_access_1_1_catalog.html#a52">unsetCuts</a>(index);
00268   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00269 }
</pre></div>    </td>
  </tr>
</table>
<a name="a55" doxytag="catalogAccess::Catalog::unsetSelEllipse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetSelEllipse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00430">430</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a37a13">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00403">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00437">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00410">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00421">m_selRegion</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00430                              {
00431 
00432   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"unsetSelEllipse"</span>, <span class="keyword">true</span>);
00433   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00434 
00435   <span class="comment">// if region was already unset: do nothing</span>
00436   <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00437   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_selRegion</a>=<span class="keyword">false</span>;
00438   <span class="comment">/* if no data: exit */</span>
00439   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00440 
00441   <span class="comment">// now, must check criteria on other quantities</span>
00442   std::vector&lt;bool&gt; isSelected;
00443   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">existCriteria</a>(&amp;isSelected);
00444   <span class="keywordflow">if</span> (oneCriteria) {
00445     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00446     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>; i++) {
00447 
00448       <span class="comment">// setting 2nd bit to 0</span>
00449       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[0].at(i)&amp;= (Max_Test-2ul);
00450       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c6">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>++;
00451  
00452     }<span class="comment">// loop on rows</span>
00453   }
00454   <span class="keywordflow">else</span> {
00455     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a> &gt; 0) {
00456       quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>.size();
00457       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numRows</a>, 0);
00458     }
00459     <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_numSelRows</a>=0;
00460     <a class="code" href="namespacecatalog_access.html#a36">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00461   }
00462   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a13">IS_OK</a>;
00463 }
</pre></div>    </td>
  </tr>
</table>
<a name="a61" doxytag="catalogAccess::Catalog::useOnlyN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::useOnlyN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00776">776</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>00777                                                         {
00778 
00779   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"useOnlyN"</span>, <span class="keyword">true</span>);
00780   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
00781   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"useOnlyN"</span>, name);
00782   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00783 
00784   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00785     std::string errText;
00786     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00787     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"useOnlyN"</span>, errText);
00788     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
00789   }
00790   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c9">doSelN</a>(name, index, 1, listVal);
00791   <span class="keywordflow">return</span> done;
00792 }
</pre></div>    </td>
  </tr>
</table>
<a name="a59" doxytag="catalogAccess::Catalog::useOnlyS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::useOnlyS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>slist</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>exact</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01147">1147</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a37a26">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="namespacecatalog_access.html#a37a14">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00385">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00021">main()</a>.
<p>
<div class="fragment"><pre>01148                                                                           {
01149 
01150   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkImport</a>(<span class="stringliteral">"useOnlyS"</span>, <span class="keyword">true</span>);
01151   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a37a14">IS_VOID</a>) <span class="keywordflow">return</span> done;
01152   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">checkQuant_name</a>(<span class="stringliteral">"useOnlyS"</span>, name);
01153   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01154 
01155   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::STRING) {  
01156     std::string errText;
01157     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01158     <a class="code" href="namespacecatalog_access.html#a35">printWarn</a>(<span class="stringliteral">"useOnlyS"</span>, errText);
01159     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a37a26">BAD_QUANT_TYPE</a>;
01160   }
01161   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c8">doSelS</a>(name, index, 1, list, exact);
01162   <span class="keywordflow">return</span> done;
01163 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o2" doxytag="catalogAccess::Catalog::m_catName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_catName<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00376">376</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a name="o3" doxytag="catalogAccess::Catalog::m_catRef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_catRef<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00377">377</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a name="o0" doxytag="catalogAccess::Catalog::m_code"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_code<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00374">374</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>.    </td>
  </tr>
</table>
<a name="o18" doxytag="catalogAccess::Catalog::m_criteriaORed"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::m_criteriaORed<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00418">418</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>.    </td>
  </tr>
</table>
<a name="o6" doxytag="catalogAccess::Catalog::m_filename"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_filename<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00380">380</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>.    </td>
  </tr>
</table>
<a name="o7" doxytag="catalogAccess::Catalog::m_filePos"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_filePos<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00381">381</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>.    </td>
  </tr>
</table>
<a name="o28" doxytag="catalogAccess::Catalog::m_indexDEC"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::m_indexDEC<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00440">440</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01359">getNameDEC()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o26" doxytag="catalogAccess::Catalog::m_indexErr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::m_indexErr<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00438">438</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01369">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>.    </td>
  </tr>
</table>
<a name="o27" doxytag="catalogAccess::Catalog::m_indexRA"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::m_indexRA<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00439">439</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01349">getNameRA()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o11" doxytag="catalogAccess::Catalog::m_loadQuantity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;bool&gt; catalogAccess::Catalog::m_loadQuantity<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00386">386</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00038">selectAllQuantities()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>.    </td>
  </tr>
</table>
<a name="o13" doxytag="catalogAccess::Catalog::m_numericals"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;double&gt; &gt; catalogAccess::Catalog::m_numericals<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00396">396</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00257">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01283">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00959">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01413">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>.    </td>
  </tr>
</table>
<a name="o14" doxytag="catalogAccess::Catalog::m_numOriRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numOriRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00401">401</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>.    </td>
  </tr>
</table>
<a name="o15" doxytag="catalogAccess::Catalog::m_numRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00403">403</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00636">checkSize_row()</a>, <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01283">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00388">getMaxNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01359">getNameDEC()</a>, <a class="el" href="catalog_8cxx-source.html#l01369">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01349">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l00774">getNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00959">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01413">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o25" doxytag="catalogAccess::Catalog::m_numSelRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numSelRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00437">437</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00668">checkSel_row()</a>, <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01283">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00990">getNumSelRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o9" doxytag="catalogAccess::Catalog::m_posErrFactor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_posErrFactor<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00383">383</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00052">setPosErrFactor()</a>.    </td>
  </tr>
</table>
<a name="o8" doxytag="catalogAccess::Catalog::m_posErrSys"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_posErrSys<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00382">382</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>.    </td>
  </tr>
</table>
<a name="o10" doxytag="catalogAccess::Catalog::m_quantities"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;<a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a>&gt; catalogAccess::Catalog::m_quantities<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00385">385</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00600">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00653">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00995">checkValWithinCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00757">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01128">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="catalog_8cxx-source.html#l01392">getNameB()</a>, <a class="el" href="catalog_8cxx-source.html#l01359">getNameDEC()</a>, <a class="el" href="catalog_8cxx-source.html#l01380">getNameL()</a>, <a class="el" href="catalog_8cxx-source.html#l01405">getNameObjName()</a>, <a class="el" href="catalog_8cxx-source.html#l01369">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01349">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00636">getQuantityDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00649">getQuantityNames()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getQuantityTypes()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getQuantityUCDs()</a>, <a class="el" href="catalog_8cxx-source.html#l00672">getQuantityUnits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00832">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00742">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00858">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00754">getSysErrorName()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00696">importDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00795">includeN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00959">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00929">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01413">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00052">setPosErrFactor()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00776">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01147">useOnlyS()</a>.    </td>
  </tr>
</table>
<a name="o16" doxytag="catalogAccess::Catalog::m_rowIsSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;unsigned long&gt; &gt; catalogAccess::Catalog::m_rowIsSelected<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00410">410</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l01278">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00655">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01283">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01025">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01057">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01090">getSelSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01206">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01171">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01311">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01245">ra_deg()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00469">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00933">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00872">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00815">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00558">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o17" doxytag="catalogAccess::Catalog::m_selection"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_selection<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00416">416</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00274">unsetCuts()</a>.    </td>
  </tr>
</table>
<a name="o29" doxytag="catalogAccess::Catalog::m_selEllipse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;double&gt; catalogAccess::Catalog::m_selEllipse<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00441">441</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o21" doxytag="catalogAccess::Catalog::m_selEllipseCentDEC_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseCentDEC_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00426">426</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o20" doxytag="catalogAccess::Catalog::m_selEllipseCentRA_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseCentRA_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00424">424</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o23" doxytag="catalogAccess::Catalog::m_selEllipseMajAxis_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseMajAxis_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00430">430</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o22" doxytag="catalogAccess::Catalog::m_selEllipseMinAxis_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseMinAxis_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00428">428</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o24" doxytag="catalogAccess::Catalog::m_selEllipseRot_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseRot_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00432">432</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o19" doxytag="catalogAccess::Catalog::m_selRegion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::m_selRegion<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00421">421</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">existCriteria()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00077">setGeneric()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00345">setSelEllipse()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00430">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o12" doxytag="catalogAccess::Catalog::m_strings"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;std::string&gt; &gt; catalogAccess::Catalog::m_strings<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00388">388</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00257">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00226">create_tables()</a>, <a class="el" href="catalog_8cxx-source.html#l00108">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01042">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01168">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01283">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00997">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01130">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00782">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00892">getSValues()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00711">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01413">saveFits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01470">saveSelectedFits()</a>.    </td>
  </tr>
</table>
<a name="o4" doxytag="catalogAccess::Catalog::m_tableName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_tableName<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00378">378</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00161">deleteQuantities()</a>, <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, and <a class="el" href="catalog_8h-source.html#l00588">~Catalog()</a>.    </td>
  </tr>
</table>
<a name="o5" doxytag="catalogAccess::Catalog::m_tableRef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_tableRef<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00379">379</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a name="o1" doxytag="catalogAccess::Catalog::m_URL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_URL<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00375">375</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00293">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00194">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01254">createFits()</a>, <a class="el" href="catalog_8cxx-source.html#l00131">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00618">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00164">getRAMsize()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01000">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00512">load()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00758">loadSelectFits()</a>.    </td>
  </tr>
</table>
<a name="r2" doxytag="catalogAccess::Catalog::s_CatalogGeneric"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * catalogAccess::Catalog::s_CatalogGeneric<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre>{
     {<span class="stringliteral">"3EG"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"theta95"</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"3EG"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>},
     {<span class="stringliteral">""</span>,    <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"1RXS"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"PosErr"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"1WGA"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"ErrorRad"</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"1RXS"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"PosErr"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},
     {<span class="stringliteral">"SNR"</span>,  <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>}   
}</pre></div>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00050">50</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a name="r1" doxytag="catalogAccess::Catalog::s_CatalogList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * catalogAccess::Catalog::s_CatalogList<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre>{
      <span class="stringliteral">"EGRET3 sources"</span>, <span class="stringliteral">"J/ApJS/123/79/3eg"</span>,    
      <span class="stringliteral">"EGRET3 fluxes"</span>,  <span class="stringliteral">"J/ApJS/123/79/fluxes"</span>, 
      <span class="stringliteral">"EGRET3 periods"</span>, <span class="stringliteral">"J/ApJS/123/79/table1"</span>, 
      <span class="stringliteral">"ROSAT 1RXS"</span>,     <span class="stringliteral">"IX/10A/1rxs"</span>,          
      <span class="stringliteral">"Veron (11th) quasar"</span>, <span class="stringliteral">"VII/235/table1"</span>,  
      <span class="stringliteral">"Veron (11th) BL Lac"</span>, <span class="stringliteral">"VII/235/table2"</span>,  
      <span class="stringliteral">"Veron (11th) AGN"</span>,    <span class="stringliteral">"VII/235/table3"</span>,  
      <span class="stringliteral">"WGACAT of ROSAT"</span>,     <span class="stringliteral">"IX/31/wgacat"</span>,    
      <span class="stringliteral">"ROSAT faint sources"</span>, <span class="stringliteral">"IX/29/rass_fsc"</span>,  
      <span class="stringliteral">"Green galactic SNR"</span>,  <span class="stringliteral">"VII/227/snrs"</span>     
      }</pre></div>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00036">36</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a name="r0" doxytag="catalogAccess::Catalog::s_CatalogURL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * catalogAccess::Catalog::s_CatalogURL<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre>{
      <span class="stringliteral">"cds   fr vizier.u-strasbg.fr/"</span>,    
      <span class="stringliteral">"cfa   us vizier.cfa.harvard.edu/"</span>, 
      <span class="stringliteral">"cadc  ca vizier.hia.nrc.ca/"</span>,      
      <span class="stringliteral">"adac  jp vizier.nao.ac.jp/"</span>,       
      <span class="stringliteral">"ukirt hawaii www.ukirt.jach.hawaii.edu/"</span>, 
      <span class="stringliteral">"cambridge uk archive.ast.cam.ac.uk/"</span>,
      <span class="stringliteral">"iucaa in urania.iucaa.ernet.in/"</span>,  
      <span class="stringliteral">"moscow ru www.inasan.rssi.ru/"</span>,    
      <span class="stringliteral">"bejing cn data.bao.ac.cn/"</span>         
      }</pre></div>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00023">23</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a name="r4" doxytag="catalogAccess::Catalog::s_genericB"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const std::string catalogAccess::Catalog::s_genericB = UCD_List[5]<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00040">40</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.    </td>
  </tr>
</table>
<a name="r3" doxytag="catalogAccess::Catalog::s_genericL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const std::string catalogAccess::Catalog::s_genericL = UCD_List[4]<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00039">39</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="catalog_8h-source.html">catalog.h</a><li><a class="el" href="catalog_8cxx-source.html">catalog.cxx</a><li><a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a><li><a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a></ul>
<hr><address style="align: right;"><small>Generated on Wed Jul 13 10:50:53 2005 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
