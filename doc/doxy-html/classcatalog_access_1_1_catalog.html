<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>catalogAccess::Catalog class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>catalogAccess::Catalog Class Reference</h1>Provide methods to define a catalog and access its data. Only inline methods (default constructor, the destructor and 7 private checking methods) are implemented here. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="catalog_8h-source.html">catalog.h</a>&gt;</code>
<p>
<a href="classcatalog_access_1_1_catalog-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a0">Catalog</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a1">~Catalog</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a2">Catalog</a> (const Catalog &amp;)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a3">getMaxNumRows</a> (long *nrows, const std::string &amp;fileName)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a4">getMaxNumRowsWeb</a> (long *nrows, const std::string catName, const std::string urlCode="cds")</td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a> (const long numRows=44000, const bool writeLog=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a> (const std::string &amp;fileName, const std::string ext="1")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a> (const std::string catName, const std::string urlCode="cds", const std::string &amp;fileName="")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a8">import</a> (const std::string &amp;fileName, const long maxRow=0, const std::string ext="1")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a> (const std::string catName, const std::string urlCode="cds", const long maxRow=44000, const std::string &amp;fileName="")</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a11">saveText</a> (const std::string &amp;fileName, bool clobber=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a12">saveSelectedText</a> (const std::string &amp;fileName, bool clobber=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber=false, bool append=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a14">saveSelectedFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber=false, bool append=false)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a> (std::vector&lt; std::string &gt; *titles)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a> (std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt; *myQuantities)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a> (std::vector&lt; std::string &gt; *names)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a18">getQuantityUnits</a> (std::vector&lt; std::string &gt; *units)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a19">getQuantityUCDs</a> (std::vector&lt; std::string &gt; *ucds)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a20">getQuantityTypes</a> (std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html#s3">Quantity::QuantityType</a> &gt; *types)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a21">getStatErrorName</a> (const std::string name, std::string *statErrName)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a22">getSysErrorName</a> (const std::string name, std::string *sysErrName)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a> (long *nrows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a> (const std::string name, const long row, std::string *stringVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a> (const std::string name, const long row, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a27">getStatError</a> (const std::string name, const long row, double *realValStat)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a28">getSysError</a> (const std::string name, const long row, double *realValSys)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a> (const std::string name, std::vector&lt; std::string &gt; *values)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a30">minVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a> (long *nrows)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a33">getSelSValue</a> (const std::string name, const long srow, std::string *stringVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a34">getSelNValue</a> (const std::string name, const long srow, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a35">getSelStatError</a> (const std::string name, const long srow, double *realValStat)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a36">getSelSysError</a> (const std::string name, const long srow, double *realValSys)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a> (const std::string name, std::vector&lt; std::string &gt; *values)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a> (const std::string name, double *realVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a40">ra_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a41">dec_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a42">posError_deg</a> (const long row, double *realVal, const bool inSelection=false)</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a43">getNameRA</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a44">getNameDEC</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a45">getNamePosErr</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a46">getNameL</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a47">getNameB</a> ()</td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a48">getNameObjName</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a49">selectQuantity</a> (const std::string name, const bool toBeLoaded)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a50">selectAllQuantities</a> (const bool toBeLoaded)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a> (const std::string name)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a52">unsetCuts</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a53">setCriteriaORed</a> (const bool bitOR=true)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a> (const double centRA_deg, const double centDEC_deg, const double majAxis_deg, const double minAxis_deg, const double rot_deg=0.)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a55">unsetSelEllipse</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a> (const std::string name, double cutVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a> (const std::string name, double cutVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a> (const std::string name, const std::vector&lt; std::string &gt; &amp;slist, const bool exact=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a> (const std::string name, const std::vector&lt; std::string &gt; &amp;slist, const bool exact=false)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a62">includeN</a> (const std::string name, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a> (const std::string name, const bool rejectNaN)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a64">setMatchPercent</a> (const std::string name, double percent)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a65">setMatchEpsilon</a> (const std::string name, const unsigned long step)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a66">checkValWithinCut</a> (const std::string name, const double value, bool *cutLow, bool *cutUp, int *checkResult)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a> ()</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d0">getCatList</a> (std::vector&lt; std::string &gt; *names, const bool isCode=true)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#d1">getWebList</a> (std::vector&lt; std::string &gt; *names, const bool isCode=true)</td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c1">deleteQuantities</a> ()</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c2">checkRegion</a> (const long row, const int nRA, const int nDEC)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a> (const double r, const int index, const bool miss, const bool reject, const double precis)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a> (const double r, const int index, const bool reject, const double precis)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a> (const long row, const std::vector&lt; bool &gt; &amp;quantSel)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c6">unsetCuts</a> (const int index)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c7">doSelS</a> (const std::string name, const int index, const int code, const std::vector&lt; std::string &gt; &amp;list, const bool exact)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c8">doSelN</a> (const std::string name, const int index, const int code, const std::vector&lt; double &gt; &amp;listVal)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c9">setPosErrFactor</a> (const int index)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c10">setGeneric</a> (const int whichCat)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c11">create_tables</a> (const int nbQuantAscii)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c12">add_rows</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c13">translate_cell</a> (std::string mot, const int index)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c14">analyze_fits</a> (const tip::Table *myDOL, const bool getDescr, const std::string origin)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c15">analyze_head</a> (unsigned long *tot, int *what, bool *testCR)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c16">analyze_body</a> (unsigned long *tot, int *what, const bool testCR, const bool getDescr)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c17">load</a> (const std::string &amp;fileName, const std::string ext, const bool getDescr)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c18">loadWeb</a> (const std::string catName, const std::string urlCode, const std::string &amp;fileName, const long maxRow)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c19">loadSelected</a> (unsigned long *tot)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c20">createText</a> (const std::string &amp;fileName, bool clobber, const std::string origin)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c21">createFits</a> (const std::string &amp;fileName, const std::string &amp;extName, bool clobber, bool append, const std::string origin, tip::Table **ptrTable)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a> (const std::string origin, const bool isDone)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c23">checkCatName</a> (const std::string origin, const std::string catName)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a> (const std::string origin, const long row)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a> (const std::string origin, const std::string name)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a> (const std::string origin, const long srow)</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a> (std::vector&lt; bool &gt; *quantSel)</td></tr>
<tr><td nowrap align=right valign=top>unsigned long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a> (const int index, int *k)</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o0">m_code</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a></td></tr>
<tr><td nowrap align=right valign=top>std::fstream&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o6">myFile</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; bool &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 std::string &gt; &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 double &gt; &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; std::vector&lt;<br>
 unsigned long &gt; &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a></td></tr>
<tr><td nowrap align=right valign=top>std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o18">m_selection</a></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o19">m_criteriaORed</a></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentRA_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseCentDEC_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMinAxis_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseMajAxis_deg</a></td></tr>
<tr><td nowrap align=right valign=top>double&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o25">m_selEllipseRot_deg</a></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a></td></tr>
<tr><td nowrap align=right valign=top>std::vector&lt; double &gt;&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a></td></tr>
<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r0">s_CatalogURL</a> [MAX_URL]</td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r1">s_CatalogList</a> [2 *MAX_CAT]</td></tr>
<tr><td nowrap align=right valign=top>const char *&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r2">s_CatalogGeneric</a> [MAX_CAT][MAX_GEN]</td></tr>
<tr><td nowrap align=right valign=top>const std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r3">s_genericL</a> = UCD_List[4]</td></tr>
<tr><td nowrap align=right valign=top>const std::string&nbsp;</td><td valign=bottom><a class="el" href="classcatalog_access_1_1_catalog.html#r4">s_genericB</a> = UCD_List[5]</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provide methods to define a catalog and access its data. Only inline methods (default constructor, the destructor and 7 private checking methods) are implemented here.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
A. Sauvageon</dl>$Header $ 
<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00044">44</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="catalogAccess::Catalog::Catalog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::Catalog </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00542">542</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a14">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00416">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00379">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00436">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00381">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00380">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00414">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00419">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00373">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00020">catalogAccess::verbosity</a>.
<p>
<div class="fragment"><pre>00542                         {
00543 
00544 
00545   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=<span class="stringliteral">""</span>;
00546   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> =<span class="stringliteral">""</span>;
00547   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>   =<span class="stringliteral">""</span>;
00548   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>    =<span class="stringliteral">""</span>;
00549   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> =<span class="stringliteral">""</span>;
00550   <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>  =<span class="stringliteral">""</span>;
00551   <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>   =0;
00552   <a class="code" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a> = -1.0;
00553   <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0;  <span class="comment">// "deg" by default</span>
00554 
00555   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>   =<a class="code" href="namespacecatalog_access.html#a35a14">IMPORT_NEED</a>;
00556   <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=0;
00557   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=0;
00558   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_selection</a> =<span class="stringliteral">""</span>;
00559   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_criteriaORed</a>=<span class="keyword">false</span>;
00560   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a> =<span class="keyword">false</span>;
00561   <span class="comment">// following four data members needed for efficient selection</span>
00562   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00563   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>= -1;
00564   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a> = -1;
00565   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>= -1;
00566   <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.assign(7, 0.0); }
00567   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00568     std::string errText;
00569     errText=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse: "</span>)+err.what();
00570     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog constructor"</span>, errText);
00571     <span class="keywordflow">throw</span>;
00572   }
00573   <a class="code" href="namespacecatalog_access.html#a5">verbosity</a>=3;
00574 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00575 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog constructor (sizes="</span> &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()
00576             &lt;&lt;<span class="stringliteral">","</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size() &lt;&lt;<span class="stringliteral">","</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size() &lt;&lt;<span class="stringliteral">","</span>
00577             &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size() &lt;&lt;<span class="stringliteral">", m_selEllipse "</span>&lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.size()
00578             &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00579 <span class="preprocessor">  #endif</span>
00580 <span class="preprocessor"></span>}
</pre></div>    </td>
  </tr>
</table>
<a name="a1" doxytag="catalogAccess::Catalog::~Catalog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::~Catalog </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00584">584</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, and <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>.
<p>
<div class="fragment"><pre>00584                          {
00585 
00586 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00587 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog destructor on: "</span>
00588             &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> &lt;&lt; std::endl;
00589 <span class="preprocessor">  #endif</span>
00590 <span class="preprocessor"></span>  <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00591   <a class="code" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a>();
00592 }
</pre></div>    </td>
  </tr>
</table>
<a name="a2" doxytag="catalogAccess::Catalog::Catalog"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> catalogAccess::Catalog::Catalog </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const Catalog &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00149">149</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00416">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00379">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00436">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00381">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00380">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00414">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00424">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00422">m_selEllipseCentRA_deg</a>, <a class="el" href="catalog_8h-source.html#l00428">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseMinAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseRot_deg</a>, <a class="el" href="catalog_8h-source.html#l00419">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00373">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00149                                       {
00150 
00151 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00152 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG Catalog COPY constructor on: "</span>
00153             &lt;&lt; myCat.m_tableName &lt;&lt; std::endl;
00154 <span class="preprocessor">  #endif  </span>
00155 <span class="preprocessor"></span>  std::string errText;
00156   <span class="comment">// copying values</span>
00157   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=myCat.m_code;
00158   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> =myCat.m_URL;
00159   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>   =myCat.m_catName;
00160   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>    =myCat.m_catRef;
00161   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> =myCat.m_tableName;
00162   <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>  =myCat.m_tableRef;
00163   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>   =myCat.m_numRows;
00164   <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=myCat.m_numOriRows;
00165   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=myCat.m_numReadRows;
00166 <span class="comment">//  if ( myCat.myFile.is_open() ) { DO NOT COMPILE</span>
00167   <span class="keywordflow">if</span> ( myCat.m_filePos &gt; 0 ) {
00168     <span class="comment">// the file read is left opened, don't know how to get stream on same file</span>
00169     errText=<span class="stringliteral">"FILE isn't CLOSED (in this version), FORBIDS importSelected"</span>;
00170     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00171   }
00172   <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>=0;
00173   <a class="code" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a>=myCat.m_posErrSys;
00174   <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=myCat.m_posErrFactor;
00175   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_selection</a> =myCat.m_selection;
00176   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_criteriaORed</a>=myCat.m_criteriaORed;
00177   <span class="comment">// following three data members needed for efficient selection</span>
00178   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=myCat.m_numSelRows;
00179   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>  =myCat.m_indexErr;
00180   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>   =myCat.m_indexRA;
00181   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>  =myCat.m_indexDEC;
00182 
00183   <span class="comment">// copying elliptical region definition</span>
00184   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a>=myCat.m_selRegion;
00185   <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentRA_deg</a> =myCat.m_selEllipseCentRA_deg;
00186   <a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseCentDEC_deg</a>=myCat.m_selEllipseCentDEC_deg;
00187   <a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMinAxis_deg</a>=myCat.m_selEllipseMinAxis_deg;
00188   <a class="code" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseMajAxis_deg</a>=myCat.m_selEllipseMajAxis_deg;
00189   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_selEllipseRot_deg</a>=myCat.m_selEllipseRot_deg;
00190 
00191   <span class="comment">// copying vectors</span>
00192 <span class="comment">//try {</span>
00193   <span class="keywordtype">long</span> i;
00194   <span class="keywordtype">int</span> vecSize, j;
00195   <span class="comment">// following data member m_selEllipse[] needed for efficient selection</span>
00196   <span class="keywordflow">try</span> {
00197     vecSize=myCat.m_selEllipse.size(); <span class="comment">// size is only 7</span>
00198     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.push_back(myCat.m_selEllipse.at(j));
00199   }
00200   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00201     errText=std::string(<span class="stringliteral">"EXCEPTION on m_selEllipse[]: "</span>)+err.what();
00202     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00203     <span class="keywordflow">throw</span>;
00204   }
00205   <span class="comment">// following data member m_loadQuantity[] needed for importSelected()</span>
00206   <span class="keywordflow">try</span> {
00207     vecSize=myCat.m_loadQuantity.size();
00208     <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.reserve(vecSize);  <span class="comment">// pre-allocate the memory </span>
00209     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)
00210       <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.push_back(myCat.m_loadQuantity.at(j));
00211   }
00212   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00213     errText=std::string(<span class="stringliteral">"EXCEPTION on m_loadQuantity[]: "</span>)+err.what();
00214     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00215     <span class="keywordflow">throw</span>;
00216   }
00217   <span class="keywordflow">try</span> {
00218     std::vector&lt;Quantity&gt;::const_iterator itQ;
00219     <span class="keywordflow">for</span> (itQ=myCat.m_quantities.begin(); itQ!=myCat.m_quantities.end(); itQ++)
00220       <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.push_back(*itQ);
00221   }
00222   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00223     errText=std::string(<span class="stringliteral">"EXCEPTION on m_quantities[]: "</span>)+err.what();
00224     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00225     <span class="keywordflow">throw</span>;
00226   }
00227   <span class="comment">// suppose that each column has same number of rows</span>
00228   vecSize=myCat.m_rowIsSelected.size();
00229   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00230     <span class="keywordflow">try</span> {
00231       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.resize(vecSize);
00232       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00233         <span class="comment">// pre-allocate the memory for each vector</span>
00234         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].reserve(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>);
00235         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++)
00236           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].push_back(myCat.m_rowIsSelected[j].at(i));
00237       }
00238     }
00239     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00240       errText=std::string(<span class="stringliteral">"EXCEPTION on m_rowIsSelected[][]: "</span>)+err.what();
00241       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00242       <span class="keywordflow">throw</span>;
00243     }
00244   }
00245   vecSize=myCat.m_strings.size();
00246   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00247     <span class="keywordflow">try</span> {
00248       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.resize(vecSize);
00249       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00250         <span class="comment">// pre-allocate the memory for each vector</span>
00251         <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].reserve(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>);
00252         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++)
00253           <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].push_back(myCat.m_strings[j].at(i));
00254       }
00255     }
00256     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00257       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings[][]: "</span>)+err.what();
00258       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00259       <span class="keywordflow">throw</span>;
00260     }
00261   }
00262   vecSize=myCat.m_numericals.size();
00263   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00264     <span class="keywordflow">try</span> {
00265       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.resize(vecSize);
00266       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
00267         <span class="comment">// pre-allocate the memory for each vector</span>
00268         <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].reserve(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>);
00269         <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++)
00270           <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].push_back(myCat.m_numericals[j].at(i));
00271       }
00272     }
00273     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00274       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals[][]: "</span>)+err.what();
00275       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"Catalog copy constructor"</span>, errText);
00276       <span class="keywordflow">throw</span>;
00277     }
00278   }
00279 <span class="comment">/* line is commented on purpose to TEMINATE the program on EXCEPTION */</span>
00280 <span class="comment">//} catch (...) { printErr("Catalog copy constructor", ""); }</span>
00281 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="c12" doxytag="catalogAccess::Catalog::add_rows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::add_rows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00247">247</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>.
<p>
<div class="fragment"><pre>00247                        {
00248 
00249   <span class="keywordtype">int</span> i, vecSize;
00250   std::string errText;
00251 <span class="comment">//printf("!! %ld / %ld \n", m_numRows, m_numReadRows);</span>
00252   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
00253   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00254     <span class="keywordflow">try</span> {
00255       <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00256         <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>);
00257 <span class="comment">//        for (j=0; j&lt;m_numReadRows; j++) m_strings[i].at(j).resize(20);</span>
00258       }
00259     }
00260     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00261       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings: "</span>)+err.what();
00262       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"private add_rows"</span>, errText);
00263       <span class="keywordflow">throw</span>;
00264     }
00265   }
00266   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
00267   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00268     <span class="keywordflow">try</span> {
00269       <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>);
00270     }
00271     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00272       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals: "</span>)+err.what();
00273       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"private add_rows"</span>, errText);
00274       <span class="keywordflow">throw</span>;
00275     }
00276   } 
00277 
00278 }
</pre></div>    </td>
  </tr>
</table>
<a name="c16" doxytag="catalogAccess::Catalog::analyze_body"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_body </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>what</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>testCR</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>getDescr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00704">704</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a19">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_comment</a>, <a class="el" href="catalog_8h-source.html#l00379">m_filePos</a>, <a class="el" href="quantity_8h-source.html#l00094">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00089">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_LINE</a>, <a class="el" href="catalog_8h-source.html#l00378">myFile</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00283">translate_cell()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>.
<p>
<div class="fragment"><pre>00705                                                {
00706 
00707   std::string  origin, text, mot;
00708   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00709   <span class="keywordtype">char</span> sep=<span class="charliteral">';'</span>,
00710        line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00711   std::ostringstream sortie;
00712   <span class="keywordtype">bool</span> foundColumn=<span class="keyword">false</span>,
00713        lineSkipped=<span class="keyword">false</span>;
00714   <span class="keywordtype">int</span>  i, last, err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>,
00715        found=0,
00716        nbQuantAscii=0,
00717        maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1; <span class="comment">// to avoid computation each line</span>
00718   int (*pfunc)(int)=toupper; <span class="comment">// function used by transform</span>
00719 
00720   <span class="keywordflow">if</span> (getDescr) origin=<span class="stringliteral">"importDescription"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"import"</span>;
00721   <span class="keywordflow">while</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.good() ) {
00722 
00723     <span class="comment">// extract line with delimiter \n which is discarded</span>
00724     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
00725     (*tot)++;
00726     <span class="keywordflow">switch</span> (found) {
00727     <span class="keywordflow">case</span> 0:
00728       mot=<span class="stringliteral">"#Column"</span>;
00729       text=line; <span class="comment">/* convert C string to C++ string */</span>
00730       pos=text.find(mot);
00731       <span class="keywordflow">if</span> (pos == 0) {
00732         Quantity readQ;
00733         foundColumn=<span class="keyword">true</span>;
00734       <span class="keywordflow">do</span> {
00735         <span class="comment">// column NAME, FORMAT, DESCR, UCD separated by only 1 TAB</span>
00736         last=text.length();
00737         <span class="keywordflow">for</span> (i=mot.length(); i&lt;last; i++) {
00738           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00739         }
00740         <span class="keywordflow">if</span> (i == last) <span class="keywordflow">break</span>; <span class="comment">//no NAME found</span>
00741         mot=text.substr(i, last-i);
00742         pos=mot.find(0x09);
00743         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack end of data</span>
00744 
00745         readQ.m_name=mot.substr(0, pos);
00746         text=mot;
00747         text.erase(0, pos+1);
00748         pos=text.find(0x09);
00749         <span class="keywordflow">if</span> ((pos == std::string::npos) || (pos &lt; 3)) <span class="keywordflow">break</span>;
00750 
00751         readQ.m_format=text.substr(1, pos-2); <span class="comment">// disregard ( ) </span>
00752         text.erase(0, pos+1);
00753         last=text.length();
00754         <span class="keywordflow">for</span> (i=0; i&lt;last; i++) {
00755           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00756         }
00757         <span class="keywordflow">if</span> (i == last) <span class="keywordflow">break</span>; <span class="comment">// no DESCR found</span>
00758         mot=text.substr(i, last-i);
00759         pos=mot.find(0x09);
00760         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack end of data</span>
00761  
00762         text=mot;
00763         text.erase(0, pos+1);
00764         <span class="comment">// remove trailing blanks</span>
00765         <span class="keywordflow">do</span> pos--; <span class="keywordflow">while</span> (mot[pos] == <span class="charliteral">' '</span>);
00766         readQ.m_comment=mot.substr(0, pos+1);
00767         mot=<span class="stringliteral">"[ucd="</span>;
00768         pos=text.find(mot);
00769         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack end of data</span>
00770         text.erase(0, mot.length());
00771         pos=text.find(<span class="charliteral">']'</span>);
00772         <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">break</span>;  <span class="comment">// lack last ]</span>
00773 
00774         mot=text.substr(0, pos);
00775         transform(mot.begin(), mot.end(), mot.begin(), pfunc);
00776         readQ.m_ucd=mot;
00777         <span class="keywordflow">if</span> (readQ.m_format[0] == <span class="charliteral">'A'</span>) {
00778           readQ.m_index=nbQuantAscii;
00779           nbQuantAscii++;
00780           readQ.m_type=Quantity::STRING;
00781         }
00782         <span class="keywordflow">else</span> {
00783           readQ.m_index=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()-nbQuantAscii;
00784           readQ.m_type=Quantity::NUM;
00785         }
00786         <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.push_back(readQ); }
00787         <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00788           text=std::string(<span class="stringliteral">"EXCEPTION filling m_quantities: "</span>)+prob.what();
00789           <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00790           <span class="keywordflow">throw</span>;
00791         }
00792       }<span class="keywordflow">while</span>(0);
00793         <span class="keywordflow">if</span> (readQ.m_type == Quantity::VECTOR) {
00794           sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" wrong column description"</span>;
00795           <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
00796           sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00797           <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.clear();
00798           found++; <span class="keywordflow">break</span>; <span class="comment">// to stop reading file</span>
00799         }
00800       }
00801       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (foundColumn) found++;
00802       <span class="comment">// skip lines before #Column (foundColumn is false);</span>
00803       <span class="comment">// then: at least one line without any information</span>
00804       <span class="keywordflow">break</span>;
00805 
00806     <span class="keywordflow">case</span> 1:
00807       <span class="comment">// If lines are separated by  ;  ==&gt; CSV (what unchanged)</span>
00808       <span class="comment">// If lines are separated by TAB ==&gt; TSV (what * -1)</span>
00809       <span class="comment">// Check that first word match first quantity,</span>
00810       <span class="comment">// if not: considered as separation line and loop on case 1.</span>
00811       text=line; <span class="comment">/* convert C string to C++ string */</span>
00812       pos=text.find(sep);
00813       <span class="keywordflow">if</span> (pos != std::string::npos) {
00814         mot=text.substr(0, pos);
00815         <span class="keywordflow">if</span> (mot == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(0).m_name) found++;
00816       }
00817       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pos=text.find(0x09)) != std::string::npos) {
00818         <span class="comment">// suppose there is at least 2 columns</span>
00819         mot=text.substr(0, pos);
00820         <span class="keywordflow">if</span> (mot == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(0).m_name) {
00821           (*what)*=-1;
00822           found++;
00823           sep=0x09;
00824         }
00825       }
00826       <span class="keywordflow">break</span>;
00827 
00828     <span class="keywordflow">case</span> 2:
00829       <span class="comment">// most of decription is read, units on separate line</span>
00830       last=strlen(line);
00831       <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00832       <span class="keywordflow">if</span> (last &gt; 0) {
00833         found++;
00834         text=line; <span class="comment">/* convert C string to C++ string */</span>
00835         i=0;
00836         last=text.find(sep);
00837         <span class="keywordflow">do</span> {
00838           pos=last;
00839           mot=text.substr(0, pos);
00840           <span class="keywordflow">if</span> (pos != std::string::npos) {
00841             text.erase(0, pos+1); <span class="comment">// pos); to test exception below</span>
00842             last=text.find(sep);
00843           }
00844           <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_unit=mot; }
00845           <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00846             <span class="keywordflow">if</span> (i == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size())
00847               text=<span class="stringliteral">"more units than quantities, ignoring last unit(s)"</span>;
00848             <span class="keywordflow">else</span>
00849               text=std::string(<span class="stringliteral">"EXCEPTION setting m_unit in m_quantities "</span>)
00850                    +prob.what();
00851             <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, text);
00852             <span class="keywordflow">break</span>;
00853           }
00854           i++;
00855         }
00856         <span class="keywordflow">while</span> (pos != std::string::npos);
00857         <span class="keywordflow">if</span> (i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size())
00858           <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"less units than quantities !"</span>);
00859       }
00860       <span class="keywordflow">break</span>;
00861 
00862     <span class="keywordflow">case</span> 3:
00863       <span class="comment">// decription is read, separation line starting with ---</span>
00864       last=strlen(line);
00865       <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00866       <span class="keywordflow">if</span> ((last &gt; 0) &amp;&amp; (line[0] == <span class="charliteral">'-'</span>)) {
00867         found++;
00868         <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
00869         <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.tellg();
00870         <span class="keywordflow">if</span> (getDescr) <span class="keywordflow">break</span>; <span class="comment">// must NOT read all file and create tables</span>
00871         <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a> ) {
00872           <span class="comment">// read the total number of rows to have a maximal value</span>
00873           <span class="comment">// to allocate m_strings, m_numericals buffers.</span>
00874           <span class="keywordflow">while</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.good() ) {
00875             <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
00876             <span class="keywordflow">if</span> (strlen(line) &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// 1 CR for WINDOWS</span>
00877             <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>++;
00878           }
00879           <span class="comment">// go back to initial position printf("%ld ReadRows\n", m_numReadRows);</span>
00880           <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.clear(); <span class="comment">// needed to reset flags before seekg</span>
00881           <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.seekg(<a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>);
00882           <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>; <span class="comment">// used by importSelected();</span>
00883         }
00884         <a class="code" href="classcatalog_access_1_1_catalog.html#c11">create_tables</a>(nbQuantAscii);
00885       }
00886       <span class="keywordflow">break</span>;
00887 
00888     <span class="keywordflow">default</span>:
00889       last=strlen(line);
00890       <span class="keywordflow">if</span> ((last == 0) || (line[0] == 0x0D)) {
00891         lineSkipped=<span class="keyword">true</span>; <span class="comment">// to have Warning messages below</span>
00892         <span class="keywordflow">break</span>;
00893       }
00894       <span class="comment">// string max size is MAX_LINE-1;</span>
00895       <span class="keywordflow">if</span> (last &gt;= maxLine) {
00896         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
00897                &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
00898         <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
00899         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00900         err=<a class="code" href="namespacecatalog_access.html#a35a19">BAD_FILELINE</a>;
00901         <span class="keywordflow">break</span>;
00902       }
00903       i=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
00904       <span class="keywordflow">if</span> (i == 0) {
00905         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
00906         <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00907         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00908         err=<a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
00909         <span class="keywordflow">break</span>;
00910       }
00911       <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
00912       text=line; <span class="comment">/* convert C string to C++ string */</span>
00913       pos=text.find(sep);
00914       <span class="keywordflow">if</span> (pos == std::string::npos) {
00915         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" without separator, line skipped"</span>;
00916         <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00917         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00918         <span class="keywordflow">break</span>;
00919       }
00920       <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>) || lineSkipped) {
00921         err=<a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
00922         <span class="keywordflow">break</span>;
00923       }
00924       i=0;
00925       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00926       <span class="keywordflow">do</span> {
00927         mot=text.substr(0, pos);
00928         <span class="keywordflow">if</span> (i &lt; err) <a class="code" href="classcatalog_access_1_1_catalog.html#c13">translate_cell</a>(mot, i);
00929         <span class="keywordflow">else</span> {
00930           sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" contains too many quantities"</span>;
00931           <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00932           sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00933           <span class="keywordflow">break</span>;
00934         }
00935         i++;
00936         <span class="keywordflow">if</span> (pos != std::string::npos) {
00937           text.erase(0, pos+1);
00938           pos=text.find(sep);
00939         }
00940         <span class="keywordflow">else</span> <span class="keywordflow">break</span>;
00941       }
00942       <span class="keywordflow">while</span> (1);
00943       <span class="keywordflow">if</span> (i &lt;  err) {
00944         sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" does not contain all quantities"</span>;
00945         <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00946         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00947       }
00948       err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00949       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>++;
00950       <span class="comment">//found++;</span>
00951       <span class="keywordflow">break</span>;
00952     }
00953     <span class="comment">// to have only 1 test when reading all file</span>
00954     <span class="keywordflow">if</span> (found &lt; 4) {
00955       <span class="comment">// when separation line after Column is found,</span>
00956       <span class="comment">// Quantities must be set.</span>
00957       <span class="keywordflow">if</span> (found == 1) {
00958         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size() == 0) { found--; <span class="keywordflow">break</span>; }
00959         <span class="keywordflow">if</span> (*what &gt;= 2) { found=4; <span class="keywordflow">break</span>; }
00960                        <span class="comment">// found changed, no error on META ALL</span>
00961       }
00962     }
00963     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (getDescr) <span class="keywordflow">break</span>;
00964     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>) <span class="keywordflow">break</span>; <span class="comment">// just stop, error not taken into account</span>
00965 
00966   }<span class="comment">// loop on file lines</span>
00967   <span class="comment">//only possible errors: BAD_FILELINE or BAD_ROW</span>
00968   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>) err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00969   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a19">BAD_FILELINE</a>) <span class="keywordflow">return</span> err;
00970   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (found &lt; 4) <span class="keywordflow">return</span> (-1*found);
00971   
00972   <span class="keywordflow">return</span> err;
00973 }
</pre></div>    </td>
  </tr>
</table>
<a name="c14" doxytag="catalogAccess::Catalog::analyze_fits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_fits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const tip::Table *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>myDOL</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>getDescr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00319">319</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a17">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a35a18">catalogAccess::BAD_FITS</a>, <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_8cxx-source.html#l00046">catalogAccess::Key_UCD</a>, <a class="el" href="catalog__io_8cxx-source.html#l00043">catalogAccess::KeyCatal</a>, <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::KeyTable</a>, <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="quantity_8h-source.html#l00094">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00089">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_unit</a>, <a class="el" href="catalog_8h-source.html#l00373">m_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>.
<p>
<div class="fragment"><pre>00320                                                   {
00321 
00322   std::string text, mot;
00323   <span class="keywordtype">int</span>  i, j, max,
00324        found=0,
00325        nbQuantAscii=0;
00326   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
00327   <span class="keywordtype">bool</span> binary=<span class="keyword">true</span>;
00328   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00329   int (*pfunc)(int)=toupper; <span class="comment">// function used by transform</span>
00330   <span class="keyword">const</span> Header &amp;header=myDOL-&gt;getHeader();
00331 
00332   <span class="keywordflow">try</span> {
00333     text=myDOL-&gt;getName();
00334     header.getKeyword(<span class="stringliteral">"XTENSION"</span>, mot);
00335   <span class="comment">/* text.rfind('_');</span>
00336 <span class="comment">    since '/' are replaced by '_' in EXTNAME</span>
00337 <span class="comment">    and  is ambiguous with '_' in catalog name:</span>
00338 <span class="comment">    must search for keywords CDS-CAT  CDS-NAME</span>
00339 <span class="comment">  */</span>
00340   }
00341   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00342     text=<span class="stringliteral">": fits EXTENSION, cannot get name"</span>;
00343     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00344     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
00345   }
00346   std::ostringstream sortie;
00347   sortie &lt;&lt; <span class="stringliteral">"fits extension "</span> &lt;&lt; mot &lt;&lt; <span class="stringliteral">" name = "</span> &lt;&lt; text;
00348   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
00349   sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00350 
00351   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=<span class="stringliteral">""</span>;   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>=<span class="stringliteral">""</span>;
00352   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=<span class="stringliteral">""</span>; <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>=<span class="stringliteral">""</span>;
00353   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>=<span class="stringliteral">""</span>;
00354   <span class="keywordflow">if</span> (mot == <span class="stringliteral">"TABLE"</span>) {
00355     binary=<span class="keyword">false</span>;
00356     <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>=<span class="stringliteral">"CDS"</span>; <span class="comment">/* to know that format string need to be changed for fits */</span>
00357   }
00358   <span class="keywordflow">try</span> {
00359     header.getKeyword(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0], text);
00360     <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=text;
00361     header.getKeyword(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0], mot);
00362     <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=mot;
00363 
00364   }
00365   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00366     <span class="keywordflow">if</span> (binary) {
00367       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"fits EXTENSION, cannot get CDS header keys"</span>);
00368     }
00369     <span class="keywordflow">else</span> {
00370       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, cannot get CDS header keys"</span>);
00371       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
00372     }
00373   }
00374   <span class="keywordflow">try</span> {
00375     text=header.getKeyComment(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0]);
00376     mot =header.getKeyComment(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0]);
00377     <span class="comment">// have to use long comment</span>
00378   }
00379   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00380     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"fits EXTENSION, cannot get CDS header comments"</span>);
00381   }
00382 <span class="comment">//  const Table::FieldCont &amp;allCol=myDOL-&gt;getValidFields();</span>
00383   max=myDOL-&gt;getValidFields().size();
00384   <span class="keywordflow">if</span> (max &lt; 1) {
00385     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, <span class="stringliteral">": fits EXTENSION, need at least 1 column"</span>);
00386     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>;
00387   }
00388   text=<span class="stringliteral">""</span>;
00389   <span class="keywordflow">try</span> {
00390     <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=myDOL-&gt;getNumRecords();
00391     <span class="keyword">const</span> IColumn *myCol = 0;
00392     <span class="keywordflow">for</span> (i=0; i &lt; max; i++) {
00393       found++;
00394       text=<span class="stringliteral">""</span>;
00395       myCol=myDOL-&gt;getColumn(i);
00396       Quantity readQ;
00397       readQ.m_name=myCol-&gt;getId();
00398       readQ.m_unit=myCol-&gt;getUnits();
00399       sprintf(name, <span class="stringliteral">"TFORM%d"</span>, i+1);
00400       mot=name; <span class="comment">/* convert C string to C++ string */</span>
00401       header.getKeyword(mot, text);
00402       transform(text.begin(), text.end(), text.begin(), pfunc);
00403       j=text.length();
00404       readQ.m_format=text;
00405 <span class="comment">//printf("'%s', ",  text.c_str());</span>
00406       text=<span class="stringliteral">""</span>;
00407       <span class="keywordflow">if</span> (binary) {
00408         <span class="keywordflow">if</span> ( !myCol-&gt;isScalar() ) {
00409           text=<span class="stringliteral">"unauthorized FITS TABLE vector"</span>;
00410           sortie &lt;&lt; <span class="stringliteral">": VECTOR not supported, column#"</span> &lt;&lt; found;
00411           <span class="keywordflow">throw</span> std::runtime_error(text);
00412         }
00413         <span class="keywordflow">if</span> (j == 0) {
00414           text=<span class="stringliteral">"unauthorized FITS empty format "</span>;
00415           sortie &lt;&lt; <span class="stringliteral">": FITS format is empty, column#"</span> &lt;&lt; found;
00416           <span class="keywordflow">throw</span> std::runtime_error(text);
00417         }
00418         <span class="keywordflow">if</span> (readQ.m_format[j-1] == <span class="charliteral">'A'</span>) readQ.m_type=Quantity::STRING;
00419         <span class="keywordflow">else</span> readQ.m_type=Quantity::NUM;
00420         sprintf(name, <span class="stringliteral">"%s%d"</span>, <a class="code" href="namespacecatalog_access.html#a4">Key_UCD</a>.c_str(), i+1); mot=name;
00421 <span class="comment">/*        readQ.m_comment=header.getKeyComment(mot);</span>
00422 <span class="comment">        header.getKeyword(mot, text);</span>
00423 <span class="comment">          ARE NOT SET */</span>
00424       }
00425       <span class="keywordflow">else</span> {
00426         <span class="keywordflow">if</span> (readQ.m_format[0] == <span class="charliteral">'A'</span>) readQ.m_type=Quantity::STRING;
00427         <span class="keywordflow">else</span> readQ.m_type=Quantity::NUM;
00428         sprintf(name, <span class="stringliteral">"TBCOL%d"</span>, i+1); mot=name;
00429         text=header.getKeyComment(mot);
00430         j=4;
00431         <span class="keywordflow">if</span> (text.substr(0,j) == <span class="stringliteral">"UCD="</span>) text.erase(0,j);
00432         pos=text.find(<span class="charliteral">'.'</span>);
00433         <span class="keywordflow">if</span> (pos != std::string::npos) text.erase(pos);;
00434         <span class="comment">/* ONLY  readQ.m_comment  IS NOT SET */</span>
00435       }
00436       transform(text.begin(), text.end(), text.begin(), pfunc);
00437       readQ.m_ucd=text;
00438       <span class="keywordflow">if</span> (readQ.m_type == Quantity::STRING) {
00439         readQ.m_index=nbQuantAscii;
00440         nbQuantAscii++;
00441       }
00442       <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (readQ.m_type == Quantity::NUM) {
00443         readQ.m_index=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()-nbQuantAscii;
00444         readQ.m_type=Quantity::NUM;
00445       }
00446       <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.push_back(readQ); }
00447       <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00448         text=std::string(<span class="stringliteral">"EXCEPTION filling m_quantities: "</span>)+prob.what();
00449         sortie &lt;&lt; text;
00450         <span class="keywordflow">throw</span>;
00451       }
00452     }<span class="comment">/* loop on columns */</span>
00453   }
00454   <span class="keywordflow">catch</span> (...) {
00455     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.clear();
00456     j=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>;
00457     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=j;
00458     <span class="keywordflow">if</span> ( text.empty() ) {
00459       sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, wrong TABLE column#"</span>;
00460       sortie &lt;&lt; found &lt;&lt; <span class="stringliteral">" description"</span>;
00461       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str() );
00462     }
00463     <span class="keywordflow">else</span> {
00464       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str() );
00465       <span class="comment">// exception sent only for vector allocation</span>
00466       <span class="keywordflow">if</span> (text == sortie.str() ) <span class="keywordflow">throw</span>;
00467     }
00468     <span class="keywordflow">return</span> j;
00469   }
00470 <span class="comment">//printf("numRows=%ld\n", m_numOriRows );</span>
00471   <span class="keywordflow">if</span> ((getDescr) || (<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a> == 0)) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00472 
00473   <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a> ) {
00474     <span class="comment">// set the total number of rows to have a maximal value</span>
00475     <span class="comment">// to allocate m_strings, m_numericals buffers.</span>
00476     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>;
00477   }
00478   <a class="code" href="classcatalog_access_1_1_catalog.html#c11">create_tables</a>(nbQuantAscii);
00479   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
00480   <span class="keywordflow">try</span> {
00481     <span class="comment">// Loop over all records (rows) and extract values</span>
00482     <span class="keywordflow">for</span> (Table::ConstIterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end();
00483          ++itor) {
00484 
00485       <span class="comment">// double variable to hold the value of all the numeric fields</span>
00486       <span class="keywordflow">for</span> (i=0; i &lt; max; i++) {
00487         j=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_index;
00488         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_type == Quantity::NUM)
00489           <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>)=(*itor)[<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name].get();
00490         <span class="keywordflow">else</span> (*itor)[<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name].get(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>) );
00491       }
00492       <span class="keywordflow">if</span> (++<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>) <span class="keywordflow">break</span>;
00493     }
00494   }
00495   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
00496     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot read after row#"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>+1;
00497     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str() );
00498     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
00499   }
00500   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00501 }
</pre></div>    </td>
  </tr>
</table>
<a name="c15" doxytag="catalogAccess::Catalog::analyze_head"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::analyze_head </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>what</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>testCR</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00506">506</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a16">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_LINE</a>, and <a class="el" href="catalog_8h-source.html#l00378">myFile</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>.
<p>
<div class="fragment"><pre>00506                                                                      {
00507 
00508   std::string text, mot;
00509   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00510   <span class="keywordtype">char</span> line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00511   <span class="keywordtype">int</span>  i, last,
00512        found=0,
00513        err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00514 
00515   <span class="comment">// must use good instead eof, because eof is still false</span>
00516   <span class="comment">// if getline reads MAX_LINE char ==&gt; infinite loop</span>
00517   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=<span class="stringliteral">""</span>;   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a> =<span class="stringliteral">""</span>;
00518   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=<span class="stringliteral">""</span>; <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a> =<span class="stringliteral">""</span>;
00519   <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.clear();  
00520   <span class="comment">// to reset the state flags (checked by the previous load call)</span>
00521   <span class="keywordflow">while</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.good() ) {
00522 
00523     <span class="comment">// extract line with delimiter \n which is discarded</span>
00524     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
00525     text=line; <span class="comment">/* convert C string to C++ string */</span>
00526     <span class="keywordflow">if</span> (*tot == 0) {
00527       pos=text.find(<span class="charliteral">' '</span>);
00528       <span class="keywordflow">if</span> (pos != std::string::npos) {
00529         mot=text.substr(0, pos);
00530         <span class="comment">// fits starts with "SIMPLE  ="</span>
00531         <span class="keywordflow">if</span> (mot == <span class="stringliteral">"SIMPLE"</span>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
00532       }
00533     }
00534     (*tot)++;
00535 
00536     <span class="comment">/* should find something like:</span>
00537 <span class="comment">#RESOURCE=21230079</span>
00538 <span class="comment">#Name: J/ApJS/123/79</span>
00539 <span class="comment">#Title: Third EGRET catalog (3EG) (Hartman+, 1999)</span>
00540 <span class="comment">#Table  J_ApJS_123_79_3eg:</span>
00541 <span class="comment">#Name: J/ApJS/123/79/3eg</span>
00542 <span class="comment">#Title: Third EGRET Source Catalog (table 4)</span>
00543 <span class="comment">#blabla(CoosysG:galactic)</span>
00544 <span class="comment">#Column</span>
00545 <span class="comment">// Column must be followed by at least one separation line </span>
00546 <span class="comment"></span>
00547 <span class="comment">    OR (-meta.all for description)</span>
00548 <span class="comment"></span>
00549 <span class="comment">#RESOURCE=J/ApJS/123/79/3eg</span>
00550 <span class="comment">#INFO   =271Total number of tuples (rows) in the table</span>
00551 <span class="comment">#INFO   =CGRO</span>
00552 <span class="comment">#INFO   =Gamma-ray</span>
00553 <span class="comment">#    Third EGRET catalog (3EG) (Hartman+, 1999)</span>
00554 <span class="comment">#    Third EGRET Source Catalog (table 4)</span>
00555 <span class="comment">#</span>
00556 <span class="comment">*/</span>
00557     <span class="keywordflow">switch</span> (found) {
00558     <span class="keywordflow">case</span> 0:
00559       pos=text.find(<span class="stringliteral">"#RESOURCE="</span>);
00560       <span class="keywordflow">if</span> (pos == 0) {
00561         found++;
00562         last=text.length();
00563         <span class="comment">// test if last char is CR from WINDOWS</span>
00564         <span class="keywordflow">if</span> (text[last-1] == 0x0D) {
00565           *testCR=<span class="keyword">true</span>;
00566           last--;
00567           text.erase(last);
00568         }
00569         <span class="keywordflow">else</span> *testCR=<span class="keyword">false</span>;
00570         mot=text.substr(10);
00571         pos=mot.find(<span class="charliteral">'/'</span>);
00572         <span class="keywordflow">if</span> (pos == std::string::npos) {
00573           <span class="comment">// standard desciption  printf("|%s|\n", mot.c_str());</span>
00574           *what=1;
00575         }
00576         <span class="keywordflow">else</span> {
00577           <span class="comment">// -meta.all OR -meta QUERY</span>
00578           *what=2;
00579           pos=mot.rfind(<span class="charliteral">'/'</span>);
00580           <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=mot.substr(0,pos);
00581           <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=mot;
00582         }
00583       }
00584       <span class="keywordflow">break</span>;
00585 
00586     <span class="keywordflow">case</span> 1: <span class="keywordflow">case</span> 3:
00587       <span class="keywordflow">if</span> (*what &lt; 2) mot=<span class="stringliteral">"#Name:"</span>;  <span class="keywordflow">else</span> mot=<span class="stringliteral">"#INFO"</span>; 
00588       pos=text.find(mot);
00589       <span class="keywordflow">if</span> (pos == 0) {
00590         found++;
00591         last=text.length();
00592         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00593         <span class="comment">// remove heading spaces</span>
00594         <span class="keywordflow">for</span> (i=mot.length(); i&lt;last; i++) {
00595           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00596         }
00597         <span class="keywordflow">if</span> (i == last) mot=<span class="stringliteral">""</span>;
00598         <span class="keywordflow">else</span> {
00599           mot=text.substr(i, last-i);
00600           <span class="comment">// remove trailing spaces</span>
00601           pos=mot.length();
00602           <span class="keywordflow">do</span> pos--;
00603           <span class="keywordflow">while</span> ((mot[pos] == <span class="charliteral">' '</span>) || (mot[pos] == 0x09));
00604           mot.erase(pos+1);
00605         }
00606         <span class="keywordflow">if</span> (*what &lt; 2) {
00607           <span class="keywordflow">if</span> (found &gt; 2) <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>=mot; <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>=mot;
00608         }
00609         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (found == 2) {
00610           <span class="keywordflow">if</span> ((!<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>) &amp;&amp; ((last=mot.length()) &gt; 1)) {
00611             <span class="keywordflow">if</span> (mot[0] == <span class="charliteral">'='</span>) mot[0]=<span class="charliteral">' '</span>;
00612             <span class="keywordflow">for</span> (i=1; i&lt;last; i++) { <span class="keywordflow">if</span> (!isdigit(mot[i])) <span class="keywordflow">break</span>; } 
00613             mot.erase(i);
00614             <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=atol(mot.c_str());
00615           }
00616         }
00617       }
00618       <span class="keywordflow">break</span>;
00619 
00620     <span class="keywordflow">case</span> 2: <span class="keywordflow">case</span> 4:
00621       <span class="keywordflow">if</span> (*what &lt; 2) mot=<span class="stringliteral">"#Title:"</span>;  <span class="keywordflow">else</span> mot=<span class="stringliteral">"#INFO"</span>;
00622       pos=text.find(mot);
00623       <span class="keywordflow">if</span> (pos == 0) {
00624         <span class="keywordflow">if</span> (*what &gt;= 2) <span class="keywordflow">break</span>; <span class="comment">// read lines until do not start with #INFO</span>
00625         found++;
00626         last=text.length();
00627         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00628         <span class="comment">// remove heading spaces</span>
00629         <span class="keywordflow">for</span> (i=mot.length(); i&lt;last; i++) {
00630           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00631         }
00632         <span class="keywordflow">if</span> (i == last) mot=<span class="stringliteral">""</span>;
00633         <span class="keywordflow">else</span> {
00634           mot=text.substr(i, last-i);
00635           <span class="comment">// remove trailing spaces</span>
00636           pos=mot.length();
00637           <span class="keywordflow">do</span> pos--;
00638           <span class="keywordflow">while</span> ((mot[pos] == <span class="charliteral">' '</span>) || (mot[pos] == 0x09));
00639           mot.erase(pos+1);
00640         }
00641         <span class="keywordflow">if</span> (found &gt; 3) <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>=mot; <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>=mot;
00642       }
00643       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*what &gt;= 2) {
00644         <span class="comment">// separation '#' found,</span>
00645         <span class="keywordflow">if</span> ((last=text.length()) &lt; 3) { found=5; <span class="keywordflow">break</span>;}
00646         found++;
00647         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00648         <span class="comment">// remove heading spaces</span>
00649         <span class="keywordflow">for</span> (i=1; i&lt;last; i++) {
00650           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00651         }
00652         <span class="keywordflow">if</span> (i == last) mot=<span class="stringliteral">""</span>;
00653         <span class="keywordflow">else</span> {
00654           mot=text.substr(i, last-i);
00655           <span class="comment">// remove trailing spaces</span>
00656           pos=mot.length();
00657           <span class="keywordflow">do</span> pos--;
00658           <span class="keywordflow">while</span> ((mot[pos] == <span class="charliteral">' '</span>) || (mot[pos] == 0x09));
00659           mot.erase(pos+1);
00660         }
00661         <span class="keywordflow">if</span> (found &gt; 3)  <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>=mot; 
00662         <span class="keywordflow">else</span> { found=4; <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>=mot; }
00663       }
00664       <span class="keywordflow">break</span>;
00665 
00666     <span class="keywordflow">default</span>:
00667       <span class="comment">// case only for META file, read until #RESOURCE= or # [ucd=]</span>
00668       <span class="keywordflow">if</span> ((last=text.length()) &gt; 7) {
00669         <span class="keywordflow">if</span> (*testCR) text.erase(--last);
00670         <span class="comment">// for META file with several tables, start of 2nd table</span>
00671         mot=<span class="stringliteral">"#RESOURCE="</span>;
00672         <span class="keywordflow">if</span> (text.find(mot) == 0) { found++; <span class="keywordflow">break</span>; }
00673         <span class="comment">// otherwise, remove heading spaces</span>
00674         <span class="keywordflow">for</span> (i=1; i&lt;last; i++) {
00675           <span class="keywordflow">if</span> ((text[i] != <span class="charliteral">' '</span>) &amp;&amp; (text[i] != 0x09)) <span class="keywordflow">break</span>;
00676         }
00677         mot=text.substr(i, last-i);
00678         <span class="comment">// before #Column, metaALL must end with following string</span>
00679         <span class="keywordflow">if</span> (mot == <span class="stringliteral">"[ucd=]"</span>) found++;
00680       }
00681       <span class="keywordflow">break</span>;
00682     }
00683 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
00684 <span class="preprocessor"></span>    std::cout &lt;&lt; *tot &lt;&lt;<span class="stringliteral">","</span>;
00685     <span class="keywordflow">if</span> (*tot &lt; 60ul) std::cout &lt;&lt; line &lt;&lt;<span class="stringliteral">"|\n"</span>;
00686 <span class="preprocessor">    #endif</span>
00687 <span class="preprocessor"></span>    err=-1*found;
00688     <span class="keywordflow">if</span> (*what &lt; 2) {
00689       <span class="keywordflow">if</span> (found == 5) { err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>; <span class="keywordflow">break</span>; }
00690     }
00691     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (found &gt; 5) { err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>; <span class="keywordflow">break</span>; }
00692 
00693   }<span class="comment">// loop on inFile lines</span>
00694 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00695 <span class="preprocessor"></span>  std::cout &lt;&lt; std::endl;
00696 <span class="preprocessor">  #endif</span>
00697 <span class="preprocessor"></span>
00698   <span class="keywordflow">return</span> err;
00699 }
</pre></div>    </td>
  </tr>
</table>
<a name="c28" doxytag="catalogAccess::Catalog::bitPosition"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned long catalogAccess::Catalog::bitPosition </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>k</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00727">727</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>.
<p>
<div class="fragment"><pre>00727                                                                  {
00728 
00729   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=1ul;
00730   <span class="keywordtype">int</span> pos=index+1; <span class="comment">// position of given criteria in isSelected vector</span>
00731   *k=(pos+1)/(<span class="keyword">sizeof</span>(long)*8);
00732   <span class="comment">// index of m_rowIsSelected with given criteria</span>
00733   <span class="keywordtype">int</span> i=pos+1-(*k)*<span class="keyword">sizeof</span>(long)*8;
00734   <span class="comment">// bit pos.of given criteria in m_rowIsSelected[k]</span>
00735   <span class="keywordtype">int</span> j=0;
00736   <span class="keywordflow">while</span> (j &lt; i) {test*=2ul; j++;}
00737 
00738   <span class="keywordflow">return</span> test;
00739 }
</pre></div>    </td>
  </tr>
</table>
<a name="c23" doxytag="catalogAccess::Catalog::checkCatName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkCatName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00618">618</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a15">catalogAccess::BAD_CATNAME</a>, <a class="el" href="catalog_8h-source.html#l00026">MAX_CAT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00481">getMaxNumRowsWeb()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>.
<p>
<div class="fragment"><pre>00619                                                           {
00620 
00621   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00622     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*i] == catName) <span class="keywordflow">return</span> i;
00623   }
00624   std::string errText;
00625   errText=<span class="stringliteral">"given Catalog name ("</span>+catName+<span class="stringliteral">") do not exist"</span>;
00626   <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00627   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a15">BAD_CATNAME</a>;
00628 }
</pre></div>    </td>
  </tr>
</table>
<a name="c22" doxytag="catalogAccess::Catalog::checkImport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkImport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isDone</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00596">596</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="namespacecatalog_access.html#a35a13">catalogAccess::IMPORT_BIS</a>, <a class="el" href="namespacecatalog_access.html#a35a14">catalogAccess::IMPORT_NEED</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00994">checkValWithinCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01732">createFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00756">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01131">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01305">getNameB()</a>, <a class="el" href="catalog_8cxx-source.html#l01293">getNameL()</a>, <a class="el" href="catalog_8cxx-source.html#l01318">getNameObjName()</a>, <a class="el" href="catalog_8cxx-source.html#l00549">getQuantityDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00562">getQuantityNames()</a>, <a class="el" href="catalog_8cxx-source.html#l00631">getQuantityTypes()</a>, <a class="el" href="catalog_8cxx-source.html#l00608">getQuantityUCDs()</a>, <a class="el" href="catalog_8cxx-source.html#l00585">getQuantityUnits()</a>, <a class="el" href="catalog_8cxx-source.html#l00655">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00667">getSysErrorName()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01156">importDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00794">includeN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00038">selectAllQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00260">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00775">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01150">useOnlyS()</a>.
<p>
<div class="fragment"><pre>00596                                                                          {
00597 
00598   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00599   <span class="keywordflow">if</span> (quantSize &gt; 0) {
00600     <span class="keywordflow">if</span> (isDone) <span class="keywordflow">return</span> quantSize;
00601     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt;= 0) {
00602       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(2, <span class="stringliteral">"deleting previous Catalog description"</span>);
00603       <a class="code" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a>();
00604       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>;
00605     }
00606     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"call 'deleteContent' before importing again"</span>);
00607     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a13">IMPORT_BIS</a>;
00608   }
00609   <span class="keywordflow">else</span> {
00610     <span class="keywordflow">if</span> (! isDone) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>;
00611     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
00612     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a14">IMPORT_NEED</a>;
00613   }
00614 }
</pre></div>    </td>
  </tr>
</table>
<a name="c3" doxytag="catalogAccess::Catalog::checkNUM"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkNUM </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>r</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>miss</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reject</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>precis</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00092">92</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>.
<p>
<div class="fragment"><pre>00093                                                                {
00094 
00095   <span class="comment">// since we test the NaN only once at the beginning</span>
00096   <span class="comment">// this methods MUST NOT be called if no criteria is applied</span>
00097   <span class="keywordflow">if</span> (isnan(r)) <span class="keywordflow">return</span> !reject;
00098 
00099   <span class="keywordtype">double</span> myLimit;
00100   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_lowerCut;
00101   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00102     <span class="keywordflow">if</span> (r &lt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00103   }
00104   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_upperCut;
00105   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00106     <span class="keywordflow">if</span> (r &gt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00107   }
00108 
00109   <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size();
00110   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00111     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;vecSize; i++) {
00112       myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN[i];
00113       <span class="keywordflow">if</span> (fabs(myLimit) &gt; NearZero) {
00114         <span class="keywordflow">if</span> (fabs(r/myLimit-1.0) &lt;= precis) <span class="keywordflow">return</span> !miss;
00115       }
00116       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(r) &lt;= precis) <span class="keywordflow">return</span> !miss;
00117       <span class="comment">// returns TRUE for inclusion (equality found)</span>
00118       <span class="comment">// returns FALSE for exclusion (difference found)</span>
00119     }
00120     <span class="keywordflow">return</span> miss;
00121     <span class="comment">// not in list: returns FALSE for inclusion, TRUE for exclusion</span>
00122   }
00123 
00124   <span class="comment">// empty list (interval exist): within interval</span>
00125   <span class="keywordflow">return</span> <span class="keyword">true</span>;
00126 }
</pre></div>    </td>
  </tr>
</table>
<a name="c4" doxytag="catalogAccess::Catalog::checkNUMor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkNUMor </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>r</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reject</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>precis</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00131">131</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>.
<p>
<div class="fragment"><pre>00132                                                                  {
00133 
00134   <span class="comment">// since we test the NaN only once at the beginning</span>
00135   <span class="comment">// this methods MUST NOT be called if no criteria is applied</span>
00136   <span class="keywordflow">if</span> (isnan(r)) <span class="keywordflow">return</span> !reject;
00137 
00138   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00139   <span class="keywordtype">double</span> myLimit;
00140   <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size();
00141   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00142     <span class="keywordtype">int</span> i;
00143     check=<span class="keyword">false</span>;
00144     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00145       myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN[i];
00146       <span class="keywordflow">if</span> (fabs(myLimit) &gt; NearZero) {
00147         <span class="keywordflow">if</span> (fabs(r/myLimit-1.0) &lt;= precis) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00148       }
00149       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fabs(r) &lt;= precis) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00150       <span class="comment">// returns TRUE for inclusion (equality found)</span>
00151       <span class="comment">// needn't check for upper/lower cut (OR condition)</span>
00152     }
00153   }
00154 
00155   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_lowerCut;
00156   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00157     check=<span class="keyword">true</span>; <span class="comment">// used with list</span>
00158     <span class="keywordflow">if</span> (r &lt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00159   }
00160 
00161   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_upperCut;
00162   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00163     check=<span class="keyword">true</span>; <span class="comment">// used with list</span>
00164     <span class="keywordflow">if</span> (r &gt; myLimit) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00165   }
00166 
00167   <span class="comment">// empty list  + within interval = TRUE</span>
00168   <span class="comment">// not in list + within interval = TRUE</span>
00169   <span class="comment">// not in list +   no  interval = FALSE</span>
00170   <span class="keywordflow">return</span> check;
00171 
00172 }
</pre></div>    </td>
  </tr>
</table>
<a name="c25" doxytag="catalogAccess::Catalog::checkQuant_name"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkQuant_name </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00649">649</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a23">catalogAccess::BAD_QUANT_NAME</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00994">checkValWithinCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00756">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01131">excludeS()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00745">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00655">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00771">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00667">getSysErrorName()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00794">includeN()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00872">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00842">minVal()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00260">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00775">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01150">useOnlyS()</a>.
<p>
<div class="fragment"><pre>00650                                                           {
00651 
00652   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00653   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++) {
00654     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name == name) <span class="keywordflow">return</span> i;
00655   }
00656   std::string errText;
00657   errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") do not exist"</span>;
00658   <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00659   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a23">BAD_QUANT_NAME</a>;
00660 }
</pre></div>    </td>
  </tr>
</table>
<a name="c2" doxytag="catalogAccess::Catalog::checkRegion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::checkRegion </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nRA</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nDEC</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00062">62</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.
<p>
<div class="fragment"><pre>00062                                                                        {
00063 
00064   <span class="comment">/* for the moment, only circle</span>
00065 <span class="comment">    if angle phi=RA and t=PI/2 - DEC then:</span>
00066 <span class="comment">    OM postion is x= (sin t &lt;=&gt; cos DEC) * cos phi</span>
00067 <span class="comment">                  y= (sin t &lt;=&gt; cos DEC) * sin phi</span>
00068 <span class="comment">                  z= (cos t &lt;=&gt; sin DEC)</span>
00069 <span class="comment">   and the circular region around OA is defined by</span>
00070 <span class="comment">   its scalar product with OM &gt; cos desired_angle</span>
00071 <span class="comment">  */</span>
00072   <span class="keywordtype">double</span> myRA=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[nRA].at(row);
00073   <span class="keywordtype">double</span> myDEC=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[nDEC].at(row);
00074   <span class="keywordflow">if</span> (isnan(myRA))  <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>].m_rejectNaN);
00075   <span class="keywordflow">if</span> (isnan(myDEC)) <span class="keywordflow">return</span> !(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>].m_rejectNaN);
00076   <span class="keywordtype">double</span> obj_cosP=cos(myRA * Angle_Conv);
00077   <span class="keywordtype">double</span> obj_sinP=sin(myRA * Angle_Conv);
00078   <span class="keywordtype">double</span> obj_sinT=cos(myDEC * Angle_Conv);
00079   <span class="keywordtype">double</span> obj_cosT=sin(myDEC * Angle_Conv);
00080   <span class="keywordtype">double</span> myAngle=obj_sinT*obj_cosP*<a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(2)*<a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(0)
00081                 +obj_sinT*obj_sinP*<a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(2)*<a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(1)
00082                 +obj_cosT*<a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(3);
00083 <span class="comment">/*std::cout &lt;&lt; "cos(angle)*1E6 = " &lt;&lt; myAngle*1E6 &lt;&lt; " ? "</span>
00084 <span class="comment">            &lt;&lt;  m_selEllipse.at(4)*1E6 &lt;&lt; std::endl;*/</span>
00085   <span class="keywordflow">if</span> (myAngle &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(4)) <span class="keywordflow">return</span> <span class="keyword">true</span>;
00086   <span class="keywordflow">return</span> <span class="keyword">false</span>;
00087 }
</pre></div>    </td>
  </tr>
</table>
<a name="c26" doxytag="catalogAccess::Catalog::checkSel_row"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkSel_row </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00664">664</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, and <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>.
<p>
<div class="fragment"><pre>00664                                                                         {
00665 
00666   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt;= 0) {
00667     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
00668     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>;
00669   }
00670   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> == 0) {
00671     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"no row is selected"</span>);
00672     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>;
00673   }
00674   <span class="keywordflow">if</span> ((srow &lt; 0) || (srow &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>)) {
00675     std::ostringstream sortie;
00676     sortie &lt;&lt; <span class="stringliteral">"row must be within [ 0, "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>-1 &lt;&lt; <span class="stringliteral">"]"</span>;
00677     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00678     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
00679   }
00680   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>;
00681 }
</pre></div>    </td>
  </tr>
</table>
<a name="c24" doxytag="catalogAccess::Catalog::checkSize_row"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkSize_row </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00632">632</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00745">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00771">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00872">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00842">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, and <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>.
<p>
<div class="fragment"><pre>00632                                                                         {
00633 
00634   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt;= 0) {
00635     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
00636     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>;
00637   }
00638   <span class="keywordflow">if</span> ((row &lt; 0) || (row &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>)) {
00639     std::ostringstream sortie;
00640     sortie &lt;&lt; <span class="stringliteral">"row must be within [ 0, "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>-1 &lt;&lt; <span class="stringliteral">"]"</span>;
00641     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00642     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
00643   }
00644   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>;
00645 }
</pre></div>    </td>
  </tr>
</table>
<a name="a66" doxytag="catalogAccess::Catalog::checkValWithinCut"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::checkValWithinCut </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutLow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutUp</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>checkResult</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00994">994</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00995                                                                            {
00996 
00997   *cutLow=<span class="keyword">false</span>;
00998   *cutUp=<span class="keyword">false</span>;
00999   *checkResult=0;
01000   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"checkValWithinCut"</span>;
01001   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01002   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
01003   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
01004   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01005   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
01006     std::string errText;
01007     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01008     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
01009     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
01010   }  
01011 
01012   <span class="keywordtype">double</span> myLimit, r=value;
01013   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_lowerCut;
01014   <span class="keywordflow">if</span> (fabs(value) &gt; NearZero)
01015     r+=value*<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01016   <span class="keywordflow">else</span>
01017     r+=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01018   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
01019     *cutLow=<span class="keyword">true</span>;
01020     <span class="keywordflow">if</span> (r &lt; myLimit) *checkResult=-2;
01021     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &lt; myLimit) *checkResult=-1;
01022   }
01023   r=value;
01024   myLimit=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_upperCut;
01025   <span class="keywordflow">if</span> (fabs(value) &gt; NearZero)
01026     r-=value*<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01027   <span class="keywordflow">else</span>
01028     r-=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
01029   <span class="keywordflow">if</span> (myLimit &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
01030     *cutUp=<span class="keyword">true</span>;
01031     <span class="keywordflow">if</span> (r &gt; myLimit) *checkResult=2;
01032     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &gt; myLimit) *checkResult=1;
01033   }
01034 
01035   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;  
01036 }
</pre></div>    </td>
  </tr>
</table>
<a name="c11" doxytag="catalogAccess::Catalog::create_tables"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::create_tables </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>nbQuantAscii</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00217">217</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00247">add_rows()</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>.
<p>
<div class="fragment"><pre>00217                                                   {
00218 
00219   <span class="keywordtype">int</span> vecSize;
00220   std::string errText;
00221   <span class="keywordflow">if</span> (nbQuantAscii &gt; 0) {
00222     <span class="keywordflow">try</span> {
00223       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.resize(nbQuantAscii);
00224     }
00225     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00226       errText=std::string(<span class="stringliteral">"EXCEPTION on m_strings: "</span>)+err.what();
00227       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"private create_tables"</span>, errText);
00228       <span class="keywordflow">throw</span>;
00229     }
00230   }
00231   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()-nbQuantAscii;
00232   <span class="keywordflow">if</span> (vecSize &gt; 0) {
00233     <span class="keywordflow">try</span> {
00234       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.resize(vecSize);
00235     }
00236     <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00237       errText=std::string(<span class="stringliteral">"EXCEPTION on m_numericals: "</span>)+err.what();
00238       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"private create_tables"</span>, errText);
00239       <span class="keywordflow">throw</span>;
00240     }
00241   }
00242   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a> &gt; 0) <a class="code" href="classcatalog_access_1_1_catalog.html#c12">add_rows</a>();
00243 
00244 }
</pre></div>    </td>
  </tr>
</table>
<a name="c21" doxytag="catalogAccess::Catalog::createFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::createFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>append</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>tip::Table **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ptrTable</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01732">1732</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a16">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a35a18">catalogAccess::BAD_FITS</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00046">catalogAccess::Key_UCD</a>, <a class="el" href="catalog__io_8cxx-source.html#l00043">catalogAccess::KeyCatal</a>, <a class="el" href="catalog__io_8cxx-source.html#l00045">catalogAccess::KeyTable</a>, <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="quantity_8h-source.html#l00090">catalogAccess::Quantity::m_comment</a>, <a class="el" href="quantity_8h-source.html#l00094">catalogAccess::Quantity::m_format</a>, <a class="el" href="quantity_8h-source.html#l00089">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8h-source.html#l00091">catalogAccess::Quantity::m_ucd</a>, <a class="el" href="quantity_8h-source.html#l00096">catalogAccess::Quantity::m_unit</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01863">saveFits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>.
<p>
<div class="fragment"><pre>01734                                              {
01735 
01736   <span class="keywordtype">char</span> name[9]; <span class="comment">/* 8 char maximum for header key */</span>
01737   std::string text, newName;
01738   <span class="keywordtype">int</span>  j, err;
01739   <span class="keywordtype">bool</span> create=<span class="keyword">true</span>;
01740 
01741   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01742   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01743 
01744   err=fileName.length();
01745   <span class="keywordflow">if</span> (err == 0) {
01746     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
01747     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01748     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01749   }
01750   <span class="keywordflow">if</span> (extName.length() &gt; 68) {
01751     text=<span class="stringliteral">": EXTENSION name is TOO long (limited to 68 characters)"</span>;
01752     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01753     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01754   }
01755   <span class="comment">// overwrite existing file ?</span>
01756   <span class="keywordflow">if</span> (!clobber) {
01757     std::fstream file;
01758     file.open(fileName.c_str(), std::ios::in);
01759     <span class="keywordflow">if</span> (file) {
01760       file.close();
01761       create=<span class="keyword">false</span>;
01762       <span class="keywordflow">if</span> (!append) {
01763         text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" exist (clobber=no, append=no)"</span>;
01764         <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01765         <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01766       }
01767       <span class="keywordflow">else</span> {
01768         text=<span class="stringliteral">"appending extension to existing FILENAME (method "</span>+origin+<span class="stringliteral">")"</span>;
01769         <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, text);
01770       }
01771     }
01772   }
01773   <span class="keywordflow">if</span> (extName.empty()) {
01774     <span class="comment">/* max length is 68, as keyword value starts/ends with ' in 11/80 */</span>
01775     newName=<a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>.substr(0,68);
01776     <span class="comment">/* replace forbidden char. */</span>
01777     err=newName.length();
01778     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01779       <span class="keywordflow">if</span> (newName[j] == <span class="charliteral">'/'</span>) newName[j]=<span class="charliteral">'_'</span>;
01780     }
01781     text=<span class="stringliteral">"EXTENSION name set to '"</span>+newName+<span class="stringliteral">"'"</span>;
01782     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, text); 
01783     err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01784   }
01785   <span class="keywordflow">else</span> newName=extName;
01786 
01787   <span class="keywordflow">try</span> {
01788     <span class="keywordflow">if</span> (create) IFileSvc::instance().createFile(fileName);
01789     IFileSvc::instance().appendTable(fileName, newName);
01790     (*ptrTable)=IFileSvc::instance().editTable(fileName, newName);
01791   }
01792   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01793     text=<span class="stringliteral">": cannot append and edit fits EXTENSION"</span>;
01794     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01795     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
01796   }
01797   Header &amp;header=(*ptrTable)-&gt;getHeader();
01798   <span class="keywordflow">try</span> {
01799     header.setKeyword(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0], <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>);
01800     header.setKeyComment(<a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[0], <a class="code" href="namespacecatalog_access.html#a2">KeyCatal</a>[1]);
01801     header.setKeyword(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0], <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>);
01802     header.setKeyComment(<a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[0], <a class="code" href="namespacecatalog_access.html#a3">KeyTable</a>[1]);
01803     <span class="comment">/* test </span>
01804 <span class="comment">    header.setKeyUnit(KeyTable[0], "deg");*/</span>
01805   }
01806   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01807     text=<span class="stringliteral">"fits EXTENSION, cannot add CDS header keys"</span>;
01808     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, text);
01809   }
01810   <span class="keywordflow">try</span> {
01811     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01812     <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01813       <span class="keyword">const</span> Quantity &amp;readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01814       <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01815         text=<span class="stringliteral">"1D"</span>;
01816         <span class="comment">/* to be improved for integers */</span>
01817       }
01818       <span class="keywordflow">else</span> {
01819         text=readQ.m_format;
01820         <span class="keywordflow">if</span> ( isalpha(readQ.m_format[0]) ) {
01821           text.erase(0,1);
01822           text=text+<span class="stringliteral">"A"</span>;
01823         }
01824       }
01825       (*ptrTable)-&gt;appendField(readQ.m_name, text);
01826       text=readQ.m_unit;
01827       <span class="keywordflow">if</span> ( !text.empty() ) {
01828         sprintf(name, <span class="stringliteral">"TUNIT%d"</span>, j+1);
01829         newName=name; <span class="comment">/* convert C string to C++ string */</span>
01830         header.setKeyword(newName, text);
01831         header.setKeyComment(newName, <span class="stringliteral">"physical unit of field"</span>);
01832       }
01833       sprintf(name, <span class="stringliteral">"%s%d"</span>, <a class="code" href="namespacecatalog_access.html#a4">Key_UCD</a>.c_str(), j+1);
01834       newName=name; <span class="comment">/* convert C string to C++ string */</span>
01835       header.setKeyword(newName, readQ.m_ucd);
01836       header.setKeyComment(newName, readQ.m_comment);
01837     }<span class="comment">/* loop on quantities */</span>
01838   }
01839   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01840     text=<span class="stringliteral">": fits EXTENSION, cannot add column"</span>;
01841     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01842     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
01843   }
01844 <span class="comment">/* NEED new tip methods</span>
01845 <span class="comment">  const IColumn *myCol = 0;</span>
01846 <span class="comment">  try {</span>
01847 <span class="comment">    for (j=0; j &lt; err; j++) {</span>
01848 <span class="comment">      const Quantity &amp;readQ=m_quantities[j];</span>
01849 <span class="comment">      myCol=(*ptrTable)-&gt;getColumn(j);</span>
01850 <span class="comment"></span>
01851 <span class="comment">    }</span>
01852 <span class="comment">  }</span>
01853 <span class="comment">  catch (const TipException &amp;x) {</span>
01854 <span class="comment">    text=": fits EXTENSION, cannot modify column description";</span>
01855 <span class="comment">    printErr(origin, text);</span>
01856 <span class="comment">    return BAD_FITS;</span>
01857 <span class="comment">  }</span>
01858 <span class="comment">*/</span>
01859   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01860 }
</pre></div>    </td>
  </tr>
</table>
<a name="c20" doxytag="catalogAccess::Catalog::createText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::createText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>origin</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01513">1513</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a16">catalogAccess::BAD_FILENAME</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01719">saveSelectedText()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01708">saveText()</a>.
<p>
<div class="fragment"><pre>01514                                                 {
01515   std::string  text;
01516   std::fstream file;
01517   <span class="keywordtype">int</span> err;
01518 
01519   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01520   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01521 
01522   err=fileName.length();
01523   <span class="keywordflow">if</span> (err == 0) {
01524     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
01525     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01526     err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01527     <span class="keywordflow">return</span> err;
01528   }
01529 
01530   <span class="comment">// overwrite existing file ?</span>
01531   <span class="keywordflow">if</span> (!clobber) {
01532     file.open(fileName.c_str(), std::ios::in);
01533     <span class="keywordflow">if</span> (file) {
01534       file.close();
01535       text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" exist (clobber=no)"</span>;
01536       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01537       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01538     }
01539     file.clear();  <span class="comment">// clears all flags associated with the current stream</span>
01540   }
01541   <span class="comment">// open in write mode, if the file already existed it is erased</span>
01542   file.open(fileName.c_str(), std::ios::out | std::ios::trunc);
01543   <span class="keywordflow">if</span> (!file) {
01544     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be written"</span>;
01545     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01546     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01547   }
01548 
01549   <span class="keywordtype">char</span> tab=0x09, sep=<span class="charliteral">';'</span>;
01550   <span class="keywordtype">int</span> j, vecSize;
01551   <span class="keywordtype">long</span> tot=0l, totData=0l;
01552   <span class="keywordtype">bool</span> saveAll=(origin == <span class="stringliteral">"saveText"</span>);
01553   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) saveAll=<span class="keyword">true</span>;
01554 
01555   file &lt;&lt; <span class="stringliteral">"#RESOURCE=catalogAccess("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a> &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
01556   file &lt;&lt; <span class="stringliteral">"#Name: "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a> &lt;&lt; std::endl;
01557   file &lt;&lt; <span class="stringliteral">"#Title:"</span> &lt;&lt; tab &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a> &lt;&lt; std::endl;
01558   file &lt;&lt; <span class="stringliteral">"#Name: "</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> &lt;&lt; std::endl;
01559   file &lt;&lt; <span class="stringliteral">"#Title:"</span> &lt;&lt; tab &lt;&lt;  <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a> &lt;&lt; std::endl;
01560   tot+=5;
01561   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01562   <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) {
01563     file &lt;&lt; <span class="stringliteral">"#Column"</span> &lt;&lt; tab &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_name &lt;&lt; tab &lt;&lt; <span class="stringliteral">"("</span>
01564          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_format &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; tab;
01565     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_name.length() &lt; 8) file &lt;&lt; <span class="stringliteral">"        "</span>;
01566     file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_comment &lt;&lt; tab &lt;&lt; <span class="stringliteral">"[ucd="</span>
01567          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_ucd &lt;&lt; <span class="stringliteral">"]"</span>
01568          &lt;&lt; std::endl;
01569   }
01570   file &lt;&lt; std::endl;
01571   tot+=vecSize+1;
01572   <span class="comment">// line do NOT end with separator</span>
01573   <span class="keywordflow">for</span> (j=0; j&lt;vecSize-1; j++) {
01574     file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_name &lt;&lt; sep;
01575   }
01576   file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_name &lt;&lt; std::endl;
01577   <span class="keywordflow">for</span> (j=0; j&lt;vecSize-1; j++) {
01578     file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_unit &lt;&lt; sep;
01579   }
01580   file &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_unit &lt;&lt; std::endl;
01581   file &lt;&lt; <span class="stringliteral">"---"</span> &lt;&lt; std::endl;
01582   tot+=3;
01583   <span class="keywordflow">try</span> {
01584     <span class="keywordtype">int</span> i, len, bufSize=0;
01585     <span class="keywordtype">char</span> first, *buffer=NULL;
01586     std::vector&lt;std::string&gt; formats(vecSize, <span class="stringliteral">"%s"</span>);
01587     std::vector&lt;int&gt;         lengths(vecSize, 0);
01588     std::ostringstream sortie;
01589     <span class="keywordtype">double</span> r;
01590     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) { 
01591       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_format;
01592       j=text.length();
01593       <span class="keywordflow">if</span> (j == 0) <span class="keywordflow">continue</span>;
01594       first=text[0];
01595       text.erase(0, 1);
01596       j=std::atoi(text.c_str());
01597       <span class="keywordflow">if</span> (j &lt;= 0) <span class="keywordflow">continue</span>;
01598       lengths[i]=j;
01599       <span class="keywordflow">if</span> (j &gt; bufSize) {
01600         bufSize=j;
01601         buffer=(<span class="keywordtype">char</span> *)realloc(buffer, bufSize*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));
01602         <span class="keywordflow">if</span> (buffer == NULL)
01603           <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"Cannot allocate string buffer"</span>);
01604       }
01605       <span class="keywordflow">switch</span> (first) {
01606       <span class="keywordflow">case</span> <span class="charliteral">'A'</span>:
01607         sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">"s"</span>;
01608         formats[i]=sortie.str();
01609         <span class="keywordflow">break</span>;
01610       <span class="keywordflow">case</span> <span class="charliteral">'I'</span>:
01611         sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">".0f"</span>;
01612         formats[i]=sortie.str();
01613         <span class="keywordflow">break</span>;
01614       <span class="keywordflow">case</span> <span class="charliteral">'F'</span>:  <span class="comment">// number of decimals is needed from CSV/TSV</span>
01615         <span class="keywordflow">if</span> (i == <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>)
01616           sortie &lt;&lt; <span class="stringliteral">"%0"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"f"</span>;
01617         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>)
01618           sortie &lt;&lt; <span class="stringliteral">"%+0"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"f"</span>;
01619         <span class="keywordflow">else</span> sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"f"</span>;
01620         formats[i]=sortie.str();
01621         <span class="keywordflow">break</span>;
01622       <span class="keywordflow">default</span> :  <span class="comment">// number of decimals is needed from CSV/TSV</span>
01623         sortie &lt;&lt; <span class="stringliteral">"%"</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">"e"</span>;
01624         formats[i]=sortie.str();
01625         <span class="keywordflow">break</span>;
01626       }
01627       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string</span>
01628     }
01629     <span class="comment">// all the quantities have their sprintf format</span>
01630     <span class="comment">// IF their lengths[] is positive</span>
01631     <span class="keywordflow">if</span> (saveAll) {
01632 
01633       <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; k++) <span class="keywordflow">for</span> (j=0; j&lt;vecSize; ) {
01634         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_type == Quantity::NUM) {
01635           r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_index].at(k);
01636           <span class="keywordflow">if</span> (isnan(r)) {
01637             len=lengths[j];
01638             <span class="keywordflow">if</span> (len == 0) len=1;
01639             file &lt;&lt; std::setw(len+1) &lt;&lt; std::setfill(<span class="charliteral">' '</span>);
01640           }
01641           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
01642             sprintf(buffer, formats[j].c_str(), r);
01643             file.write(buffer, lengths[j]);
01644           }
01645           <span class="keywordflow">else</span> file &lt;&lt; r;
01646         }
01647         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_type == Quantity::STRING) {
01648           text=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_index].at(k);
01649           <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
01650             sprintf(buffer, formats[j].c_str(), text.c_str());
01651             file.write(buffer, lengths[j]);
01652           }
01653           <span class="keywordflow">else</span> file &lt;&lt; text;
01654         }
01655         <span class="keywordflow">if</span> (++j == vecSize) file &lt;&lt; std::endl; <span class="keywordflow">else</span> file &lt;&lt; sep;
01656       } <span class="comment">// loop on rows and quantities</span>
01657 
01658     }
01659     <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01660 
01661       <span class="keywordflow">for</span> (j=0; j&lt;vecSize; ) {
01662         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_type == Quantity::NUM) {
01663           r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_index].at(k);
01664           <span class="keywordflow">if</span> (isnan(r)) {
01665             len=lengths[j];
01666             <span class="keywordflow">if</span> (len == 0) len=1;
01667             file &lt;&lt; std::setw(len+1) &lt;&lt; std::setfill(<span class="charliteral">' '</span>);
01668           }
01669           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
01670             sprintf(buffer, formats[j].c_str(), r);
01671             file.write(buffer, lengths[j]);
01672           }
01673           <span class="keywordflow">else</span> file &lt;&lt; r;
01674         }
01675         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_type == Quantity::STRING) {
01676           text=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j].m_index].at(k);
01677           <span class="keywordflow">if</span> (lengths[j] &gt; 0) {
01678             sprintf(buffer, formats[j].c_str(), text.c_str());
01679             file.write(buffer, lengths[j]);
01680           }
01681           <span class="keywordflow">else</span> file &lt;&lt; text;
01682         }
01683         <span class="keywordflow">if</span> (++j == vecSize) file &lt;&lt; std::endl; <span class="keywordflow">else</span> file &lt;&lt; sep;
01684       }
01685       totData++;
01686       <span class="keywordflow">if</span> (totData == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>;
01687 
01688     } <span class="comment">// loop on rows and quantities, selected branch</span>
01689 
01690     <span class="keywordflow">if</span> (saveAll) tot+=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; <span class="keywordflow">else</span> tot+=<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>;
01691     <span class="keywordflow">if</span> (buffer != NULL) free(buffer);
01692   }
01693   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01694     text=std::string(<span class="stringliteral">"EXCEPTION writing rows in file: "</span>)+prob.what();
01695     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01696     <span class="keywordflow">throw</span>;
01697   }
01698   file &lt;&lt; std::endl;
01699   tot++;
01700   file.close();
01701   std::ostringstream sortie; 
01702   sortie &lt;&lt; <span class="stringliteral">"output text file is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines written)"</span>;
01703   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01704   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;  
01705 }
</pre></div>    </td>
  </tr>
</table>
<a name="a41" doxytag="catalogAccess::Catalog::dec_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::dec_deg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>inSelection</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01191">1191</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a35a21">catalogAccess::NO_RA_DEC</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01191                                                                             {
01192 
01193   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"dec_deg"</span>;
01194   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a> &lt; 0) {
01195     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0)
01196       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01197     <span class="keywordflow">else</span>
01198       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"missing generic DEC position quantity"</span>);
01199     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a21">NO_RA_DEC</a>;
01200   }
01201   <span class="keywordtype">int</span> num;
01202   <span class="keywordflow">if</span> (!inSelection) {
01203     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
01204     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01205     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>].m_index;
01206     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
01207   }
01208   <span class="keywordflow">else</span> {
01209     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, row);
01210     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01211     <span class="keywordtype">long</span> tot=0;
01212     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>].m_index;
01213     <span class="comment">// first bit indicates global selection</span>
01214     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01215       <span class="keywordflow">if</span> (tot == row) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(k); <span class="keywordflow">break</span>; }
01216       tot++;
01217     }
01218     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
01219   }
01220   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01221 }
</pre></div>    </td>
  </tr>
</table>
<a name="a23" doxytag="catalogAccess::Catalog::deleteContent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteContent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00066">66</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, and <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01171">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01286">eraseSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>, <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>, and <a class="el" href="catalog_8h-source.html#l00584">~Catalog()</a>.
<p>
<div class="fragment"><pre>00066                             {
00067 
00068   <span class="keywordtype">int</span> vecSize, i;
00069   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
00070   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00071   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
00072   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00073     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[i].clear();
00074     <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.clear();
00075   }
00076   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
00077   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00078     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].clear();
00079     <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.clear();
00080   }
00081   vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
00082   <span class="keywordflow">if</span> (vecSize &gt; 0 ) {
00083     <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].clear();
00084     <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.clear();
00085   }
00086 }
</pre></div>    </td>
  </tr>
</table>
<a name="c0" doxytag="catalogAccess::Catalog::deleteDescription"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteDescription </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00089">89</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a14">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00379">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00436">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00381">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00380">m_posErrSys</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00414">m_selection</a>, <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00419">m_selRegion</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, <a class="el" href="catalog_8h-source.html#l00373">m_URL</a>, and <a class="el" href="catalog_8h-source.html#l00378">myFile</a>.
<p>
Referenced by <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, and <a class="el" href="catalog_8h-source.html#l00584">~Catalog()</a>.
<p>
<div class="fragment"><pre>00089                                 {
00090 
00091   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=<span class="stringliteral">""</span>;
00092   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a> =<span class="stringliteral">""</span>;
00093   <a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>   =<span class="stringliteral">""</span>;
00094   <a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>    =<span class="stringliteral">""</span>;
00095   <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a> =<span class="stringliteral">""</span>;
00096   <a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>  =<span class="stringliteral">""</span>;
00097   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.is_open() ) <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.close();
00098   <a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>   =0;
00099   <a class="code" href="classcatalog_access_1_1_catalog.html#o8">m_posErrSys</a> = -1.0;
00100   <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0;  <span class="comment">// "deg" by default</span>
00101   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.clear();
00102   <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.clear();
00103 
00104   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>   =<a class="code" href="namespacecatalog_access.html#a35a14">IMPORT_NEED</a>;
00105   <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>=0;
00106   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=0;
00107   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_selection</a>=<span class="stringliteral">""</span>;
00108   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a>=<span class="keyword">false</span>;
00109   <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.clear();
00110   <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>= -1;
00111   <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a> = -1;
00112   <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>= -1;
00113 }
</pre></div>    </td>
  </tr>
</table>
<a name="c1" doxytag="catalogAccess::Catalog::deleteQuantities"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::deleteQuantities </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00117">117</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00026">MAX_CAT</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>.
<p>
<div class="fragment"><pre>00117                                {
00118 
00119   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
00120   <span class="keywordtype">int</span>  nbA=0, nbD=0;
00121 
00122   <span class="keywordflow">if</span> (maxSize != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()) {
00123     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"deleteQuantities"</span>,
00124              <span class="stringliteral">"problem in code, this error should not occur"</span>);
00125     <span class="keywordflow">return</span>;
00126   }
00127   <span class="comment">/* these vectors can be set if import was succesful with 0 row */</span>
00128   <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.clear();
00129   <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.clear();
00130   <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.clear();
00131   std::vector&lt;Quantity&gt;::iterator quantIter;
00132   quantIter=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin();
00133   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;maxSize; i++) {
00134     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>[i]) {<span class="comment">/* change the index in 2D tables */</span>
00135       <span class="keywordflow">if</span> ((*quantIter).m_format[0] == <span class="charliteral">'A'</span>) (*quantIter).m_index=nbA++;
00136       <span class="keywordflow">else</span> (*quantIter).m_index=nbD++;
00137       quantIter++;
00138     }
00139     <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.erase(quantIter);
00140   }<span class="comment">/* loop on quantities */</span>
00141   <span class="comment">/* now that index have changed, update the index shortcuts */</span>
00142   <span class="keywordflow">for</span> (nbA=0; nbA&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; nbA++) {
00143     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*nbA+1] == <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>) <span class="keywordflow">break</span>;
00144   }
00145   <a class="code" href="classcatalog_access_1_1_catalog.html#c10">setGeneric</a>(nbA);
00146 }
</pre></div>    </td>
  </tr>
</table>
<a name="c8" doxytag="catalogAccess::Catalog::doSelN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::doSelN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00654">654</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00756">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00794">includeN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00775">useOnlyN()</a>.
<p>
<div class="fragment"><pre>00655                                                       {
00656 
00657   std::ostringstream sortie;
00658   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed=<span class="keyword">false</span>;
00659   <span class="keywordtype">bool</span> miss;
00660   <span class="comment">// take only first 7 char to match possible generic functions</span>
00661   <span class="keywordflow">if</span> (code &amp; 1) {
00662     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">false</span>;
00663     miss=<span class="keyword">false</span>;
00664     sortie &lt;&lt; <span class="stringliteral">"Include rows"</span>;
00665   }
00666   <span class="keywordflow">else</span> {
00667     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">true</span>;
00668     miss=<span class="keyword">true</span>;
00669     sortie &lt;&lt; <span class="stringliteral">"Exclude rows"</span>;
00670   }
00671   <span class="keywordtype">int</span> listSize=listVal.size();
00672   <span class="comment">/* if empty list as before: exit */</span>
00673   <span class="keywordflow">if</span> (listSize == 0) {
00674     <span class="comment">// if NO list, m_cutORed has no effect (false method quicker)</span>
00675     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00676   }
00677   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code &gt; 1)
00678     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed=<span class="keyword">true</span>;
00679 
00680   <span class="keywordtype">int</span> j;
00681   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.clear();
00682   <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
00683      <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.push_back(listVal.at(j));
00684 
00685   <span class="comment">/* if no data: exit */</span>
00686   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00687 
00688   std::vector&lt;bool&gt; isSelected;
00689   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00690   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00691   <span class="keywordflow">if</span> (listSize == 0) {
00692     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, <span class="stringliteral">"Disabling list selection (on "</span>+name+<span class="stringliteral">")"</span>);
00693     <span class="keywordflow">if</span> (!oneCriteria) {
00694       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
00695         listSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
00696         <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
00697           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
00698       }
00699       <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00700       check=<span class="keyword">false</span>;
00701       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00702     }
00703   }
00704   <span class="keywordflow">else</span> {
00705     sortie &lt;&lt; <span class="stringliteral">" with \""</span> &lt;&lt; name &lt;&lt;<span class="stringliteral">"\" around value in list ("</span>
00706            &lt;&lt; listSize &lt;&lt; <span class="stringliteral">" elements, "</span>;
00707     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed)
00708       sortie &lt;&lt; <span class="stringliteral">"ORed with cut)"</span>;
00709     <span class="keywordflow">else</span>
00710       sortie &lt;&lt; <span class="stringliteral">"ANDed with cut)"</span>;
00711     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
00712   }
00713   
00714   <span class="keywordflow">if</span> (check) {
00715     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00716          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed;
00717     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00718     <span class="keywordtype">int</span>  k,
00719          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00720     <span class="keywordtype">long</span> i;
00721     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00722     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00723     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00724     oneCriteria=isSelected.at(index+1);
00725     <span class="keywordflow">if</span> (oneCriteria) {
00726 
00727       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00728       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00729         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00730           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00731         <span class="keywordflow">else</span>
00732           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00733         <span class="comment">// setting required bit</span>
00734         <span class="keywordflow">if</span> (check)
00735           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
00736         <span class="keywordflow">else</span>
00737           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00738         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00739       }<span class="comment">// loop on rows</span>
00740 
00741     }
00742     <span class="keywordflow">else</span> {
00743 
00744       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00745         <span class="comment">// required bit set to FALSE</span>
00746         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00747         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00748       }<span class="comment">// loop on rows</span>
00749 
00750     }
00751   }
00752   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;  
00753 }
</pre></div>    </td>
  </tr>
</table>
<a name="c7" doxytag="catalogAccess::Catalog::doSelS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::doSelS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>list</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>exact</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01041">1041</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l01131">excludeS()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01150">useOnlyS()</a>.
<p>
<div class="fragment"><pre>01042                                                                         {
01043 
01044   std::ostringstream sortie;
01045   <span class="keywordtype">bool</span> miss;
01046   <span class="keywordflow">if</span> (code &amp; 1) {
01047     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">false</span>; <span class="comment">// set but unused for string</span>
01048     miss=<span class="keyword">false</span>;
01049     sortie &lt;&lt; <span class="stringliteral">"Include rows"</span>;
01050   }
01051   <span class="keywordflow">else</span> {
01052     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList=<span class="keyword">true</span>; <span class="comment">// set but unused for string</span>
01053     miss=<span class="keyword">true</span>;
01054     sortie &lt;&lt; <span class="stringliteral">"Exclude rows"</span>;
01055   }
01056   <span class="keywordtype">int</span> listSize=list.size();
01057   <span class="keywordflow">if</span> ((!listSize) &amp;&amp; (!<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.size())) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01058   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.clear();
01059   <span class="keywordtype">int</span> j;
01060   int (*pfunc)(int)=tolower; <span class="comment">// function used by transform</span>
01061   std::string mot;
01062   <span class="keywordflow">if</span> (exact) {
01063     <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
01064       <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.push_back(list.at(j));
01065   }
01066   <span class="keywordflow">else</span> {
01067     <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) {
01068       mot=list.at(j);
01069       transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01070       <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS.push_back(mot);
01071     }
01072   }
01073 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01074 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
01075     std::cout &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS[j] &lt;&lt; <span class="stringliteral">"|"</span>;
01076   std::cout &lt;&lt;<span class="stringliteral">"caseless="</span>&lt;&lt; exact &lt;&lt; std::endl;
01077 <span class="preprocessor">  #endif</span>
01078 <span class="preprocessor"></span>
01079   <span class="comment">/* if no data: exit */</span>
01080   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01081 
01082   std::vector&lt;bool&gt; isSelected;
01083   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
01084   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
01085   <span class="keywordflow">if</span> (listSize == 0) {
01086     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, <span class="stringliteral">"Disabling list selection (on "</span>+name+<span class="stringliteral">")"</span>);
01087     <span class="keywordflow">if</span> (!oneCriteria) {
01088       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
01089         listSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
01090         <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++)
01091           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
01092       }
01093       <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
01094       check=<span class="keyword">false</span>;
01095       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
01096     }
01097   }
01098   <span class="keywordflow">else</span> {
01099     sortie &lt;&lt; <span class="stringliteral">" with \""</span> &lt;&lt; name &lt;&lt;<span class="stringliteral">"\" string in list ("</span>
01100            &lt;&lt; listSize &lt;&lt; <span class="stringliteral">" elements, "</span>;
01101     <span class="keywordflow">if</span> (exact) sortie &lt;&lt; <span class="stringliteral">"exact match)"</span>; <span class="keywordflow">else</span> sortie &lt;&lt; <span class="stringliteral">"caseless match)"</span>; 
01102     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
01103   }
01104   
01105   <span class="keywordflow">if</span> (check) {
01106     <span class="keywordtype">int</span> k, pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
01107     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
01108     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
01109     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
01110 
01111       mot=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[pos].at(i);
01112       <span class="keywordflow">if</span> (!exact) transform(mot.begin(), mot.end(), mot.begin(), pfunc);
01113       check=miss;
01114       <span class="keywordflow">for</span> (j=0; j&lt;listSize; j++) {
01115          <span class="keywordflow">if</span> (mot == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValS[j]) {check=!miss; <span class="keywordflow">break</span>;}
01116       }
01117       <span class="comment">// setting required bit</span>
01118       <span class="keywordflow">if</span> (check)
01119         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
01120       <span class="keywordflow">else</span>
01121         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
01122       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
01123  
01124     }<span class="comment">// loop on rows</span>
01125   }
01126 
01127   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01128 }
</pre></div>    </td>
  </tr>
</table>
<a name="a67" doxytag="catalogAccess::Catalog::eraseNonSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::eraseNonSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01171">1171</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01171                               {
01172 
01173   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"eraseNonSelected"</span>;
01174   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt;= 0) {
01175     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
01176     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; 
01177   }
01178   <span class="comment">// test below avoid deleting NOTHING</span>
01179   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) {
01180     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"all rows selected, nothing done"</span>);
01181     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>; 
01182   }
01183   <span class="comment">// log if ALL is deleted</span>
01184   std::string text;
01185   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> == 0) {
01186     text=<span class="stringliteral">"no row selected, calling deleteContent()"</span>;
01187     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(2, text);
01188     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
01189     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01190   }
01191   <span class="keywordflow">try</span> {
01192     <span class="keywordtype">long</span> i, tot=0;
01193     <span class="keywordtype">int</span> j;
01194     <span class="keywordtype">int</span> sizeS=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
01195     <span class="keywordtype">int</span> sizeN=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
01196     <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
01197     <span class="comment">// to speed-up, will not change (avoid reading size in loop)</span>
01198 
01199     std::vector&lt;std::vector&lt;double&gt; &gt; myNum;
01200     myNum.resize(sizeN);
01201     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>, 0.0);
01202     std::vector&lt;std::vector&lt;std::string&gt; &gt; myStr;
01203     myStr.resize(sizeS);
01204     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>, <span class="stringliteral">""</span>);
01205     std::vector&lt;std::vector&lt;unsigned long&gt; &gt; myBits;
01206     myBits.resize(vecSize);
01207     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>, 0ul);
01208     <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
01209       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01210         <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(i);
01211         <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(i);
01212         <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].at(i);
01213         <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01214       }
01215     }
01216     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) {
01217       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].begin(),
01218                              myNum[j].begin(), myNum[j].end());
01219       myNum[j].clear();
01220     }
01221     myNum.clear();
01222     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) {
01223       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].begin(),
01224                           myStr[j].begin(), myStr[j].end());
01225       myStr[j].clear();
01226     }
01227     myStr.clear();
01228     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)  {
01229       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].begin(),
01230                                 myBits[j].begin(), myBits[j].end());
01231       myBits[j].clear();
01232     }
01233     myBits.clear();
01234 <span class="comment">/* if (!keepCriteria) {</span>
01235 <span class="comment">    for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].assign(m_numSelRows, 0);</span>
01236 <span class="comment">    vecSize=m_quantities.size();</span>
01237 <span class="comment">    for (i=0; i&lt;vecSize; i++) {</span>
01238 <span class="comment">      m_quantities.at(i).m_listValS.clear();</span>
01239 <span class="comment">      m_quantities.at(i).m_lowerCut=NO_SEL_CUT;</span>
01240 <span class="comment">      m_quantities.at(i).m_upperCut=NO_SEL_CUT;</span>
01241 <span class="comment">      m_quantities.at(i).m_listValN.clear();</span>
01242 <span class="comment">    }</span>
01243 <span class="comment">    m_selRegion=false;</span>
01244 <span class="comment">*/</span>
01245 <span class="comment">/*  THIS METHOD IS VERY VERY LONG </span>
01246 <span class="comment">    std::vector&lt; std::vector&lt;std::string&gt;::iterator &gt; stringIter;</span>
01247 <span class="comment">    std::vector&lt; std::vector&lt;double&gt;::iterator &gt; doubleIter;</span>
01248 <span class="comment">    for (j=0; j&lt;sizeS; j++) stringIter.push_back(m_strings[j].begin());</span>
01249 <span class="comment">    for (j=0; j&lt;sizeN; j++) doubleIter.push_back(m_numericals[j].begin());</span>
01250 <span class="comment">    if (keepCriteria) {</span>
01251 <span class="comment"></span>
01252 <span class="comment">      std::vector&lt; std::vector&lt;unsigned long&gt;::iterator &gt; myIter;</span>
01253 <span class="comment">      for (j=0; j&lt;vecSize; j++) myIter.push_back(m_rowIsSelected[j].begin());</span>
01254 <span class="comment">      for (i=0; i&lt;m_numRows; i++) {</span>
01255 <span class="comment">        if (!(*myIter[0] &amp; 1)) {</span>
01256 <span class="comment">          for (j=0; j&lt;sizeS; j++) m_strings[j].erase(stringIter[j]);</span>
01257 <span class="comment">          for (j=0; j&lt;sizeN; j++) m_numericals[j].erase(doubleIter[j]);</span>
01258 <span class="comment">          for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].erase(myIter[j]);</span>
01259 <span class="comment">        }</span>
01260 <span class="comment">        else {</span>
01261 <span class="comment">          for (j=0; j&lt;sizeS; j++) stringIter.at(j)++;</span>
01262 <span class="comment">          for (j=0; j&lt;sizeN; j++) doubleIter.at(j)++;</span>
01263 <span class="comment">          for (j=0; j&lt;vecSize; j++) myIter.at(j)++;</span>
01264 <span class="comment">        }</span>
01265 <span class="comment">      }</span>
01266 <span class="comment">      stringIter.clear();</span>
01267 <span class="comment">      doubleIter.clear();</span>
01268 <span class="comment">      myIter.clear();</span>
01269 <span class="comment">*/</span>
01270   }
01271   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01272     text=<span class="stringliteral">"EXCEPTION erasing m_strings, m_numericals or m_rowIsSelected: "</span>;
01273     text=text+prob.what();
01274     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01275     <span class="keywordflow">throw</span>;
01276   }
01277   std::ostringstream sortie;
01278   sortie &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &lt;&lt; <span class="stringliteral">" row(s) deleted"</span>;
01279   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01280   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>;
01281   <span class="comment">//if (!keepCriteria) m_numSelRows=0;</span>
01282   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01283 }
</pre></div>    </td>
  </tr>
</table>
<a name="a68" doxytag="catalogAccess::Catalog::eraseSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::eraseSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01286">1286</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01286                            {
01287 
01288   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"eraseSelected"</span>;
01289   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt;= 0) {
01290     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"catalog is empty"</span>);
01291     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; 
01292   }
01293   <span class="comment">// test below avoid deleting NOTHING</span>
01294   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> == 0) {
01295     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"no row selected, nothing done"</span>);
01296     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>; 
01297   }
01298   <span class="comment">// log if ALL is deleted</span>
01299   std::string text;
01300   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) {
01301     text=<span class="stringliteral">"all rows selected, calling deleteContent()"</span>;
01302     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(2, text);
01303     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
01304     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01305   }
01306   <span class="keywordflow">try</span> {
01307     <span class="keywordtype">long</span> i, tot=0,
01308          numRows=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>;
01309     <span class="keywordtype">int</span> j;
01310     <span class="keywordtype">int</span> sizeS=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
01311     <span class="keywordtype">int</span> sizeN=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
01312     <span class="keywordtype">int</span> vecSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
01313     <span class="comment">// to speed-up, will not change (avoid reading size in loop)</span>
01314 
01315     std::vector&lt;std::vector&lt;double&gt; &gt; myNum;
01316     myNum.resize(sizeN);
01317     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].assign(numRows, 0.0);
01318     std::vector&lt;std::vector&lt;std::string&gt; &gt; myStr;
01319     myStr.resize(sizeS);
01320     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].assign(numRows, <span class="stringliteral">""</span>);
01321     std::vector&lt;std::vector&lt;unsigned long&gt; &gt; myBits;
01322     myBits.resize(vecSize);
01323     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].assign(numRows, 0ul);
01324     <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
01325       <span class="keywordflow">if</span> (!(<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1)) {
01326         <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) myNum[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(i);
01327         <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) myStr[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(i);
01328         <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++) myBits[j].at(tot)=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].at(i);
01329         <span class="keywordflow">if</span> (++tot == numRows) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01330       }
01331     }
01332     <span class="keywordflow">for</span> (j=0; j&lt;sizeN; j++) {
01333       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].begin(),
01334                              myNum[j].begin(), myNum[j].end());
01335       myNum[j].clear();
01336     }
01337     myNum.clear();
01338     <span class="keywordflow">for</span> (j=0; j&lt;sizeS; j++) {
01339       <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].begin(),
01340                           myStr[j].begin(), myStr[j].end());
01341       myStr[j].clear();
01342     }
01343     myStr.clear();
01344     <span class="keywordflow">for</span> (j=0; j&lt;vecSize; j++)  {
01345       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].insert(<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].begin(),
01346                                 myBits[j].begin(), myBits[j].end());
01347       myBits[j].clear();
01348     }
01349     myBits.clear();
01350 <span class="comment">/* if (!keepCriteria) {</span>
01351 <span class="comment">    for (j=0; j&lt;vecSize; j++) m_rowIsSelected[j].assign(numRows, 0);</span>
01352 <span class="comment">    vecSize=m_quantities.size();</span>
01353 <span class="comment">    for (i=0; i&lt;vecSize; i++) {</span>
01354 <span class="comment">      m_quantities.at(i).m_listValS.clear();</span>
01355 <span class="comment">      m_quantities.at(i).m_lowerCut=NO_SEL_CUT;</span>
01356 <span class="comment">      m_quantities.at(i).m_upperCut=NO_SEL_CUT;</span>
01357 <span class="comment">      m_quantities.at(i).m_listValN.clear();</span>
01358 <span class="comment">    }</span>
01359 <span class="comment">    m_selRegion=false;</span>
01360 <span class="comment">*/</span>
01361   }
01362   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01363     text=<span class="stringliteral">"EXCEPTION erasing m_strings, m_numericals or m_rowIsSelected: "</span>;
01364     text=text+prob.what();
01365     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01366     <span class="keywordflow">throw</span>;
01367   }
01368   std::ostringstream sortie;
01369   sortie &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &lt;&lt; <span class="stringliteral">" row(s) deleted"</span>;
01370   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01371   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>-<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>;
01372   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
01373   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01374 }
</pre></div>    </td>
  </tr>
</table>
<a name="a60" doxytag="catalogAccess::Catalog::excludeN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::excludeN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00756">756</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00757                                                         {
00758 
00759   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"excludeN"</span>, <span class="keyword">true</span>);
00760   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> done;
00761   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"excludeN"</span>, name);
00762   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00763 
00764   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00765     std::string errText;
00766     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00767     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"excludeN"</span>, errText);
00768     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00769   }
00770   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c8">doSelN</a>(name, index, 0, listVal);
00771   <span class="keywordflow">return</span> done;
00772 }
</pre></div>    </td>
  </tr>
</table>
<a name="a58" doxytag="catalogAccess::Catalog::excludeS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::excludeS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>slist</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>exact</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01131">1131</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01132                                                                           {
01133 
01134   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"excludeS"</span>, <span class="keyword">true</span>);
01135   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> done;
01136   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"excludeS"</span>, name);
01137   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01138 
01139   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::STRING) {  
01140     std::string errText;
01141     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01142     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"excludeS"</span>, errText);
01143     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
01144   }
01145   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c7">doSelS</a>(name, index, 0, list, exact);
01146   <span class="keywordflow">return</span> done;
01147 }
</pre></div>    </td>
  </tr>
</table>
<a name="c27" doxytag="catalogAccess::Catalog::existCriteria"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::existCriteria </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; bool &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>quantSel</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [inline, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00685">685</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00419">m_selRegion</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>.
<p>
<div class="fragment"><pre>00685                                                             {
00686 
00687   <span class="keywordtype">bool</span> all=<span class="keyword">false</span>;
00688   std::vector&lt;Quantity&gt;::const_iterator itQ;
00689   quantSel-&gt;clear();
00690   <span class="keywordflow">try</span> {
00691     <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a>) quantSel-&gt;push_back(<span class="keyword">false</span>);
00692     <span class="keywordflow">else</span> { all=<span class="keyword">true</span>;  quantSel-&gt;push_back(<span class="keyword">true</span>); }
00693     <span class="keywordflow">for</span> (itQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.begin(); itQ != <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.end(); itQ++) {
00694 
00695       <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::STRING) {
00696         <span class="keywordflow">if</span> (itQ-&gt;m_listValS.size() &gt; 0) {
00697           all=<span class="keyword">true</span>;
00698           quantSel-&gt;push_back(<span class="keyword">true</span>);
00699         }
00700         <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00701       }
00702 
00703       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (itQ-&gt;m_type == Quantity::NUM) {
00704         <span class="keywordflow">if</span> ( (itQ-&gt;m_lowerCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>)||(itQ-&gt;m_upperCut &lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>)
00705             || (itQ-&gt;m_listValN.size() &gt; 0) ) {
00706           all=<span class="keyword">true</span>;
00707           quantSel-&gt;push_back(<span class="keyword">true</span>);
00708         }
00709         <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00710       }
00711 
00712       <span class="keywordflow">else</span> quantSel-&gt;push_back(<span class="keyword">false</span>);
00713       <span class="comment">// VECTOR quantity are selected by the quantities in m_vectorQs</span>
00714 
00715     }<span class="comment">// loop on quantities</span>
00716   }
00717   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00718     std::string errText=std::string(<span class="stringliteral">"EXCEPTION on boolean vector: "</span>)+err.what();
00719     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"private existCriteria"</span>, errText);
00720     <span class="keywordflow">throw</span>;
00721   }
00722   <span class="keywordflow">return</span> all;
00723 }
</pre></div>    </td>
  </tr>
</table>
<a name="a15" doxytag="catalogAccess::Catalog::getCatalogTitles"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getCatalogTitles </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>titles</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00531">531</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00374">m_catName</a>, <a class="el" href="catalog_8h-source.html#l00375">m_catRef</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00377">m_tableRef</a>, and <a class="el" href="catalog_8h-source.html#l00373">m_URL</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00531                                                            {
00532 
00533   <span class="keywordtype">int</span> nb=titles-&gt;size();
00534   <span class="keywordflow">if</span> (nb == 0) titles-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>);
00535   <span class="keywordflow">else</span> (*titles)[0]=<a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>;
00536   <span class="keywordflow">if</span> (nb &gt; 1) (*titles)[1]=<a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>;       <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00537   <span class="keywordflow">if</span> (nb &gt; 2) (*titles)[2]=<a class="code" href="classcatalog_access_1_1_catalog.html#o2">m_catName</a>;   <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00538   <span class="keywordflow">if</span> (nb &gt; 3) (*titles)[3]=<a class="code" href="classcatalog_access_1_1_catalog.html#o3">m_catRef</a>;    <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00539   <span class="keywordflow">if</span> (nb &gt; 4) (*titles)[4]=<a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00540   <span class="keywordflow">if</span> (nb &gt; 5) (*titles)[5]=<a class="code" href="classcatalog_access_1_1_catalog.html#o5">m_tableRef</a>;  <span class="keywordflow">else</span> <span class="keywordflow">return</span>;
00541 }
</pre></div>    </td>
  </tr>
</table>
<a name="d0" doxytag="catalogAccess::Catalog::getCatList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getCatList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>names</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isCode</em> = true</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00288">288</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00026">MAX_CAT</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00288                                                                        {
00289 
00290   names-&gt;clear();
00291 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00292 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG number of known catalogs: "</span> &lt;&lt; <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>
00293             &lt;&lt; std::endl;
00294 <span class="preprocessor">  #endif</span>
00295 <span class="preprocessor"></span>  std::string text;
00296   <span class="keywordtype">int</span> j=1;
00297   <span class="keywordflow">if</span> (isCode) j=0;
00298   <span class="keywordflow">try</span> {
00299     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
00300       text=Catalog::s_CatalogList[2*i+j]; <span class="comment">/* convert C string to C++ string */</span>
00301       names-&gt;push_back(text);
00302     }
00303   }
00304   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00305     text=std::string(<span class="stringliteral">"EXCEPTION filling names: "</span>)+prob.what();
00306     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"getCatList"</span>, text);
00307     <span class="keywordflow">throw</span>;
00308   }
00309 }
</pre></div>    </td>
  </tr>
</table>
<a name="a3" doxytag="catalogAccess::Catalog::getMaxNumRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getMaxNumRows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00347">347</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="namespacecatalog_access.html#a35a19">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a35a16">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a35a17">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_LINE</a>, <a class="el" href="catalog_8h-source.html#l00378">myFile</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00347                                                                  {
00348 
00349   <span class="keywordtype">int</span> i, err;
00350   std::string text, origin=<span class="stringliteral">"getMaxNumRows"</span>;
00351   *nrows=0;
00352   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">false</span>);
00353   <span class="comment">// after this check, m_numReadRows is 0</span>
00354   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
00355 
00356   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
00357   i=fileName.length();
00358   <span class="keywordflow">if</span> (i == 0) {
00359     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00360     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00361     err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
00362     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
00363     <span class="keywordflow">return</span> err;
00364   }
00365   <span class="keywordflow">if</span> (fileName.at(i-1) == <span class="charliteral">']'</span>) {
00366     <span class="comment">// file should be a fits;</span>
00367  
00368     text=<span class="stringliteral">": fits FILE not handled now"</span>;
00369     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00370     err=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>;
00371     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
00372     <span class="keywordflow">return</span> err;
00373   }
00374   <span class="keywordflow">else</span> {
00375 
00376     std::ostringstream sortie;
00377     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of lines read</span>
00378     <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>; <span class="comment">// true if lines ends with CR (on windows)</span>
00379     <span class="keywordtype">int</span> what=0;        <span class="comment">// 0 for unkwown, &gt;0 for csv, &lt;0 to tsv</span>
00380                        <span class="comment">// fabs()=1 for standard, =2 for meta QUERY</span>
00381 
00382     <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.is_open() ) <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.close();
00383     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.open(fileName.c_str(), std::ios::in);
00384     <span class="comment">// file can be opened ?</span>
00385     <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.is_open() ) {
00386       text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be opened"</span>;
00387       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00388       err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
00389       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
00390       <span class="keywordflow">return</span> err;
00391     }
00392 <span class="comment">/*    DIR *testDir=opendir(fileName.c_str());</span>
00393 <span class="comment">    if (testDir != NULL) {</span>
00394 <span class="comment">      closedir(testDir);</span>
00395 <span class="comment">      myFile.close();</span>
00396 <span class="comment">      text=": FILENAME \""+fileName+"\" is a directory";</span>
00397 <span class="comment">      printErr(origin, text);</span>
00398 <span class="comment">      err=BAD_FILETYPE;</span>
00399 <span class="comment">      m_numRows=err;</span>
00400 <span class="comment">      return err;</span>
00401 <span class="comment">    }*/</span>
00402     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c15">analyze_head</a>(&amp;tot, &amp;what, &amp;testCR);
00403     <span class="keywordflow">if</span> (!tot) {
00404       text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" is fits without extension[] specified"</span>;
00405       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00406       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
00407       <span class="comment">// in case, for strange reason, file.good() fails at first time</span>
00408     }
00409     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) {
00410       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is empty or "</span>
00411              &lt;&lt; <span class="stringliteral">"has unknown structure (stopped step "</span> &lt;&lt; -1*err &lt;&lt; <span class="stringliteral">")"</span>;
00412       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
00413       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00414       <span class="keywordflow">if</span> (err == 0) err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>; <span class="comment">/* nothing is read */</span>
00415       <span class="keywordflow">else</span> err=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>; <span class="comment">/* can search if catalog name exist */</span>
00416     }
00417     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (what == 2) {
00418       sortie &lt;&lt; <span class="stringliteral">"closing input META file ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>;
00419       sortie &lt;&lt; <span class="stringliteral">" rows in whole CDS catalog)"</span>;
00420       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
00421     }
00422     <span class="keywordflow">else</span> {
00423       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> refRow=0ul;
00424       <span class="comment">// get columns description and units, data</span>
00425       err=<a class="code" href="classcatalog_access_1_1_catalog.html#c16">analyze_body</a>(&amp;tot, &amp;what, testCR, <span class="keyword">true</span>);
00426       <span class="comment">// only possible error: found &lt; 4</span>
00427       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) {
00428         <span class="comment">// decription is read until separation line starting with ---</span>
00429         <span class="keywordtype">char</span> line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
00430         <span class="keywordtype">int</span>  posC,
00431              maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1; <span class="comment">// to avoid computation each line</span>
00432         refRow=tot+1;
00433         <span class="keywordflow">while</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.good() ) {
00434           <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
00435           tot++;
00436           i=strlen(line);
00437           <span class="keywordflow">if</span> (i &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// in any case, stop on empty string contrary to</span>
00438                             <span class="comment">//  load() which continues, skipping lines</span>
00439           <span class="comment">// string max size is MAX_LINE-1;</span>
00440           <span class="keywordflow">if</span> (i &gt;= maxLine) {
00441             sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
00442                    &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
00443             <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
00444             sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00445             err=<a class="code" href="namespacecatalog_access.html#a35a19">BAD_FILELINE</a>;
00446             <span class="keywordflow">break</span>;
00447           }
00448           <span class="comment">//if (testCR) line[--i]='\0';</span>
00449           posC=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
00450           <span class="keywordflow">if</span> (posC == 0) {
00451             <span class="comment">// should not happen, normally preceded by empty lines</span>
00452             sortie &lt;&lt; <span class="stringliteral">"line #"</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
00453             <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00454             sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00455             err=<a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
00456             <span class="keywordflow">break</span>;
00457           }
00458         }
00459         <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>) err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00460       }<span class="comment">// analyze_body() is OK</span>
00461  
00462       <span class="keywordflow">if</span> ((err &lt; IS_OK) &amp;&amp; (err &gt;= -3)) {
00463         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName
00464             &lt;&lt; <span class="stringliteral">"\" has unknown type (stopped step "</span> &lt;&lt; 5-1*err &lt;&lt; <span class="stringliteral">")"</span>;
00465         <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
00466         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
00467         err=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>;
00468       }
00469       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) *nrows=tot-refRow;
00470       sortie &lt;&lt; <span class="stringliteral">"closing input text file: "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines read"</span>;
00471       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
00472     }<span class="comment">// analyze_head() is OK</span>
00473 
00474   }<span class="comment">// file is read</span>
00475 
00476   <a class="code" href="classcatalog_access_1_1_catalog.html#c0">deleteDescription</a>(); <span class="comment">// close input file if left opened</span>
00477   <span class="keywordflow">return</span> err;
00478 }
</pre></div>    </td>
  </tr>
</table>
<a name="a4" doxytag="catalogAccess::Catalog::getMaxNumRowsWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getMaxNumRowsWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nrows</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em> = "cds"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00481">481</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a20">catalogAccess::BAD_URL</a>, <a class="el" href="catalog_8h-source.html#l00618">checkCatName()</a>, <a class="el" href="catalog_8h-source.html#l00028">MAX_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
<div class="fragment"><pre>00482                                                        {
00483 
00484   <span class="keywordtype">int</span> i, err;
00485   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00486   std::string web, text, origin=<span class="stringliteral">"getMaxNumRowsWeb"</span>;
00487   *nrows=0;
00488   err=<a class="code" href="namespacecatalog_access.html#a35a20">BAD_URL</a>;
00489   <span class="keywordflow">if</span> (urlCode.length() == 0) {
00490     text=<span class="stringliteral">": CODE for URL (web http address) is empty"</span>;
00491     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00492     <span class="keywordflow">return</span> err;
00493   }
00494   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00495     text=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00496     pos=text.find(<span class="charliteral">' '</span>);
00497     <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">continue</span>;
00498     <span class="keywordflow">if</span> (text.substr(0, pos) == urlCode) <span class="keywordflow">break</span>;
00499   }
00500   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a2">MAX_URL</a>) {
00501     text=<span class="stringliteral">": CODE for URL (web http address) do not exist"</span>;
00502     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00503     <span class="keywordflow">return</span> err;
00504   }
00505   pos=text.rfind(<span class="charliteral">' '</span>);
00506   <span class="keywordflow">if</span> (pos == std::string::npos) web=text;
00507   <span class="keywordflow">else</span> web=text.substr(pos+1, text.length()-pos);
00508 
00509   <span class="keywordtype">int</span> iCat=<a class="code" href="classcatalog_access_1_1_catalog.html#c23">checkCatName</a>(origin, catName);
00510   <span class="keywordflow">if</span> (iCat &lt; 0) <span class="keywordflow">return</span> iCat;
00511 
00512 <span class="comment">/* IS IT REALLY NEEDED ?</span>
00513 <span class="comment">  err=checkImport(origin, false);</span>
00514 <span class="comment">  if (err &lt; IS_VOID) return err;</span>
00515 <span class="comment">*/</span>
00516 <span class="comment">/* now, ASCII query must be created</span>
00517 <span class="comment">  and sent, using CDS package to given URL</span>
00518 <span class="comment">*/</span>
00519   err=-9;
00520   text=<span class="stringliteral">"Web query not implemented"</span>;
00521   <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00522 
00523   <span class="keywordflow">return</span> err;
00524 }
</pre></div>    </td>
  </tr>
</table>
<a name="a47" doxytag="catalogAccess::Catalog::getNameB"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameB </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01305">1305</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
<div class="fragment"><pre>01305                             {
01306   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameB"</span>;
01307   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01308   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01309   <span class="keywordtype">int</span> i;
01310   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01311     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01312         (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_ucd == Catalog::s_genericB))
01313       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name;
01314   }
01315   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01316 }
</pre></div>    </td>
  </tr>
</table>
<a name="a44" doxytag="catalogAccess::Catalog::getNameDEC"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameDEC </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01272">1272</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01272                               {
01273   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a> &lt; 0) {
01274     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0)
01275       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getNameDEC"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01276     <span class="keywordflow">else</span>
01277       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getNameDEC"</span>, <span class="stringliteral">"missing generic DEC position quantity"</span>);
01278     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01279   }
01280   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>].m_name;
01281 }
</pre></div>    </td>
  </tr>
</table>
<a name="a46" doxytag="catalogAccess::Catalog::getNameL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameL </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01293">1293</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
<div class="fragment"><pre>01293                             {
01294   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameL"</span>;
01295   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01296   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01297   <span class="keywordtype">int</span> i;
01298   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01299     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01300         (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_ucd == Catalog::s_genericL))
01301       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name;
01302   }
01303   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01304 }
</pre></div>    </td>
  </tr>
</table>
<a name="a48" doxytag="catalogAccess::Catalog::getNameObjName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameObjName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01318">1318</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
<div class="fragment"><pre>01318                                   {
01319   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNameObjName"</span>;
01320   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01321   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01322   <span class="keywordtype">int</span> i;
01323   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
01324     <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_isGeneric) &amp;&amp;
01325         (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_type == Quantity::STRING))
01326       <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_name;
01327   }
01328   <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01329 }
</pre></div>    </td>
  </tr>
</table>
<a name="a45" doxytag="catalogAccess::Catalog::getNamePosErr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNamePosErr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01282">1282</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00436">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01282                                  {
01283   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>&lt; 0) {
01284     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0)
01285       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getNamePosErr"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01286     <span class="keywordflow">else</span>
01287       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getNamePosErr"</span>, <span class="stringliteral">"missing generic position error quantity"</span>);
01288     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01289   }
01290   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>].m_name;
01291 }
</pre></div>    </td>
  </tr>
</table>
<a name="a43" doxytag="catalogAccess::Catalog::getNameRA"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::getNameRA </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01262">1262</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01262                              {
01263   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a> &lt; 0) {
01264     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0)
01265       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getNameRA"</span>, <span class="stringliteral">"must first use one 'import' method"</span>);
01266     <span class="keywordflow">else</span>
01267       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getNameRA"</span>, <span class="stringliteral">"missing generic RA position quantity"</span>);
01268     <span class="keywordflow">return</span> <span class="stringliteral">""</span>;
01269   }
01270   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>].m_name;
01271 }
</pre></div>    </td>
  </tr>
</table>
<a name="a24" doxytag="catalogAccess::Catalog::getNumRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getNumRows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>nrows</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00687">687</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00687                                     {
00688 
00689   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0) *nrows=0;
00690   <span class="keywordflow">else</span> *nrows=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>;
00691 }
</pre></div>    </td>
  </tr>
</table>
<a name="a32" doxytag="catalogAccess::Catalog::getNumSelRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getNumSelRows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>nrows</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00903">903</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00903                                        {
00904 
00905  *nrows=<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>;
00906 }
</pre></div>    </td>
  </tr>
</table>
<a name="a26" doxytag="catalogAccess::Catalog::getNValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getNValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00718">718</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00719                                         {
00720 
00721   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getNValue"</span>;
00722   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
00723   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00724   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00725   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00726   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {  
00727     std::string errText;
00728     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00729     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00730     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00731   }
00732   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00733 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00734 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00735 <span class="preprocessor">  #endif</span>
00736 <span class="preprocessor"></span>  *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
00737   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00738 }
</pre></div>    </td>
  </tr>
</table>
<a name="a16" doxytag="catalogAccess::Catalog::getQuantityDescription"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityDescription </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>myQuantities</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00549">549</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00549                                                                      {
00550 
00551   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"getQuantityDescription"</span>, <span class="keyword">true</span>);
00552   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) {
00553     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"getQuantityDescription"</span>, <span class="stringliteral">"returning unchanged vector."</span>);
00554     <span class="keywordflow">return</span> quantSize;
00555   }
00556   *myQuantities=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>;
00557   <span class="keywordflow">return</span> quantSize;
00558 }
</pre></div>    </td>
  </tr>
</table>
<a name="a17" doxytag="catalogAccess::Catalog::getQuantityNames"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityNames </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>names</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00562">562</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00562                                                          {
00563 
00564   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityNames"</span>;
00565   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00566   names-&gt;clear();
00567   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) {
00568     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00569     <span class="keywordflow">return</span> quantSize;
00570   }
00571   <span class="keywordflow">try</span> {
00572     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00573       names-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_name);
00574   }
00575   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00576     std::string errText;
00577     errText=std::string(<span class="stringliteral">"EXCEPTION on names: "</span>)+err.what();
00578     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, errText);
00579     <span class="keywordflow">throw</span>;
00580   }
00581   <span class="keywordflow">return</span> quantSize;
00582 }
</pre></div>    </td>
  </tr>
</table>
<a name="a20" doxytag="catalogAccess::Catalog::getQuantityTypes"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityTypes </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; <a class="el" href="classcatalog_access_1_1_quantity.html#s3">Quantity::QuantityType</a> &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>types</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00631">631</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00631                                                                     {
00632 
00633   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityTypes"</span>;
00634   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00635   types-&gt;clear();
00636   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) {
00637     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00638     <span class="keywordflow">return</span> quantSize;
00639   } 
00640   <span class="keywordflow">try</span> {
00641     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00642       types-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_type);
00643   }
00644   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00645     std::string errText;
00646     errText=std::string(<span class="stringliteral">"EXCEPTION on types: "</span>)+err.what();
00647     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, errText);
00648     <span class="keywordflow">throw</span>;
00649   }
00650   <span class="keywordflow">return</span> quantSize;
00651 }
</pre></div>    </td>
  </tr>
</table>
<a name="a19" doxytag="catalogAccess::Catalog::getQuantityUCDs"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityUCDs </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>ucds</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00608">608</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00608                                                         {
00609 
00610   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityUCDs"</span>;
00611   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00612   ucds-&gt;clear();
00613   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) {
00614     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00615     <span class="keywordflow">return</span> quantSize;
00616   } 
00617   <span class="keywordflow">try</span> {
00618     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00619       ucds-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_ucd);
00620   }
00621   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00622     std::string errText;
00623     errText=std::string(<span class="stringliteral">"EXCEPTION on ucds: "</span>)+err.what();
00624     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, errText);
00625     <span class="keywordflow">throw</span>;
00626   }
00627   <span class="keywordflow">return</span> quantSize;
00628 }
</pre></div>    </td>
  </tr>
</table>
<a name="a18" doxytag="catalogAccess::Catalog::getQuantityUnits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getQuantityUnits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>units</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00585">585</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00585                                                          {
00586 
00587   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getQuantityUnits"</span>;
00588   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00589   units-&gt;clear();
00590   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) {
00591     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"returning empty vector."</span>);
00592     <span class="keywordflow">return</span> quantSize;
00593   } 
00594   <span class="keywordflow">try</span> {
00595     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;quantSize; i++)
00596       units-&gt;push_back(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_unit);
00597   }
00598   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00599     std::string errText;
00600     errText=std::string(<span class="stringliteral">"EXCEPTION on units: "</span>)+err.what();
00601     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, errText);
00602     <span class="keywordflow">throw</span>;
00603   }
00604   <span class="keywordflow">return</span> quantSize;
00605 }
</pre></div>    </td>
  </tr>
</table>
<a name="a5" doxytag="catalogAccess::Catalog::getRAMsize"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::getRAMsize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>numRows</em> = 44000, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>writeLog</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00158">158</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a14">catalogAccess::IMPORT_NEED</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01297">importWeb()</a>.
<p>
<div class="fragment"><pre>00158                                                                 {
00159 
00160   std::string mot, text;
00161   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00162   <span class="keywordflow">if</span> (quantSize == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a14">IMPORT_NEED</a>;
00163 
00164   <span class="keywordtype">int</span> nD=0, nS=0, nchar=0;
00165   <span class="keywordtype">int</span> i, j;
00166   <span class="keywordflow">for</span> (i=0; i&lt;quantSize; i++) {
00167     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_type == Quantity::NUM) nD++;
00168     <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_type == Quantity::STRING) {
00169       nS++;
00170       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_format;
00171       <span class="keywordflow">if</span> (text.length() &gt; 1) {
00172         text.erase(0, 1);
00173         j=std::atoi(text.c_str());
00174         <span class="keywordflow">if</span> (j &lt;= 0) <span class="keywordflow">continue</span>;        
00175         nchar+=j;
00176       }
00177     }
00178   }
00179   <span class="keywordtype">char</span> buffer[50];
00180   <span class="keywordtype">long</span> sizeD=nD*<span class="keyword">sizeof</span>(double)*numRows;
00181   <span class="keywordtype">long</span> sizeS=nchar*<span class="keyword">sizeof</span>(char)*numRows;
00182   i=1+(quantSize+1)/(<span class="keyword">sizeof</span>(long)*8);
00183   <span class="keywordtype">long</span> sizeB=i*<span class="keyword">sizeof</span>(long)*numRows;
00184   <span class="keywordflow">if</span> (writeLog &amp;&amp; (<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a> &gt; 0)) {
00185     sprintf(buffer, <span class="stringliteral">"%6ld"</span>, <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>);
00186     mot=buffer; <span class="comment">/* convert C string to C++ string */</span>
00187     text=<span class="stringliteral">"Original whole catalog number of rows = "</span>+mot;
00188     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, text);
00189   }
00190   <span class="keywordflow">if</span> (numRows &lt;= 0) <span class="keywordflow">return</span> 0;
00191   <span class="keywordflow">if</span> (writeLog) {
00192     sprintf(buffer, <span class="stringliteral">"%6ld"</span>, numRows);
00193     mot=buffer; <span class="comment">/* convert C string to C++ string */</span>
00194     text=<span class="stringliteral">"Needed RAM space (MB) for "</span>+mot;
00195     sprintf(buffer, <span class="stringliteral">"%5.1f"</span>, (sizeD+sizeS+sizeB)/(1024.*1024.));
00196     mot=buffer;
00197     text=text+<span class="stringliteral">" data rows = "</span>+mot+<span class="stringliteral">"\n"</span>;
00198     sprintf(buffer, <span class="stringliteral">"%5.0f kB for numericals (%3d double per row)"</span>,
00199                    sizeD/1024., nD);
00200     mot=buffer;
00201     text=text+mot+<span class="stringliteral">"\n"</span>;
00202     sprintf(buffer, <span class="stringliteral">"%5.0f kB for %2d strings (%3d char per row)"</span>,
00203                    sizeS/1024., nS, nchar);
00204     mot=buffer;
00205     text=text+mot+<span class="stringliteral">"\n"</span>;
00206     sprintf(buffer, <span class="stringliteral">"%5.0f kB for select bits (%2d long per row)"</span>,
00207                    sizeB/1024., i);
00208     mot=buffer;
00209     text=text+mot;
00210     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, text);
00211   }
00212   <span class="keywordflow">return</span> (sizeD+sizeS+sizeB);
00213 }
</pre></div>    </td>
  </tr>
</table>
<a name="a34" doxytag="catalogAccess::Catalog::getSelNValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelNValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00938">938</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00939                                            {
00940 
00941   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelNValue"</span>;
00942   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, srow);
00943   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00944   <span class="comment">// above test avoid searching for srow when no row is selected</span>
00945   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00946   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00947   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {  
00948     std::string errText;
00949     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00950     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00951     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00952   }
00953   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00954   <span class="keywordtype">long</span> tot=0;
00955   <span class="comment">// first bit indicates global selection</span>
00956   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
00957     <span class="keywordflow">if</span> (tot == srow) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
00958     tot++;
00959     <span class="comment">//if (tot == m_numSelRows) break; should not happen</span>
00960   }
00961   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00962   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
00963 }
</pre></div>    </td>
  </tr>
</table>
<a name="a35" doxytag="catalogAccess::Catalog::getSelStatError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelStatError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValStat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00970">970</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a35a25">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00971                                                   {
00972 
00973   *realValStat = -1.0;
00974   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelStatError"</span>;
00975   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, srow);
00976   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00977   <span class="comment">// above test avoid searching for srow when no row is selected</span>
00978   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00979   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00980   std::string statName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_statError;
00981   <span class="keywordflow">if</span> (statName.empty()) {;
00982     statName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no statistical error"</span>;
00983     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, statName);
00984     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a25">NO_QUANT_ERR</a>;
00985   }
00986   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, statName);
00987   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00988   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00989 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00990 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM STAT index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00991 <span class="preprocessor">  #endif</span>
00992 <span class="preprocessor"></span>  <span class="keywordtype">long</span> tot=0;
00993   <span class="comment">// first bit indicates global selection</span>
00994   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
00995     <span class="keywordflow">if</span> (tot == srow) { *realValStat=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
00996     tot++;
00997   }
00998   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00999   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
01000 }
</pre></div>    </td>
  </tr>
</table>
<a name="a33" doxytag="catalogAccess::Catalog::getSelSValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>stringVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00910">910</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00911                                                 {
00912 
00913   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSValue"</span>;
00914   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, srow);
00915   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00916   <span class="comment">// above test avoid searching for srow when no row is selected</span>
00917   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00918   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00919   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00920     std::string errText;
00921     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00922     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00923     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00924   }
00925   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00926   <span class="keywordtype">long</span> tot=0;
00927   <span class="comment">// first bit indicates global selection</span>
00928   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
00929     <span class="keywordflow">if</span> (tot == srow) { *stringVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(i); <span class="keywordflow">break</span>; }
00930     tot++;
00931     <span class="comment">//if (tot == m_numSelRows) break; should not happen</span>
00932   }
00933   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00934   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
00935 }
</pre></div>    </td>
  </tr>
</table>
<a name="a37" doxytag="catalogAccess::Catalog::getSelSValues"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSValues </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>values</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01043">1043</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01044                                                          {
01045 
01046   values-&gt;clear();
01047   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSValues"</span>;
01048   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, 0);
01049   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01050   <span class="comment">// above test avoid searching when no row is selected</span>
01051   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
01052   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01053   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
01054     std::string errText;
01055     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01056     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
01057     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
01058   }
01059   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01060   std::string text;
01061   <span class="keywordflow">try</span> {
01062     <span class="keywordtype">long</span> j, max=0, tot=0;
01063     <span class="comment">// first bit indicates global selection</span>
01064     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01065       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(i);
01066       <span class="keywordflow">if</span> (max == 0) {values-&gt;assign(1, text); max++;}
01067       <span class="keywordflow">else</span> {
01068         <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (values-&gt;at(j) == text) <span class="keywordflow">break</span>;
01069         <span class="keywordflow">if</span> (j == max) {values-&gt;push_back(text); max++;}
01070       }
01071       <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01072     }
01073   }
01074   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
01075     text=std::string(<span class="stringliteral">"EXCEPTION on values: "</span>)+err.what();
01076     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01077     <span class="keywordflow">throw</span>;
01078   }
01079   <span class="keywordflow">return</span> values-&gt;size();
01080 }
</pre></div>    </td>
  </tr>
</table>
<a name="a36" doxytag="catalogAccess::Catalog::getSelSysError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSelSysError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>srow</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValSys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01003">1003</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a35a25">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01004                                                  {
01005 
01006   *realValSys = -1.0;
01007   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSelSysError"</span>;
01008   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, srow);
01009   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01010   <span class="comment">// above test avoid searching for srow when no row is selected</span>
01011   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
01012   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01013   std::string sysName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_sysError;
01014   <span class="keywordflow">if</span> (sysName.empty()) {;
01015     sysName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no systematic error"</span>;
01016     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sysName);
01017     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a25">NO_QUANT_ERR</a>;
01018   }
01019   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, sysName);
01020   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01021   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01022 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
01023 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM SYS. index = "</span> &lt;&lt; num &lt;&lt; std::endl;
01024 <span class="preprocessor">  #endif</span>
01025 <span class="preprocessor"></span>  <span class="keywordtype">long</span> tot=0;
01026   <span class="comment">// first bit indicates global selection</span>
01027   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01028     <span class="keywordflow">if</span> (tot == srow) { *realValSys=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); <span class="keywordflow">break</span>; }
01029     tot++;
01030   }
01031   <span class="keywordflow">if</span> (tot &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01032   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
01033 }
</pre></div>    </td>
  </tr>
</table>
<a name="a27" doxytag="catalogAccess::Catalog::getStatError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getStatError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValStat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00745">745</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="namespacecatalog_access.html#a35a25">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00746                                                {
00747 
00748   *realValStat = -1.0;
00749   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getStatError"</span>;
00750   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
00751   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00752   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00753   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00754   std::string statName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_statError;
00755   <span class="keywordflow">if</span> (statName.empty()) {;
00756     statName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no statistical error"</span>;
00757     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, statName);
00758     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a25">NO_QUANT_ERR</a>;
00759   }
00760   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, statName);
00761   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00762   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00763 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00764 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM STAT index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00765 <span class="preprocessor">  #endif</span>
00766 <span class="preprocessor"></span>  *realValStat=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
00767   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00768 }
</pre></div>    </td>
  </tr>
</table>
<a name="a21" doxytag="catalogAccess::Catalog::getStatErrorName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getStatErrorName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>statErrName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00655">655</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00656                                                       {
00657 
00658   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"getStatErrorName"</span>, <span class="keyword">true</span>);
00659   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00660   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"getStatErrorName"</span>, name);
00661   <span class="keywordflow">if</span> (quantSize &lt; 0) <span class="keywordflow">return</span> quantSize;
00662   *statErrName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(quantSize).m_statError;
00663   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00664 }
</pre></div>    </td>
  </tr>
</table>
<a name="a25" doxytag="catalogAccess::Catalog::getSValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSValue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>stringVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00695">695</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00696                                              {
00697 
00698   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSValue"</span>;
00699   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
00700   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00701   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00702   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00703   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00704     std::string errText;
00705     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00706     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00707     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00708   }
00709   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00710 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00711 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG STRING index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00712 <span class="preprocessor">  #endif</span>
00713 <span class="preprocessor"></span>  *stringVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(row);
00714   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00715 }
</pre></div>    </td>
  </tr>
</table>
<a name="a29" doxytag="catalogAccess::Catalog::getSValues"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSValues </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>values</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00805">805</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00806                                                       {
00807 
00808   values-&gt;clear();
00809   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSValues"</span>;
00810   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, 0);
00811   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00812   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00813   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00814   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::STRING) {
00815     std::string errText;
00816     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
00817     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00818     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00819   }
00820   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00821   std::string text;
00822   <span class="keywordflow">try</span> {
00823     values-&gt;assign(1, <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(0));
00824     <span class="keywordtype">long</span> i, j, max;
00825     <span class="keywordflow">for</span> (i=1; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00826       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[num].at(i);
00827       max=values-&gt;size();
00828       <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (values-&gt;at(j) == text) <span class="keywordflow">break</span>;
00829       <span class="keywordflow">if</span> (j == max) values-&gt;push_back(text);
00830     }
00831   }
00832   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;err) {
00833     text=std::string(<span class="stringliteral">"EXCEPTION on values: "</span>)+err.what();
00834     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00835     <span class="keywordflow">throw</span>;
00836   }
00837   <span class="keywordflow">return</span> values-&gt;size();
00838 }
</pre></div>    </td>
  </tr>
</table>
<a name="a28" doxytag="catalogAccess::Catalog::getSysError"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSysError </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realValSys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00771">771</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="namespacecatalog_access.html#a35a25">catalogAccess::NO_QUANT_ERR</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00772                                                {
00773 
00774   *realValSys = -1.0;
00775   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"getSysError"</span>;
00776   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
00777   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00778   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00779   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00780   std::string sysName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_sysError;
00781   <span class="keywordflow">if</span> (sysName.empty()) {
00782     sysName=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") has no systematic error"</span>;
00783     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sysName);
00784     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a25">NO_QUANT_ERR</a>;
00785   }
00786   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, sysName);
00787   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00788   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00789 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00790 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG NUM SYS. index = "</span> &lt;&lt; num &lt;&lt; std::endl;
00791 <span class="preprocessor">  #endif</span>
00792 <span class="preprocessor"></span>  *realValSys=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
00793   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00794 }
</pre></div>    </td>
  </tr>
</table>
<a name="a22" doxytag="catalogAccess::Catalog::getSysErrorName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::getSysErrorName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>std::string *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sysErrName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00667">667</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00668                                                     {
00669 
00670   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"getSysErrorName"</span>, <span class="keyword">true</span>);
00671   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00672   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"getSysErrorName"</span>, name);
00673   <span class="keywordflow">if</span> (quantSize &lt; 0) <span class="keywordflow">return</span> quantSize;
00674   *sysErrName=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(quantSize).m_sysError;
00675   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00676 }
</pre></div>    </td>
  </tr>
</table>
<a name="d1" doxytag="catalogAccess::Catalog::getWebList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::getWebList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; std::string &gt; *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>names</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>isCode</em> = true</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00312">312</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00028">MAX_URL</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00312                                                                        {
00313 
00314   names-&gt;clear();
00315 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00316 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">"!! DEBUG number of web sites: "</span> &lt;&lt; <a class="code" href="catalog_8h.html#a2">MAX_URL</a>
00317             &lt;&lt; std::endl;
00318 <span class="preprocessor">  #endif</span>
00319 <span class="preprocessor"></span>  std::string text;
00320   <span class="keywordflow">try</span> {
00321     std::string s;
00322     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
00323     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
00324       s=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
00325       <span class="keywordflow">if</span> (isCode) {
00326         pos=s.find(<span class="charliteral">' '</span>);
00327         <span class="keywordflow">if</span> (pos == std::string::npos) text=<span class="stringliteral">""</span>;
00328         <span class="keywordflow">else</span> text=s.substr(0, pos);
00329       }
00330       <span class="keywordflow">else</span> {
00331         pos=s.rfind(<span class="charliteral">' '</span>);
00332         <span class="keywordflow">if</span> (pos == std::string::npos) text=s;
00333         <span class="keywordflow">else</span> text=s.substr(pos+1, s.length()-pos);
00334       }
00335       names-&gt;push_back(text);
00336     }
00337   }
00338   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
00339     text=std::string(<span class="stringliteral">"EXCEPTION filling names: "</span>)+prob.what();
00340     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"getWebList"</span>, text);
00341     <span class="keywordflow">throw</span>;
00342   }
00343 }
</pre></div>    </td>
  </tr>
</table>
<a name="a8" doxytag="catalogAccess::Catalog::import"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::import </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRow</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em> = "1"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01170">1170</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00158">getRAMsize()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01171                                          {
01172   <span class="keywordtype">int</span> err;
01173   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"import"</span>, <span class="keyword">false</span>);
01174   <span class="comment">// after this check, m_numReadRows is 0</span>
01175   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01176 
01177   <span class="keywordflow">if</span> (maxRow &lt;= 0) {
01178     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"import"</span>, <span class="stringliteral">"trying to get whole catalog file"</span>);
01179     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=0;
01180   }
01181   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=maxRow;
01182 
01183   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c17">load</a>(fileName, ext, <span class="keyword">false</span>);
01184   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) <span class="keywordflow">return</span> err;
01185   <a class="code" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, <span class="keyword">true</span>);
01186   <span class="keywordflow">try</span> {
01187     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>) {
01188       <span class="keywordtype">int</span> i;
01189       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>.size();
01190       <span class="comment">// erase unused memory  printf("ERASING\n");</span>
01191       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>);
01192       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>.size();
01193       <span class="keywordflow">for</span> (i=0; i&lt;err; i++) <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].resize(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>);
01194     }
01195     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()+2;
01196     <span class="comment">// number of required bits including global and region</span>
01197     err=1+(err-1)/(<span class="keyword">sizeof</span>(long)*8);
01198     <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.resize(err);
01199 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
01200 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
01201               &lt;&lt; err &lt;&lt; std::endl;
01202 <span class="preprocessor">    #endif</span>
01203 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_numRows)
01204       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
01205     <span class="comment">// above lines can be commented to test the try catch mechanism</span>
01206   }
01207   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01208     std::string text;
01209     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
01210     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"import"</span>, text);
01211     <span class="keywordflow">throw</span>;
01212   }
01213   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>;
01214 }
</pre></div>    </td>
  </tr>
</table>
<a name="a6" doxytag="catalogAccess::Catalog::importDescription"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importDescription </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em> = "1"</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01156">1156</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01157                                                     {
01158   <span class="keywordtype">int</span> err;
01159   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"importDescription"</span>, <span class="keyword">false</span>);
01160   <span class="comment">// must be called before load() which set m_numRows to 0</span>
01161   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01162 
01163   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c17">load</a>(fileName, ext, <span class="keyword">true</span>);
01164   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) <span class="keywordflow">return</span> err;
01165 
01166   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01167 }
</pre></div>    </td>
  </tr>
</table>
<a name="a7" doxytag="catalogAccess::Catalog::importDescriptionWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importDescriptionWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em> = "cds", </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em> = ""</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01285">1285</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>, and <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01287                                                              {
01288 
01289   <span class="keywordtype">int</span> err;
01290   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c18">loadWeb</a>(catName, urlCode, fileName, -1);
01291   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) <span class="keywordflow">return</span> err;
01292 
01293   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01294 }
</pre></div>    </td>
  </tr>
</table>
<a name="a10" doxytag="catalogAccess::Catalog::importSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01457">1457</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a31">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="namespacecatalog_access.html#a35a13">catalogAccess::IMPORT_BIS</a>, <a class="el" href="namespacecatalog_access.html#a35a14">catalogAccess::IMPORT_NEED</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>, <a class="el" href="catalog_8h-source.html#l00379">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00378">myFile</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01457                             {
01458 
01459   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"importSelected"</span>;
01460   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
01461   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
01462 
01463   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &gt; 0) {
01464     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"call 'deleteContent' before 'importSelected'"</span>);
01465     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a13">IMPORT_BIS</a>;
01466   }
01467   <span class="keywordtype">int</span> i, err=0,
01468       maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
01469   <span class="keywordflow">for</span> (i=0; i&lt;maxSize; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>[i]) err++;
01470   <span class="keywordflow">if</span> (err &lt; 2) {
01471     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, <span class="stringliteral">"at least 2 quantities must be selected for import"</span>);
01472     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a31">BAD_SEL_QUANT</a>;
01473   }
01474   std::ostringstream sortie; 
01475   sortie &lt;&lt; err &lt;&lt; <span class="stringliteral">" quantities (over "</span> &lt;&lt; maxSize &lt;&lt; <span class="stringliteral">") selected for import"</span>;
01476   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
01477   sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string</span>
01478   <span class="keywordflow">if</span> (err != quantSize) {
01479     <span class="comment">// in fact, due to select*Quantities() restrictions,</span>
01480     <span class="comment">// quantSize can only be greater than err</span>
01481     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(2, <span class="stringliteral">"Erasing unwanted quantities for importSelected()"</span>);
01482     <a class="code" href="classcatalog_access_1_1_catalog.html#c1">deleteQuantities</a>();
01483   }
01484   err=<a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">//IS_OK;</span>
01485   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.is_open() ) { <span class="comment">// data must be read from file</span>
01486 
01487     <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>) {
01488       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, <span class="stringliteral">"file import was not succesful"</span>);
01489       <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a14">IMPORT_NEED</a>;
01490     }
01491     <span class="comment">// go back to initial position</span>
01492     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.clear(); <span class="comment">// needed to reset flags before seekg</span>
01493     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.seekg(<a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>);
01494     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of data lines read</span>
01495     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c19">loadSelected</a>(&amp;tot);
01496     <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) {
01497       sortie &lt;&lt; tot &lt;&lt; <span class="stringliteral">" data lines read for importSelected()"</span>;
01498       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01499       err=<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>;
01500     }
01501 
01502   }
01503   <span class="keywordflow">else</span> { <span class="comment">// data must be querried via web</span>
01504 
01505 
01506   }
01507   <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"function only implemented for column selection"</span>);
01508   <span class="keywordflow">return</span> err;
01509 }
</pre></div>    </td>
  </tr>
</table>
<a name="a9" doxytag="catalogAccess::Catalog::importWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::importWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em> = "cds", </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRow</em> = 44000, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em> = ""</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01297">1297</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00158">getRAMsize()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01299                                                   {
01300 
01301   <span class="keywordtype">int</span> err;
01302   <span class="keywordtype">long</span> limitRow=maxRow;
01303   <span class="keywordflow">if</span> (limitRow &lt; 0) limitRow=0; <span class="comment">// to avoid confusion with importDescriptionWeb</span>
01304   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c18">loadWeb</a>(catName, urlCode, fileName, limitRow);
01305   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) <span class="keywordflow">return</span> err;
01306   <a class="code" href="classcatalog_access_1_1_catalog.html#a5">getRAMsize</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, <span class="keyword">true</span>);
01307 
01308   <span class="keywordflow">try</span> {
01309     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size()+2;
01310     <span class="comment">// number of required bits including global and region</span>
01311     err=1+(err-1)/(<span class="keyword">sizeof</span>(long)*8);
01312     <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.resize(err);
01313 <span class="preprocessor">    #ifdef DEBUG_CAT</span>
01314 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">"Number of unsigned long required for m_rowIsSelected = "</span>
01315               &lt;&lt; err &lt;&lt; std::endl;
01316 <span class="preprocessor">    #endif</span>
01317 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (m_numRows)
01318       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;err; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
01319     <span class="comment">// above lines can be commented to test the try catch mechanism</span>
01320   }
01321   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01322     std::string text;
01323     text=std::string(<span class="stringliteral">"EXCEPTION filling m_rowIsSelected: "</span>)+prob.what();
01324     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(<span class="stringliteral">"importWeb"</span>, text);
01325     <span class="keywordflow">throw</span>;
01326   }
01327   <span class="keywordflow">return</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>;
01328 }
</pre></div>    </td>
  </tr>
</table>
<a name="a62" doxytag="catalogAccess::Catalog::includeN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::includeN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00794">794</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00795                                                         {
00796 
00797   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"includeN"</span>, <span class="keyword">true</span>);
00798   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> done;
00799   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"includeN"</span>, name);
00800   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00801 
00802   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00803     std::string errText;
00804     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00805     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"includeN"</span>, errText);
00806     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00807   }
00808   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c8">doSelN</a>(name, index, 3, listVal); <span class="comment">// 3 to set bit 0 to 1.</span>
00809   <span class="keywordflow">return</span> done;
00810 }
</pre></div>    </td>
  </tr>
</table>
<a name="c17" doxytag="catalogAccess::Catalog::load"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::load </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>getDescr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00977">977</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="namespacecatalog_access.html#a35a19">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a35a16">catalogAccess::BAD_FILENAME</a>, <a class="el" href="namespacecatalog_access.html#a35a17">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="namespacecatalog_access.html#a35a18">catalogAccess::BAD_FITS</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00376">m_tableName</a>, <a class="el" href="catalog_8h-source.html#l00373">m_URL</a>, <a class="el" href="catalog_8h-source.html#l00026">MAX_CAT</a>, <a class="el" href="catalog_8h-source.html#l00378">myFile</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01156">importDescription()</a>.
<p>
<div class="fragment"><pre>00978                                        {
00979 
00980   <span class="keywordtype">int</span> i, err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00981   std::string origin, text;
00982   <span class="keywordflow">if</span> (getDescr) origin=<span class="stringliteral">"importDescription"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"import"</span>;
00983 
00984   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
00985   i=fileName.length();
00986   <span class="keywordflow">if</span> (i == 0) {
00987     text=<span class="stringliteral">": FILENAME is EMPTY"</span>;
00988     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00989     err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
00990     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
00991     <span class="keywordflow">return</span> err;
00992   }
00993   <span class="keywordflow">if</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.is_open() ) <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.close();
00994   <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.open(fileName.c_str(), std::ios::in);
00995   <span class="comment">// file can be opened ?</span>
00996   <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.is_open() ) {
00997     text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" cannot be opened"</span>;
00998     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
00999     err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01000     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01001     <span class="keywordflow">return</span> err;
01002   }
01003 <span class="comment">/*  DIR *testDir=opendir(fileName.c_str());</span>
01004 <span class="comment">  if (testDir != NULL) {</span>
01005 <span class="comment">    closedir(testDir);</span>
01006 <span class="comment">    myFile.close();</span>
01007 <span class="comment">    text=": FILENAME \""+fileName+"\" is a directory";</span>
01008 <span class="comment">    printErr(origin, text);</span>
01009 <span class="comment">    err=BAD_FILETYPE;</span>
01010 <span class="comment">    m_numRows=err;</span>
01011 <span class="comment">    return err;</span>
01012 <span class="comment">  }*/</span>
01013   std::ostringstream sortie;
01014   <span class="keywordtype">bool</span> myTest;
01015   <span class="keyword">const</span> Extension *myEXT = 0;
01016   <span class="comment">// cannot use readTable because FITS IMAGE returns also error 1</span>
01017   <span class="keywordflow">try</span> {
01018     myEXT=IFileSvc::instance().readExtension(fileName, ext);
01019   }
01020   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01021     err=x.code();
01022     <span class="keywordflow">if</span> (err == 1) {
01023       <span class="comment">// This non-cfitsio error number means the file does not exist</span>
01024       <span class="comment">// or is not a table, or is not in either Root nor Fits format. </span>
01025       err=<a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
01026 <span class="comment">/*      printWarn(origin, "FILENAME is NOT fits");*/</span>
01027     }
01028     <span class="keywordflow">else</span> {
01029       <span class="comment">// Other errors come from cfitsio, but apply to a file</span>
01030       <span class="comment">// which is in FITS format but has some sort of format error.</span>
01031       sortie &lt;&lt; <span class="stringliteral">": FILENAME is FITS, but cfitsio returned error="</span> &lt;&lt; err;
01032       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
01033       err=<a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
01034       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01035       <span class="keywordflow">return</span> err;
01036     }
01037   }
01038   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) myTest=myEXT-&gt;isTable();
01039   <span class="keyword">delete</span> myEXT;
01040   <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) {
01041  
01042     <span class="keywordflow">if</span> (!myTest) {
01043       text=<span class="stringliteral">": FILENAME is FITS, but NOT a TABLE"</span>;
01044       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01045       err=<a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
01046       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01047       <span class="keywordflow">return</span> err;
01048     }
01049     <span class="keyword">const</span> Table *myDOL = 0;
01050     <span class="keywordflow">try</span> {
01051       myDOL=IFileSvc::instance().readTable(fileName, ext);
01052     }
01053     <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01054       sortie &lt;&lt; <span class="stringliteral">": FITS is TABLE, but cfitsio returned error="</span> &lt;&lt; err;
01055       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
01056       err=<a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>;
01057       <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01058       <span class="keywordflow">return</span> err;
01059     }
01060     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c14">analyze_fits</a>(myDOL, getDescr, origin);
01061     <span class="keyword">delete</span> myDOL;
01062 
01063   }
01064   <span class="keywordflow">else</span> { <span class="comment">// (err == BAD_FITS)</span>
01065 
01066     err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01067     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tot=0ul; <span class="comment">// number of lines read</span>
01068     <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>; <span class="comment">// true if lines ends with CR (on windows)</span>
01069     <span class="keywordtype">int</span> what=0;        <span class="comment">// 0 for unkwown, &gt;0 for csv, &lt;0 to tsv</span>
01070                        <span class="comment">// fabs()=1 for standard, =2 for meta QUERY</span>
01071     err=<a class="code" href="classcatalog_access_1_1_catalog.html#c15">analyze_head</a>(&amp;tot, &amp;what, &amp;testCR);
01072     <span class="keywordflow">if</span> (!tot) {
01073       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is fits without extension[] "</span>
01074              &lt;&lt; <span class="stringliteral">"specified"</span>;
01075       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
01076       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01077       text=<span class="stringliteral">"input file"</span>;
01078       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>;
01079       <span class="comment">// in case, for strange reason, file.good() fails at first time</span>
01080     }
01081     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) {
01082       sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName &lt;&lt; <span class="stringliteral">"\" is empty or "</span>
01083              &lt;&lt; <span class="stringliteral">"has unknown structure (stopped step "</span> &lt;&lt; -1*err &lt;&lt; <span class="stringliteral">")"</span>;
01084       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
01085       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01086       text=<span class="stringliteral">"input file"</span>;
01087       <span class="keywordflow">if</span> (err == 0) err=<a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>; <span class="comment">/* nothing is read */</span>
01088       <span class="keywordflow">else</span> err=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>; <span class="comment">/* can search if catalog name exist */</span>
01089     }
01090     <span class="keywordflow">else</span> {
01091 
01092       <span class="comment">//what is 1 or 2, then negate if TSV type</span>
01093       <span class="keywordflow">if</span> (what == 1) text=<span class="stringliteral">"input text file"</span>;
01094       <span class="keywordflow">else</span> text=<span class="stringliteral">"input META file"</span>;
01095 
01096       <span class="comment">// get columns description and units, data</span>
01097       err=<a class="code" href="classcatalog_access_1_1_catalog.html#c16">analyze_body</a>(&amp;tot, &amp;what, testCR, getDescr);
01098       <span class="keywordflow">if</span> (err == <a class="code" href="namespacecatalog_access.html#a35a19">BAD_FILELINE</a>) {
01099         <span class="comment">// stopped before reading needed stuff (with getDescr false)</span>
01100         text=<span class="stringliteral">": FILENAME \""</span>+fileName+<span class="stringliteral">"\" couldn't be read (line too long)"</span>;
01101         <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01102       }
01103       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>) {
01104         sortie &lt;&lt; <span class="stringliteral">": FILENAME \""</span> &lt;&lt; fileName
01105              &lt;&lt; <span class="stringliteral">"\" has wrong type (stopped step "</span> &lt;&lt; 5-1*err &lt;&lt; <span class="stringliteral">")"</span>;
01106         <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
01107         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01108         err=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>;
01109       }
01110       <span class="keywordflow">else</span> {
01111         <span class="keywordflow">if</span> (what &gt; 0) sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">" is CSV type (; separator)"</span>;
01112         <span class="keywordflow">else</span> sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">" is TSV type (Tab=0x09 separator)"</span>;
01113         <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
01114         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01115       }
01116 
01117     }
01118     <span class="comment">// myFile.close();  to be commented to let file opened</span>
01119     sortie &lt;&lt; text &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" lines read"</span>;
01120     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01121 
01122   }<span class="comment">// file is read</span>
01123   <span class="keywordflow">if</span> (err &lt; 0) {
01124     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
01125     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01126     <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=0;
01127     <span class="comment">// exit only if nothing is read</span>
01128     <span class="keywordflow">if</span> ((err == <a class="code" href="namespacecatalog_access.html#a35a16">BAD_FILENAME</a>) || (err == <a class="code" href="namespacecatalog_access.html#a35a18">BAD_FITS</a>)) <span class="keywordflow">return</span> err;
01129   }
01130   <span class="comment">// m_quantities vector maybe filled, MUST fill m_selEllipse, m_loadQuantity</span>
01131   <span class="keywordflow">try</span> {
01132     <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.assign(7, 0.0);
01133     <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size(), <span class="keyword">true</span>);
01134   }
01135   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01136     text=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse, m_loadQuantity: "</span>)
01137         +prob.what();
01138     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01139     <span class="keywordflow">throw</span>;
01140   }
01141   <a class="code" href="classcatalog_access_1_1_catalog.html#o1">m_URL</a>=<span class="stringliteral">"CDS"</span>; <span class="comment">/* to know that format string need to be changed for fits */</span>
01142   <span class="comment">// check if tableName is known to set generic</span>
01143   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a0">MAX_CAT</a>; i++) {
01144     <span class="keywordflow">if</span> (Catalog::s_CatalogList[2*i+1] == <a class="code" href="classcatalog_access_1_1_catalog.html#o4">m_tableName</a>) <span class="keywordflow">break</span>;
01145   }
01146   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>) {
01147     text=<span class="stringliteral">"Unknown table name, all generic quantities may be not found"</span>;
01148     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, text);
01149   }
01150   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=Catalog::s_CatalogList[2*i];
01151   <a class="code" href="classcatalog_access_1_1_catalog.html#c10">setGeneric</a>(i);
01152   <span class="keywordflow">return</span> err;
01153 }
</pre></div>    </td>
  </tr>
</table>
<a name="c19" doxytag="catalogAccess::Catalog::loadSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadSelected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>tot</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01332">1332</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a19">catalogAccess::BAD_FILELINE</a>, <a class="el" href="namespacecatalog_access.html#a35a17">catalogAccess::BAD_FILETYPE</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="catalog_8h-source.html#l00379">m_filePos</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, <a class="el" href="catalog_8h-source.html#l00399">m_numOriRows</a>, <a class="el" href="catalog_8h-source.html#l00400">m_numReadRows</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00029">MAX_LINE</a>, <a class="el" href="catalog_8h-source.html#l00378">myFile</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00283">translate_cell()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>.
<p>
<div class="fragment"><pre>01332                                             {
01333 
01334   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"importSelected"</span>;
01335   <span class="keywordtype">int</span>  i, last,
01336        maxLine=<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>-1, <span class="comment">// to avoid computation each line</span>
01337        err=0;
01338   <span class="keywordtype">char</span> sep=<span class="charliteral">';'</span>,
01339        line[<a class="code" href="catalog_8h.html#a3">MAX_LINE</a>];
01340 
01341   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
01342   <span class="keywordflow">if</span> ( !<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a> ) {
01343     <span class="comment">// read the total number of rows to have a maximal value</span>
01344     <span class="comment">// to allocate m_strings, m_numericals buffers.</span>
01345     <span class="keywordflow">while</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.good() ) {
01346       <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
01347       <span class="keywordflow">if</span> (strlen(line) &lt; 2) <span class="keywordflow">break</span>; <span class="comment">// 1 CR for WINDOWS</span>
01348       <a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>++;
01349     }
01350     <span class="comment">// go back to initial position</span>
01351     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.clear(); <span class="comment">// needed to reset flags before seekg</span>
01352     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.seekg(<a class="code" href="classcatalog_access_1_1_catalog.html#o7">m_filePos</a>);
01353   }
01354   <a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>=<a class="code" href="classcatalog_access_1_1_catalog.html#o14">m_numOriRows</a>;
01355   last=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01356   <span class="keywordflow">for</span> (i=0; i&lt;last; i++)
01357     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[i].m_format[0] == <span class="charliteral">'A'</span>) err++;
01358   <a class="code" href="classcatalog_access_1_1_catalog.html#c11">create_tables</a>(err);
01359   <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o15">m_numReadRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01360 
01361 <span class="comment">//printf("%ld OriRows\n", m_numOriRows);</span>
01362   <span class="keywordtype">bool</span> testCR=<span class="keyword">false</span>,
01363        first=<span class="keyword">true</span>,
01364        lineSkipped=<span class="keyword">false</span>;
01365   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
01366   std::ostringstream sortie;
01367   std::string text, mot;
01368   err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01369   <span class="keywordflow">while</span> ( <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.good() ) {
01370 
01371     <span class="comment">// extract line with delimiter \n which is discarded</span>
01372     <a class="code" href="classcatalog_access_1_1_catalog.html#o6">myFile</a>.getline(line, <a class="code" href="catalog_8h.html#a3">MAX_LINE</a>);
01373     (*tot)++;
01374     last=strlen(line);
01375     <span class="keywordflow">if</span> ((last == 0) || (line[0] == 0x0D)) {
01376       lineSkipped=<span class="keyword">true</span>; <span class="comment">// to have Warning messages below</span>
01377       <span class="keywordflow">continue</span>;
01378     }
01379     <span class="comment">// string max size is MAX_LINE-1;</span>
01380     <span class="keywordflow">if</span> (last &gt;= maxLine) {
01381       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" exceeds maximal size ("</span>
01382              &lt;&lt; <a class="code" href="catalog_8h.html#a3">MAX_LINE</a> &lt;&lt; <span class="stringliteral">")"</span>;
01383       <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str());
01384       err=<a class="code" href="namespacecatalog_access.html#a35a19">BAD_FILELINE</a>;
01385       <span class="keywordflow">break</span>;
01386     }
01387     <span class="keywordflow">if</span> (first) {
01388       first=<span class="keyword">false</span>;
01389       <span class="comment">// test if last char is CR from WINDOWS</span>
01390       <span class="keywordflow">if</span> (line[last-1] == 0x0D) testCR=<span class="keyword">true</span>;
01391       <span class="keywordtype">char</span> *posC=strchr(line, sep);
01392       <span class="comment">// if separator isn't the default ; search for TAB</span>
01393       <span class="comment">// suppose there is at least 2 columns</span>
01394       <span class="keywordflow">if</span> (posC == NULL) {
01395         posC=strchr(line, 0x09);
01396         <span class="keywordflow">if</span> (posC != NULL) sep=0x09;
01397         <span class="keywordflow">else</span> {
01398           <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, <span class="stringliteral">"first data line has no separator"</span>);
01399           err=<a class="code" href="namespacecatalog_access.html#a35a17">BAD_FILETYPE</a>;
01400           <span class="keywordflow">break</span>;
01401         }
01402       }
01403     }
01404     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testCR) line[--last]=<span class="charliteral">'\0'</span>;
01405     i=strncmp(line, <span class="stringliteral">"#Table"</span>, 6);
01406     <span class="keywordflow">if</span> (i == 0) {
01407       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">": second table start (not read)"</span>;
01408       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
01409       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01410       <span class="keywordflow">break</span>;
01411     }
01412     text=line; <span class="comment">/* convert C string to C++ string */</span>
01413     pos=text.find(sep);
01414     <span class="keywordflow">if</span> (pos == std::string::npos) {
01415       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" without separator, line skipped"</span>;
01416       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
01417       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01418       <span class="keywordflow">continue</span>;
01419     }
01420     i=0;
01421     <span class="keywordflow">if</span> (lineSkipped) <span class="keywordflow">break</span>;
01422     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
01423     last=0;
01424     <span class="keywordflow">do</span> {
01425       mot=text.substr(0, pos);
01426       <span class="keywordflow">if</span> (i &gt;= err) {
01427         sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" contains too many quantities"</span>;
01428         <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
01429         sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01430         <span class="keywordflow">break</span>;
01431       }
01432       <span class="keywordflow">else</span> {
01433         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>[i]) <a class="code" href="classcatalog_access_1_1_catalog.html#c13">translate_cell</a>(mot, i-last);
01434         <span class="keywordflow">else</span> last++;
01435       }
01436       i++;
01437       <span class="keywordflow">if</span> (pos != std::string::npos) {
01438         text.erase(0, pos+1);
01439         pos=text.find(sep);
01440       }
01441       <span class="keywordflow">else</span> <span class="keywordflow">break</span>;
01442     }
01443     <span class="keywordflow">while</span> (1);
01444     <span class="keywordflow">if</span> (i &lt;  err) {
01445       sortie &lt;&lt; <span class="stringliteral">"data line #"</span> &lt;&lt; *tot &lt;&lt; <span class="stringliteral">" does not contain all quantities"</span>;
01446       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
01447       sortie.str(<span class="stringliteral">""</span>); <span class="comment">// Will empty the string.</span>
01448     }
01449     err=<a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01450     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>++;
01451   }
01452   <span class="keywordflow">return</span> err;
01453 }
</pre></div>    </td>
  </tr>
</table>
<a name="c18" doxytag="catalogAccess::Catalog::loadWeb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::loadWeb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>catName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>urlCode</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>maxRow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01219">1219</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a20">catalogAccess::BAD_URL</a>, <a class="el" href="catalog_8h-source.html#l00618">checkCatName()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00372">m_code</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00028">MAX_URL</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l01285">importDescriptionWeb()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01297">importWeb()</a>.
<p>
<div class="fragment"><pre>01220                                                                    {
01221 
01222   std::string origin, text, web;
01223   <span class="keywordtype">int</span> i, err;
01224   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;
01225   <span class="keywordflow">if</span> (maxRow &gt;= 0) origin=<span class="stringliteral">"importWeb"</span>; <span class="keywordflow">else</span> origin=<span class="stringliteral">"importDescriptionWeb"</span>;
01226 
01227   err=<a class="code" href="namespacecatalog_access.html#a35a20">BAD_URL</a>;
01228   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01229   <span class="keywordflow">if</span> (urlCode.length() == 0) {
01230     text=<span class="stringliteral">": CODE for URL (web http address) is empty"</span>;
01231     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01232     <span class="keywordflow">return</span> err;
01233   }
01234   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="catalog_8h.html#a2">MAX_URL</a>; i++) {
01235     text=Catalog::s_CatalogURL[i]; <span class="comment">/* convert C string to C++ string */</span>
01236     pos=text.find(<span class="charliteral">' '</span>);
01237     <span class="keywordflow">if</span> (pos == std::string::npos) <span class="keywordflow">continue</span>;
01238     <span class="keywordflow">if</span> (text.substr(0, pos) == urlCode) <span class="keywordflow">break</span>;
01239   }
01240   <span class="keywordflow">if</span> (i == <a class="code" href="catalog_8h.html#a2">MAX_URL</a>) {
01241     text=<span class="stringliteral">": CODE for URL (web http address) do not exist"</span>;
01242     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01243     <span class="keywordflow">return</span> err;
01244   }
01245   pos=text.rfind(<span class="charliteral">' '</span>);
01246   <span class="keywordflow">if</span> (pos == std::string::npos) web=text;
01247   <span class="keywordflow">else</span> web=text.substr(pos+1, text.length()-pos);
01248 
01249   <span class="keywordtype">int</span> iCat=<a class="code" href="classcatalog_access_1_1_catalog.html#c23">checkCatName</a>(origin, catName);
01250   <span class="keywordflow">if</span> (iCat &lt; 0) {
01251     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=iCat;
01252     <span class="keywordflow">return</span> iCat;
01253   }
01254   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">false</span>);
01255   <span class="comment">// after this check, m_numOriRows is 0</span>
01256   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01257 
01258   <span class="keywordflow">if</span> (maxRow == 0) <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"trying to query whole catalog"</span>);
01259   <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=0;
01260 <span class="comment">/* now, ASCII query must be created</span>
01261 <span class="comment">  and sent, using CDS package to given URL</span>
01262 <span class="comment">*/</span>
01263   err=-9;
01264   text=<span class="stringliteral">"Web query not implemented"</span>;
01265   <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01266 
01267 
01268   <span class="keywordflow">if</span> (err &lt; 0) {
01269     <a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>(); <span class="comment">// to erase data already loaded in memory</span>
01270     <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>=err;
01271     <span class="keywordflow">return</span> err;
01272   }
01273   <span class="keywordflow">try</span> { <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.assign(7, 0.0); }
01274   <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;prob) {
01275     text=std::string(<span class="stringliteral">"EXCEPTION on creating m_selEllipse: "</span>)+prob.what();
01276     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, text);
01277     <span class="keywordflow">throw</span>;
01278   }
01279   <a class="code" href="classcatalog_access_1_1_catalog.html#o0">m_code</a>=catName;
01280   <a class="code" href="classcatalog_access_1_1_catalog.html#c10">setGeneric</a>(iCat);
01281   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01282 }
</pre></div>    </td>
  </tr>
</table>
<a name="a39" doxytag="catalogAccess::Catalog::maxSelVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::maxSelVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01119">1119</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01119                                                             {
01120 
01121   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
01122   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"maxSelVal"</span>;
01123   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, 0);
01124   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01125   <span class="comment">// above test avoid searching when no row is selected</span>
01126   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
01127   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01128   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
01129     std::string errText;
01130     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01131     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
01132     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
01133   }
01134   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01135 
01136   <span class="keywordtype">long</span> i, tot=0;
01137   <span class="keywordtype">double</span> r;
01138   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01139     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01140     <span class="keywordflow">if</span> (!isnan(*realVal)) <span class="keywordflow">break</span>;
01141     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01142   }
01143   <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01144   <span class="comment">// stop when selection contains only NaN</span>
01145   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01146     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01147     <span class="keywordflow">if</span> (r &gt; *realVal) *realVal=r;
01148     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01149   }
01150   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01151 }
</pre></div>    </td>
  </tr>
</table>
<a name="a31" doxytag="catalogAccess::Catalog::maxVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::maxVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00872">872</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00872                                                          {
00873 
00874   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00875   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"maxVal"</span>;
00876   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, 0);
00877   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00878   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00879   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00880   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
00881     std::string errText;
00882     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00883     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00884     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00885   }
00886   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00887   <span class="keywordtype">long</span> i=0;
00888   <span class="keywordtype">double</span> r;
00889   <span class="keywordflow">do</span> { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i); }
00890   <span class="keywordflow">while</span> ((isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>));
00891   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00892     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
00893     <span class="keywordflow">if</span> (r &gt; *realVal) *realVal=r;
00894   }
00895   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00896 }
</pre></div>    </td>
  </tr>
</table>
<a name="a38" doxytag="catalogAccess::Catalog::minSelVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::minSelVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01084">1084</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01084                                                             {
01085 
01086   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
01087   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"minSelVal"</span>;
01088   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, 0);
01089   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01090   <span class="comment">// above test avoid searching when no row is selected</span>
01091   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
01092   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
01093   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
01094     std::string errText;
01095     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
01096     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
01097     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
01098   }
01099   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
01100 
01101   <span class="keywordtype">long</span> i, tot=0;
01102   <span class="keywordtype">double</span> r;
01103   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01104     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01105     <span class="keywordflow">if</span> (!isnan(*realVal)) <span class="keywordflow">break</span>;
01106     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01107   }
01108   <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01109   <span class="comment">// stop when selection contains only NaN</span>
01110   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i) &amp; 1) {
01111     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
01112     <span class="keywordflow">if</span> (r &lt; *realVal) *realVal=r;
01113     <span class="keywordflow">if</span> (++tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>; <span class="comment">// to speed up</span>
01114   }
01115   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01116 }
</pre></div>    </td>
  </tr>
</table>
<a name="a30" doxytag="catalogAccess::Catalog::minVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::minVal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00842">842</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00842                                                          {
00843 
00844   *realVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00845   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"minVal"</span>;
00846   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, 0);
00847   <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
00848   num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00849   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00850   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_type != Quantity::NUM) {
00851     std::string errText;
00852     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00853     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00854     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00855   }
00856   num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(num).m_index;
00857   <span class="keywordtype">long</span> i=0;
00858   <span class="keywordtype">double</span> r;
00859   <span class="keywordflow">do</span> { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
00860 <span class="comment">/*  std::cout &lt;&lt; "NaN == NaN ? " &lt;&lt; (*realVal == m_numericals[num].at(0))</span>
00861 <span class="comment">            &lt;&lt; std::endl;*/</span>
00862   }
00863   <span class="keywordflow">while</span> ((isnan(*realVal)) &amp;&amp; (++i &lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>));
00864   <span class="keywordflow">for</span> (; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00865     r=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(i);
00866     <span class="keywordflow">if</span> (r &lt; *realVal) *realVal=r;
00867   }
00868   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00869 }
</pre></div>    </td>
  </tr>
</table>
<a name="a42" doxytag="catalogAccess::Catalog::posError_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::posError_deg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>inSelection</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01224">1224</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a23">catalogAccess::BAD_QUANT_NAME</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00436">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00381">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01225                                                   {
01226 
01227   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"posError_deg"</span>;
01228   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a> &lt; 0) {
01229     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0)
01230       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01231     <span class="keywordflow">else</span>
01232       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"missing generic position error quantity"</span>);
01233     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a23">BAD_QUANT_NAME</a>;
01234   }
01235   <span class="keywordtype">int</span> num;
01236   <span class="keywordflow">if</span> (!inSelection) {
01237     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
01238     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01239     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>].m_index;
01240     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row)/<a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
01241   }
01242   <span class="keywordflow">else</span> {
01243     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, row);
01244     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01245     <span class="keywordtype">long</span> tot=0;
01246     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>].m_index;
01247     <span class="comment">// first bit indicates global selection</span>
01248     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01249       <span class="keywordflow">if</span> (tot == row) {
01250         *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(k)/<a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
01251         <span class="keywordflow">break</span>;
01252       }
01253       tot++;
01254     }
01255     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
01256   }
01257   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01258 }
</pre></div>    </td>
  </tr>
</table>
<a name="a40" doxytag="catalogAccess::Catalog::ra_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::ra_deg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>realVal</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>inSelection</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l01158">1158</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="namespacecatalog_access.html#a35a21">catalogAccess::NO_RA_DEC</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>01158                                                                            {
01159 
01160   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"ra_deg"</span>;
01161   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a> &lt; 0) {
01162     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &lt; 0)
01163       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"must first use one 'import' method"</span>);
01164     <span class="keywordflow">else</span>
01165       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"missing generic RA position quantity"</span>);
01166     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a21">NO_RA_DEC</a>;
01167   }
01168   <span class="keywordtype">int</span> num;
01169   <span class="keywordflow">if</span> (!inSelection) {
01170     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c24">checkSize_row</a>(origin, row);
01171     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01172     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>].m_index;
01173     *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(row);
01174   }
01175   <span class="keywordflow">else</span> {
01176     num=<a class="code" href="classcatalog_access_1_1_catalog.html#c26">checkSel_row</a>(origin, row);
01177     <span class="keywordflow">if</span> (num &lt;= <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> num;
01178     <span class="keywordtype">long</span> tot=0;
01179     num=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>].m_index;
01180     <span class="comment">// first bit indicates global selection</span>
01181     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01182       <span class="keywordflow">if</span> (tot == row) { *realVal=<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[num].at(k); <span class="keywordflow">break</span>; }
01183       tot++;
01184     }
01185     <span class="keywordflow">if</span> (tot &gt;= <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>; <span class="comment">// should not happen</span>
01186   }
01187   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01188 }
</pre></div>    </td>
  </tr>
</table>
<a name="c5" doxytag="catalogAccess::Catalog::rowSelect"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::rowSelect </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>row</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>quantSel</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00177">177</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00416">m_criteriaORed</a>, and <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>.
<p>
<div class="fragment"><pre>00177                                                                        {
00178 
00179   <span class="keywordtype">int</span>  numBit=<span class="keyword">sizeof</span>(long)*8,
00180        vecSize=quantSel.size();
00181   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00182   <span class="keywordflow">if</span> (m_criteriaORed) check=<span class="keyword">false</span>;
00183   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel, test=2ul; <span class="comment">// bit0 reserved for check</span>
00184 <span class="preprocessor">  #ifdef DEBUG_CAT</span>
00185 <span class="preprocessor"></span>  std::cout &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_criteriaORed</a> &lt;&lt; <span class="stringliteral">"quantSize = "</span> &lt;&lt; vecSize;
00186 <span class="preprocessor">  #endif</span>
00187 <span class="preprocessor"></span>  <span class="keywordtype">int</span> j=0;
00188   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;=vecSize; ) {
00189 
00190     currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].at(row);
00191     <span class="keywordflow">if</span> (quantSel[i-1]) {
00192 <span class="preprocessor">      #ifdef DEBUG_CAT</span>
00193 <span class="preprocessor"></span>      std::cout &lt;&lt; <span class="stringliteral">" (AND with "</span> &lt;&lt; currSel &lt;&lt;<span class="stringliteral">" &amp; "</span>&lt;&lt; test
00194                 &lt;&lt; <span class="stringliteral">", pos["</span> &lt;&lt; j &lt;&lt;<span class="stringliteral">"] )"</span> &lt;&lt; std::endl;
00195 <span class="preprocessor">      #endif</span>
00196 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (m_criteriaORed) {
00197         <span class="comment">// OR  of bits, true --&gt; useless to continue</span>
00198         <span class="keywordflow">if</span> ((currSel &amp; test) == test) {check=<span class="keyword">true</span>; <span class="keywordflow">break</span>;}
00199       }
00200       <span class="keywordflow">else</span> {
00201         <span class="comment">// AND of bits, false--&gt; useless to continue</span>
00202         <span class="keywordflow">if</span> ((currSel &amp; test) == 0ul) {check=<span class="keyword">false</span>; <span class="keywordflow">break</span>;}
00203       }
00204     }
00205     <span class="keywordflow">if</span> ((++i % numBit) == 0) {
00206       test=1ul; <span class="comment">// first bit</span>
00207       j++;      <span class="comment">// of next vector index.</span>
00208     }
00209     <span class="keywordflow">else</span> test*=2ul;
00210 
00211   }
00212   <span class="keywordflow">if</span> (check) <span class="comment">// setting bit0 to 1</span>
00213     <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(row)|= 1ul;
00214   <span class="keywordflow">else</span>       <span class="comment">// setting bit0 to 0</span>
00215     <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(row)&amp;= (Max_Test-1ul);
00216 
00217   <span class="keywordflow">return</span> check;
00218 }
</pre></div>    </td>
  </tr>
</table>
<a name="a13" doxytag="catalogAccess::Catalog::saveFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>append</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01863">1863</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l01732">createFits()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00089">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01864                                                  {
01865 
01866   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveFits"</span>;
01867   Table *myDOL=0;
01868   <span class="keywordtype">int</span> err;
01869   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c21">createFits</a>(fileName, extName, clobber, append, origin, &amp;myDOL);
01870   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01871 
01872   std::ostringstream sortie;
01873   <span class="keywordtype">long</span> tot=0l;
01874   <span class="keywordtype">int</span>  i, j;
01875 
01876   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> &gt; 0) {
01877   <span class="keywordflow">try</span> {
01878     myDOL-&gt;setNumRecords(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>);
01879     Quantity readQ;
01880     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01881     <span class="comment">// Loop over all records (rows) and set values</span>
01882     <span class="keywordflow">for</span> (Table::Iterator itor=myDOL-&gt;begin(); itor != myDOL-&gt;end(); ++itor) {
01883       <span class="comment">// double variable to hold the value of all the numeric fields</span>
01884       <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01885         readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01886         i=readQ.m_index;
01887         <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01888           (*itor)[readQ.m_name].set( <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(tot) );
01889           <span class="comment">// to be improved for integers</span>
01890         }
01891         <span class="keywordflow">else</span> (*itor)[readQ.m_name].set( <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].at(tot) );
01892       }
01893       tot++;
01894     }<span class="comment">/* loop on rows */</span>
01895   }
01896   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01897     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot write at row#"</span> &lt;&lt; tot;
01898     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str() );
01899     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
01900   }<span class="comment">/* end of try */</span>
01901   }<span class="comment">/* at least 1 row */</span>
01902 
01903   <span class="keyword">delete</span> myDOL; myDOL=0;
01904   sortie &lt;&lt; <span class="stringliteral">"output fits is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" rows written)"</span>;
01905   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01906   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01907 }
</pre></div>    </td>
  </tr>
</table>
<a name="a14" doxytag="catalogAccess::Catalog::saveSelectedFits"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveSelectedFits </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>append</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01910">1910</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a22">catalogAccess::BAD_ROW</a>, <a class="el" href="catalog__io_8cxx-source.html#l01732">createFits()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="quantity_8h-source.html#l00098">catalogAccess::Quantity::m_index</a>, <a class="el" href="quantity_8h-source.html#l00089">catalogAccess::Quantity::m_name</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>, <a class="el" href="quantity_8h-source.html#l00095">catalogAccess::Quantity::m_type</a>, <a class="el" href="quantity_8cxx-source.html#l00022">catalogAccess::printErr()</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
<div class="fragment"><pre>01912                                                          {
01913 
01914   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveSelectedFits"</span>;
01915   Table *myDOL=0;
01916   <span class="keywordtype">int</span> err;
01917   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c21">createFits</a>(fileName, extName, clobber, append, origin, &amp;myDOL);
01918   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01919 
01920   std::ostringstream sortie;
01921   <span class="keywordtype">long</span> tot=0l;
01922   <span class="keywordtype">int</span>  i, j;
01923 
01924   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
01925   <span class="keywordflow">try</span> {
01926     myDOL-&gt;setNumRecords(<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>);
01927     Quantity readQ;
01928     err=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
01929     Table::Iterator itor=myDOL-&gt;begin();
01930     <span class="comment">// Loop over all selected records (rows) and set values</span>
01931     <span class="comment">// first bit indicates global selection</span>
01932     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k=0; k&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; k++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(k) &amp; 1) {
01933       <span class="keywordflow">for</span> (j=0; j &lt; err; j++) {
01934         readQ=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[j];
01935         i=readQ.m_index;
01936         <span class="keywordflow">if</span> (readQ.m_type == Quantity::NUM) {
01937           (*itor)[readQ.m_name].set( <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[i].at(tot) );
01938           <span class="comment">// to be improved for integers</span>
01939         }
01940         <span class="keywordflow">else</span> (*itor)[readQ.m_name].set( <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[i].at(tot) );
01941       }
01942       tot++;
01943       itor++;
01944       <span class="keywordflow">if</span> (tot == <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>) <span class="keywordflow">break</span>;
01945     }
01946   }
01947   <span class="keywordflow">catch</span> (<span class="keyword">const</span> TipException &amp;x) {
01948     sortie &lt;&lt; <span class="stringliteral">": fits EXTENSION, cannot write at row#"</span> &lt;&lt; tot;
01949     <a class="code" href="namespacecatalog_access.html#a32">printErr</a>(origin, sortie.str() );
01950     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a22">BAD_ROW</a>;
01951   }<span class="comment">/* end of try */</span>
01952   }<span class="comment">/* at least 1 selected row */</span>
01953 
01954   <span class="keyword">delete</span> myDOL; myDOL=0;
01955   sortie &lt;&lt; <span class="stringliteral">"output fits is closed ( "</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">" rows written)"</span>;
01956   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, sortie.str());
01957   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01958 }
</pre></div>    </td>
  </tr>
</table>
<a name="a12" doxytag="catalogAccess::Catalog::saveSelectedText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveSelectedText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01719">1719</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, and <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>.
<p>
<div class="fragment"><pre>01719                                                                      {
01720 
01721   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveSelectedText"</span>;
01722   <span class="keywordtype">int</span> err;
01723   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c20">createText</a>(fileName, clobber, origin);
01724   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01725 
01726   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01727 }
</pre></div>    </td>
  </tr>
</table>
<a name="a11" doxytag="catalogAccess::Catalog::saveText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::saveText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>fileName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>clobber</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l01708">1708</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, and <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01708                                                              {
01709 
01710   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"saveText"</span>;
01711   <span class="keywordtype">int</span> err;
01712   err=<a class="code" href="classcatalog_access_1_1_catalog.html#c20">createText</a>(fileName, clobber, origin);
01713   <span class="keywordflow">if</span> (err &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> err;
01714 
01715   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
01716 }
</pre></div>    </td>
  </tr>
</table>
<a name="a50" doxytag="catalogAccess::Catalog::selectAllQuantities"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::selectAllQuantities </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>toBeLoaded</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00038">38</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a31">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00038                                                       {
00039 
00040   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"selectAllQuantities"</span>, <span class="keyword">true</span>);
00041   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00042 
00043   <span class="comment">// beware m_loadQuantity has always the initial size</span>
00044   <span class="comment">// whereas m_quantities size can decrease</span>
00045   <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
00046   <span class="keywordflow">if</span> (quantSize != maxSize) {
00047     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"selectAllQuantities"</span>,
00048              <span class="stringliteral">"cannot get all initial quantities once importSelected() done"</span>);
00049     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a31">BAD_SEL_QUANT</a>;
00050   }
00051   <span class="keywordflow">if</span> (toBeLoaded) <span class="comment">// vectors with same size</span>
00052        <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.assign(maxSize, <span class="keyword">true</span>);
00053   <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.assign(maxSize, <span class="keyword">false</span>);
00054   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00055 }
</pre></div>    </td>
  </tr>
</table>
<a name="a49" doxytag="catalogAccess::Catalog::selectQuantity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::selectQuantity </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>toBeLoaded</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00021">21</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a31">catalogAccess::BAD_SEL_QUANT</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00384">m_loadQuantity</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
<div class="fragment"><pre>00021                                                                        {
00022 
00023   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"selectQuantity"</span>, <span class="keyword">true</span>);
00024   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00025   <span class="keywordtype">int</span> num=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"selectQuantity"</span>, name);
00026   <span class="keywordflow">if</span> (num &lt; 0) <span class="keywordflow">return</span> num;
00027 
00028   <span class="keywordtype">int</span> maxSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.size();
00029   <span class="keywordflow">if</span> (quantSize != maxSize) {
00030     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"selectQuantity"</span>,
00031              <span class="stringliteral">"cannot get all initial quantities once importSelected() done"</span>);
00032     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a31">BAD_SEL_QUANT</a>;
00033   }
00034   <a class="code" href="classcatalog_access_1_1_catalog.html#o11">m_loadQuantity</a>.at(num)=toBeLoaded;
00035   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00036 }
</pre></div>    </td>
  </tr>
</table>
<a name="a53" doxytag="catalogAccess::Catalog::setCriteriaORed"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setCriteriaORed </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>bitOR</em> = true          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00320">320</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00416">m_criteriaORed</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00320                                              {
00321 
00322   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setCriteriaORed"</span>;
00323   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00324   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00325 
00326   <span class="comment">// if boolean is the same: do nothing</span>
00327   <span class="keywordflow">if</span> (bitOR == <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_criteriaORed</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00328   <a class="code" href="classcatalog_access_1_1_catalog.html#o19">m_criteriaORed</a>=bitOR;
00329 
00330   <span class="comment">/* if no data: exit */</span>
00331   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00332   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00333   std::vector&lt;bool&gt; isSelected;
00334   <a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00335   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00336     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00337   }
00338   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00339 }
</pre></div>    </td>
  </tr>
</table>
<a name="c10" doxytag="catalogAccess::Catalog::setGeneric"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::setGeneric </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>whichCat</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00078">78</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00436">m_indexErr</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00026">MAX_CAT</a>, <a class="el" href="catalog_8h-source.html#l00027">MAX_GEN</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00053">setPosErrFactor()</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>.
<p>
<div class="fragment"><pre>00078                                            {
00079 
00080   <span class="keyword">const</span> std::string epoch=<span class="stringliteral">"J2000"</span>;
00081   <span class="keywordtype">int</span> max=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.size();
00082   <span class="keywordtype">int</span> j;
00083   std::string text, name;
00084   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;max; i++)  {
00085 
00086     <span class="keywordflow">if</span> ((whichCat &gt;= 0) &amp;&amp; (whichCat &lt; <a class="code" href="catalog_8h.html#a0">MAX_CAT</a>)) {
00087       <span class="comment">// if it is a known catalog, the generic are defined</span>
00088       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_name;
00089       <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="catalog_8h.html#a1">MAX_GEN</a>; j++) {
00090         name=Catalog::s_CatalogGeneric[whichCat][j];
00091         <span class="keywordflow">if</span> (name == <span class="stringliteral">"+"</span>) name=UCD_Added[j];
00092         <span class="keywordflow">if</span> (text == name) {
00093           <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_isGeneric=<span class="keyword">true</span>;
00094           <span class="keywordflow">switch</span> (j) {
00095             <span class="keywordflow">case</span> 1: <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>=i;
00096             <span class="keywordflow">break</span>;
00097             <span class="keywordflow">case</span> 2: <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>=i;
00098             <span class="keywordflow">break</span>;
00099             <span class="keywordflow">case</span> 3: <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>=i;
00100                     <a class="code" href="classcatalog_access_1_1_catalog.html#c9">setPosErrFactor</a>(i);
00101             <span class="keywordflow">break</span>;
00102             <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
00103           }
00104         }
00105       }<span class="comment">// loop on generic</span>
00106       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_ucd;
00107     }
00108 
00109     <span class="keywordflow">else</span> {
00110       <span class="comment">// otherwise, take first matching UCD</span>
00111       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_ucd;
00112       <span class="keywordflow">if</span> (text != <span class="stringliteral">""</span>) <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="catalog_8h.html#a1">MAX_GEN</a>; j++) { 
00113         <span class="keywordflow">if</span> (text == UCD_List[j]) {
00114           <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_isGeneric=<span class="keyword">true</span>;
00115           <span class="keywordflow">if</span> ((j == 1) || (j == 2)) {
00116             <span class="comment">// check that epoch is J2000</span>
00117             name=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_name;
00118             name.erase(0, name.length()-epoch.length());
00119             <span class="comment">// format contains at least 1 char</span>
00120             <span class="keywordflow">if</span> ((name == epoch) &amp;&amp; (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_format[0] == <span class="charliteral">'F'</span>)) {
00121               <span class="keywordflow">if</span> (j == 1) <a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>=i;
00122               <span class="keywordflow">else</span>        <a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>=i;
00123             }
00124             <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_isGeneric=<span class="keyword">false</span>;
00125           }
00126           <span class="keywordflow">break</span>;
00127         }
00128       }<span class="comment">// loop on generic</span>
00129     }
00130 
00131     <span class="comment">// flag error quantities, useless for already found generic</span>
00132     <span class="keywordflow">if</span> ((text == <span class="stringliteral">"ERROR"</span>) &amp;&amp; (!<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_isGeneric)) {
00133       <span class="comment">// error column name is e_"associated column" except for position error</span>
00134       text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_name;
00135       <span class="keywordflow">if</span> (text.find(<span class="stringliteral">"e_"</span>) == 0) {
00136         text.erase(0, 2);
00137 <span class="preprocessor">        #ifdef DEBUG_CAT</span>
00138 <span class="preprocessor"></span>        std::cout &lt;&lt; <span class="stringliteral">"ERROR column ("</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00139 <span class="preprocessor">        #endif</span>
00140 <span class="preprocessor"></span>        <span class="keywordflow">for</span> (j=0; j&lt;max; j++) <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_name == text) {
00141           <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_statError=text;
00142           <span class="keywordflow">break</span>;
00143         }
00144       }
00145       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((text == <span class="stringliteral">"PosErr"</span>) || (text == <span class="stringliteral">"ErrorRad"</span>)) {
00146         <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(i).m_isGeneric=<span class="keyword">true</span>;
00147         <a class="code" href="classcatalog_access_1_1_catalog.html#o27">m_indexErr</a>=i;
00148         <a class="code" href="classcatalog_access_1_1_catalog.html#c9">setPosErrFactor</a>(i);
00149       }
00150     }
00151 
00152   }<span class="comment">// loop on quantities</span>
00153 
00154 }
</pre></div>    </td>
  </tr>
</table>
<a name="a56" doxytag="catalogAccess::Catalog::setLowerCut"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setLowerCut </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00468">468</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00468                                                             {
00469 
00470   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setLowerCut"</span>;
00471   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00472   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00473 
00474   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00475   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00476   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00477     std::string errText;
00478     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00479     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00480     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00481   }
00482 
00483   <span class="comment">// if cut is the same: do nothing</span>
00484   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) cutVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00485   <span class="keywordflow">if</span> (cutVal == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_lowerCut) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00486   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_lowerCut=cutVal;
00487 
00488   <span class="comment">/* if no data: exit */</span>
00489   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00490 
00491   std::vector&lt;bool&gt; isSelected;
00492   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00493   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00494   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00495     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, <span class="stringliteral">"Disabling lower cut (on "</span>+name+<span class="stringliteral">")"</span>);
00496     <span class="keywordflow">if</span> (!oneCriteria) {
00497       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
00498         quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
00499         <span class="keywordflow">for</span> (index=0; index&lt;quantSize; index++)
00500           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[index].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
00501       }
00502       <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00503       check=<span class="keyword">false</span>;
00504       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00505     }
00506   }
00507   <span class="keywordflow">else</span> {
00508     std::ostringstream sortie;
00509     sortie &lt;&lt; <span class="stringliteral">"Enabling lower cut ("</span> &lt;&lt;cutVal&lt;&lt;<span class="stringliteral">" on "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>;
00510     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());  
00511   }
00512   
00513   <span class="keywordflow">if</span> (check) {
00514     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00515          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00516          miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00517     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00518     <span class="keywordtype">int</span>  k,
00519          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00520     <span class="keywordtype">long</span> i;
00521     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00522     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00523     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00524     oneCriteria=isSelected.at(index+1);
00525     <span class="keywordflow">if</span> (oneCriteria) {
00526 
00527       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00528       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00529         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00530           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00531         <span class="keywordflow">else</span>
00532           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00533         <span class="comment">// setting required bit</span>
00534         <span class="keywordflow">if</span> (check)
00535           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
00536         <span class="keywordflow">else</span>
00537           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00538         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00539       }<span class="comment">// loop on rows</span>
00540 
00541     }
00542     <span class="keywordflow">else</span> {
00543 
00544       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00545         <span class="comment">// required bit set to FALSE</span>
00546         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00547         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00548       }<span class="comment">// loop on rows</span>
00549 
00550     }
00551   }
00552   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00553 }
</pre></div>    </td>
  </tr>
</table>
<a name="a65" doxytag="catalogAccess::Catalog::setMatchEpsilon"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setMatchEpsilon </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const unsigned long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>step</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00932">932</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="namespacecatalog_access.html#a35a30">catalogAccess::BAD_SEL_LIM</a>, <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00933 {
00934   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setMatchEpsilon"</span>;
00935   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00936   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00937   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00938   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00939   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00940     std::string errText;
00941     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00942     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00943     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00944   }
00945   std::ostringstream sortie;
00946   <span class="keywordflow">if</span> (step == 0ul) {
00947     sortie &lt;&lt; <span class="stringliteral">"Number of epsilon must be &gt; 0"</span>;
00948     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00949     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a30">BAD_SEL_LIM</a>;
00950   }
00951   <span class="comment">// if limit is the same: do nothing</span>
00952   <span class="keywordtype">double</span> precis=step*std::numeric_limits&lt;double&gt;::epsilon();
00953   <span class="keywordflow">if</span> (precis == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00954   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_precision=precis;
00955 
00956   <span class="comment">/* if no data: exit */</span>
00957   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00958   <span class="comment">/* if empty list: exit */</span>
00959   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00960 
00961   std::vector&lt;bool&gt; isSelected;
00962   <a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00963   <span class="comment">// quantity is selected since list is not empty</span>
00964   sortie &lt;&lt; <span class="stringliteral">"Relative precision for values in list (for "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>
00965          &lt;&lt; <span class="stringliteral">" is: "</span> &lt;&lt; precis &lt;&lt; <span class="stringliteral">" (absolute precision around 0)"</span>;
00966   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
00967   <span class="keywordtype">bool</span> check,
00968        cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00969        reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00970        miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00971   <span class="keywordtype">int</span>  k,
00972        pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00973   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00974   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00975   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00976 
00977     <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00978       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00979     <span class="keywordflow">else</span>
00980       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00981     <span class="keywordflow">if</span> (check)
00982       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
00983     <span class="keywordflow">else</span>
00984       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00985     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00986 
00987   }<span class="comment">// loop on rows</span>
00988 
00989   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;  
00990 }
</pre></div>    </td>
  </tr>
</table>
<a name="a64" doxytag="catalogAccess::Catalog::setMatchPercent"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setMatchPercent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>percent</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00871">871</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="namespacecatalog_access.html#a35a30">catalogAccess::BAD_SEL_LIM</a>, <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00871                                                                  {
00872 
00873   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setMatchPercent"</span>;
00874   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00875   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00876   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00877   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00878   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00879     std::string errText;
00880     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00881     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00882     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00883   }
00884   std::ostringstream sortie;
00885   <span class="keywordflow">if</span> (percent &lt;= 100.*NearZero) {
00886     sortie &lt;&lt; <span class="stringliteral">"Percentage must be &gt; "</span> &lt;&lt; 100.*NearZero;
00887     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00888     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a30">BAD_SEL_LIM</a>;
00889   }
00890   <span class="comment">// if limit is the same: do nothing</span>
00891   percent/=100.;
00892   <span class="keywordflow">if</span> (percent == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00893   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_precision=percent;
00894 
00895   <span class="comment">/* if no data: exit */</span>
00896   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00897   <span class="comment">/* if empty list: exit */</span>
00898   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_listValN.size() == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00899 
00900   std::vector&lt;bool&gt; isSelected;
00901   <a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00902   <span class="comment">// quantity is selected since list is not empty</span>
00903   sortie &lt;&lt; <span class="stringliteral">"Relative precision for values in list (for "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>
00904          &lt;&lt; <span class="stringliteral">" is: "</span> &lt;&lt; percent &lt;&lt; <span class="stringliteral">" (absolute precision around 0)"</span>;
00905   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
00906   <span class="keywordtype">bool</span> check,
00907        cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00908        reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00909        miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00910   <span class="keywordtype">int</span>  k,
00911        pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00912   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00913   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00914   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00915 
00916     <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00917       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, percent);
00918     <span class="keywordflow">else</span>
00919       check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, percent);
00920     <span class="keywordflow">if</span> (check)
00921       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
00922     <span class="keywordflow">else</span>
00923       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00924     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00925 
00926   }<span class="comment">// loop on rows</span>
00927 
00928   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;  
00929 }
</pre></div>    </td>
  </tr>
</table>
<a name="c9" doxytag="catalogAccess::Catalog::setPosErrFactor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::setPosErrFactor </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>index</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00053">53</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00381">m_posErrFactor</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>.
<p>
<div class="fragment"><pre>00053                                              {
00054 
00055   std::string text=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_unit;
00056   <span class="keywordflow">if</span> (text == <span class="stringliteral">""</span>) {
00057     std::ostringstream sortie;
00058     sortie &lt;&lt; <span class="stringliteral">"Generic position error ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_name
00059            &lt;&lt; <span class="stringliteral">") has no unit, by default multiply by: 1/"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
00060     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"private setGeneric"</span>, sortie.str());
00061   }
00062   <span class="keywordflow">else</span> {
00063     <span class="comment">// use explicit cast to be sure compiler choose the right tolower()</span>
00064     transform(text.begin(), text.end(), text.begin(), (int(*)(int)) tolower);
00065     <span class="keywordflow">if</span> (text == <span class="stringliteral">"deg"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0;
00066     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"arcsec"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=3600.0;
00067     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"arcmin"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=60.0;
00068     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (text == <span class="stringliteral">"rad"</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>=1.0/Angle_Conv;
00069     <span class="keywordflow">else</span> {
00070       std::ostringstream sortie;
00071       sortie &lt;&lt; <span class="stringliteral">"Generic position error ("</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_name
00072              &lt;&lt; <span class="stringliteral">") has unknown unit, by default multiply by: 1/"</span> &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o9">m_posErrFactor</a>;
00073       <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"private setGeneric"</span>, sortie.str());
00074     }
00075   }
00076 }
</pre></div>    </td>
  </tr>
</table>
<a name="a63" doxytag="catalogAccess::Catalog::setRejectNaN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setRejectNaN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>rejectNaN</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00814">814</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00814                                                                     {
00815 
00816   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setRejectNaN"</span>;
00817   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00818   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00819   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00820   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00821   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00822     std::string errText;
00823     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00824     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00825     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00826   }
00827   <span class="comment">// if same boolean: do nothing</span>
00828   <span class="keywordflow">if</span> (rejectNaN == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_rejectNaN) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00829   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_rejectNaN=rejectNaN;
00830 
00831   <span class="comment">/* if no data: exit */</span>
00832   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00833 
00834   std::vector&lt;bool&gt; isSelected;
00835   <a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00836   <span class="keywordflow">if</span> (isSelected.at(index+1)) {
00837     <span class="comment">// apply the selection with new behaviour on NaN</span>
00838 
00839     std::string text=<span class="stringliteral">"NaN values are now "</span>;
00840     <span class="keywordflow">if</span> (rejectNaN) text=text+<span class="stringliteral">" rejected (on "</span>;
00841     <span class="keywordflow">else</span> text=text+<span class="stringliteral">" accepted (on "</span>;
00842     text=text+name+ <span class="stringliteral">")"</span>;
00843     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, text);
00844     <span class="keywordtype">bool</span> check,
00845          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00846          miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00847     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00848     <span class="keywordtype">int</span>  k,
00849          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00850     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00851     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00852     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00853 
00854       <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00855         check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, rejectNaN, precis);
00856       <span class="keywordflow">else</span>
00857         check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, rejectNaN, precis);
00858       <span class="keywordflow">if</span> (check)
00859         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
00860       <span class="keywordflow">else</span>
00861         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00862       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00863 
00864     }<span class="comment">// loop on rows</span>
00865 
00866   }
00867   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;  
00868 }
</pre></div>    </td>
  </tr>
</table>
<a name="a54" doxytag="catalogAccess::Catalog::setSelEllipse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setSelEllipse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>centRA_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>centDEC_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>majAxis_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>minAxis_deg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>rot_deg</em> = 0.</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00344">344</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a29">catalogAccess::BAD_AXIS</a>, <a class="el" href="namespacecatalog_access.html#a35a27">catalogAccess::BAD_DEC</a>, <a class="el" href="namespacecatalog_access.html#a35a26">catalogAccess::BAD_RA</a>, <a class="el" href="namespacecatalog_access.html#a35a28">catalogAccess::BAD_ROT</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00438">m_indexDEC</a>, <a class="el" href="catalog_8h-source.html#l00437">m_indexRA</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00439">m_selEllipse</a>, <a class="el" href="catalog_8h-source.html#l00424">m_selEllipseCentDEC_deg</a>, <a class="el" href="catalog_8h-source.html#l00422">m_selEllipseCentRA_deg</a>, <a class="el" href="catalog_8h-source.html#l00428">m_selEllipseMajAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00426">m_selEllipseMinAxis_deg</a>, <a class="el" href="catalog_8h-source.html#l00430">m_selEllipseRot_deg</a>, <a class="el" href="catalog_8h-source.html#l00419">m_selRegion</a>, <a class="el" href="namespacecatalog_access.html#a35a21">catalogAccess::NO_RA_DEC</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00346                                                  {
00347 
00348   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setSelEllipse"</span>;
00349   std::string text;
00350   std::ostringstream sortie;
00351 
00352   <span class="comment">// first check that selection is possible</span>
00353   <span class="keywordtype">int</span> numPb=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00354   <span class="keywordflow">if</span> (numPb &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> numPb;
00355   <span class="keywordflow">if</span> ((<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a> &lt; 0) || (<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a> &lt; 0)) {
00356     text=<span class="stringliteral">"missing generic position quantities (RA and DEC)"</span>; 
00357     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, text);
00358     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a21">NO_RA_DEC</a>;
00359   }
00360   numPb=0;
00361   <span class="comment">//const std::_Ios_Fmtflags outDouble=std::ios::right | std::ios::scientific;</span>
00362   <span class="keywordflow">if</span> ((centRA_deg &lt; 0.) || (centRA_deg &gt;= 360.)) numPb=<a class="code" href="namespacecatalog_access.html#a35a26">BAD_RA</a>;
00363   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((centDEC_deg &lt; -90.) || (centDEC_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a35a27">BAD_DEC</a>;
00364   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((rot_deg &lt; 0.) || (rot_deg &gt;= 180.)) numPb=<a class="code" href="namespacecatalog_access.html#a35a28">BAD_ROT</a>;
00365   <span class="keywordflow">if</span> (numPb &lt; 0) {
00366     text=<span class="stringliteral">"bad ellipse position (impossible RA, DEC or rotation)"</span>; 
00367     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, text);
00368     <span class="keywordflow">return</span> numPb;
00369   }
00370   <span class="keywordflow">if</span> ((majAxis_deg &lt; Min_Axis) || (majAxis_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a35a29">BAD_AXIS</a>;
00371   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((minAxis_deg &lt; Min_Axis) || (minAxis_deg &gt; 90.)) numPb=<a class="code" href="namespacecatalog_access.html#a35a29">BAD_AXIS</a>;
00372   <span class="comment">// size limited to one hemisphere</span>
00373   <span class="keywordflow">if</span> (numPb &lt; 0) {
00374     sortie &lt;&lt; <span class="stringliteral">"bad ellipse size, radius from "</span> &lt;&lt; std::setprecision(2)
00375            &lt;&lt; Min_Axis*1000 &lt;&lt; <span class="stringliteral">"E-3 to 90 (in RA or DEC)"</span>;
00376     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, sortie.str());
00377     <span class="keywordflow">return</span> numPb;
00378   }
00379   <span class="keywordflow">if</span> (rot_deg &gt; 0.)
00380     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"whatever orientation, using 0"</span>); 
00381   <span class="keywordflow">if</span> (fabs(majAxis_deg/minAxis_deg - 1.) &gt; 10*Min_Prec)
00382     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, <span class="stringliteral">"axis sizes differ, taking only major axis"</span>);
00383   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a>=<span class="keyword">true</span>;
00384   <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentRA_deg</a>=centRA_deg;
00385   <a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseCentDEC_deg</a>=centDEC_deg;
00386   <a class="code" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseMajAxis_deg</a>=majAxis_deg;
00387   <a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMinAxis_deg</a>=majAxis_deg; <span class="comment">//minAxis_deg;</span>
00388   <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_selEllipseRot_deg</a>=0.; <span class="comment">//rot_deg;</span>
00389   <span class="comment">// angles are phi=RA and theta=PI/2-DEC</span>
00390   <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(0)=cos(<a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentRA_deg</a> * Angle_Conv);
00391   <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(1)=sin(<a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentRA_deg</a> * Angle_Conv);
00392   <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(2)=cos(<a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseCentDEC_deg</a>* Angle_Conv);
00393   <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(3)=sin(<a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseCentDEC_deg</a>* Angle_Conv);
00394   <a class="code" href="classcatalog_access_1_1_catalog.html#o30">m_selEllipse</a>.at(4)=cos(majAxis_deg * Angle_Conv);
00395 
00396   sortie &lt;&lt; <span class="stringliteral">"selection ellipse center RA="</span> &lt;&lt; std::setprecision(4)
00397          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o21">m_selEllipseCentRA_deg</a> &lt;&lt; <span class="stringliteral">" , DEC="</span>
00398          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o22">m_selEllipseCentDEC_deg</a> &lt;&lt; <span class="stringliteral">" with radius "</span>
00399          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o24">m_selEllipseMajAxis_deg</a> &lt;&lt; <span class="stringliteral">" * "</span>
00400          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o23">m_selEllipseMinAxis_deg</a> &lt;&lt; <span class="stringliteral">" (degrees) orientated at "</span>
00401          &lt;&lt; <a class="code" href="classcatalog_access_1_1_catalog.html#o25">m_selEllipseRot_deg</a> &lt;&lt; <span class="stringliteral">" (with respect to North pole)"</span>;
00402   <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());
00403   <span class="comment">/* if no data: exit */</span>
00404   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00405 
00406   <span class="comment">// now, apply the selection ellipse</span>
00407   std::vector&lt;bool&gt; isSelected;
00408   <a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected); <span class="comment">// returns true (m_selRegion is true)</span>
00409   <span class="keywordtype">bool</span> check;
00410   <span class="keywordtype">int</span> nRA =<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o28">m_indexRA</a>].m_index,
00411       nDEC=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[<a class="code" href="classcatalog_access_1_1_catalog.html#o29">m_indexDEC</a>].m_index;
00412   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel;
00413   <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00414   <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00415 
00416     check=<a class="code" href="classcatalog_access_1_1_catalog.html#c2">checkRegion</a>(i, nRA, nDEC);
00417     currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i);
00418     <span class="keywordflow">if</span> (check) <span class="comment">// setting 2nd bit to 1</span>
00419       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i)=currSel | 2ul;
00420     <span class="keywordflow">else</span>       <span class="comment">// setting 2nd bit to 0</span>
00421       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i)=currSel &amp; (Max_Test-2ul);
00422     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00423 
00424   }<span class="comment">// loop on all rows</span>
00425   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00426 }
</pre></div>    </td>
  </tr>
</table>
<a name="a57" doxytag="catalogAccess::Catalog::setUpperCut"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::setUpperCut </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cutVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00557">557</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00557                                                             {
00558 
00559   <span class="keyword">const</span> std::string origin=<span class="stringliteral">"setUpperCut"</span>;
00560   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(origin, <span class="keyword">true</span>);
00561   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00562 
00563   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(origin, name);
00564   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00565   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00566     std::string errText;
00567     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00568     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(origin, errText);
00569     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00570   }
00571   <span class="comment">// if cut is the same: do nothing</span>
00572   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) cutVal=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00573   <span class="keywordflow">if</span> (cutVal == <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_upperCut) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00574   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_upperCut=cutVal;
00575 
00576   <span class="comment">/* if no data: exit */</span>
00577   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00578 
00579   std::vector&lt;bool&gt; isSelected;
00580   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00581   <span class="keywordtype">bool</span> check=<span class="keyword">true</span>;
00582   <span class="keywordflow">if</span> (cutVal &gt;= <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>) {
00583     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, <span class="stringliteral">"Disabling upper cut (on "</span>+name+<span class="stringliteral">")"</span>);
00584     <span class="keywordflow">if</span> (!oneCriteria) {
00585       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
00586         quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
00587         <span class="keywordflow">for</span> (index=0; index&lt;quantSize; index++)
00588           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[index].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
00589       }
00590       <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00591       check=<span class="keyword">false</span>;
00592       <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00593     }
00594   }
00595   <span class="keywordflow">else</span> {
00596     std::ostringstream sortie;
00597     sortie &lt;&lt; <span class="stringliteral">"Enabling upper cut ("</span> &lt;&lt;cutVal&lt;&lt;<span class="stringliteral">" on "</span>&lt;&lt;name&lt;&lt; <span class="stringliteral">")"</span>;
00598     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(1, sortie.str());  
00599   }
00600   
00601   <span class="keywordflow">if</span> (check) {
00602     <span class="keywordtype">bool</span> reject=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_rejectNaN,
00603          cutOR=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_cutORed,
00604          miss=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_excludeList;
00605     <span class="keywordtype">double</span> precis=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_precision;
00606     <span class="keywordtype">int</span>  k,
00607          pos=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00608     <span class="keywordtype">long</span> i;
00609     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00610     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00611     <span class="comment">// true if given quantity is selected (list or lower/upper cut)</span>
00612     oneCriteria=isSelected.at(index+1);
00613     <span class="keywordflow">if</span> (oneCriteria) {
00614 
00615       <span class="comment">// due to NaN test, call checkNUM only if selection exists</span>
00616       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00617         <span class="keywordflow">if</span> (!cutOR) <span class="comment">// usual case</span>
00618           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c3">checkNUM</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, miss, reject, precis);
00619         <span class="keywordflow">else</span>
00620           check=<a class="code" href="classcatalog_access_1_1_catalog.html#c4">checkNUMor</a>(<a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[pos].at(i), index, reject, precis);
00621         <span class="comment">// setting required bit</span>
00622         <span class="keywordflow">if</span> (check)
00623           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)|= test;
00624         <span class="keywordflow">else</span>
00625           <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00626         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00627       }<span class="comment">// loop on rows</span>
00628 
00629     }
00630     <span class="keywordflow">else</span> {
00631 
00632       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00633         <span class="comment">// required bit set to FALSE</span>
00634         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00635         <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00636       }<span class="comment">// loop on rows</span>
00637 
00638     }
00639   }
00640   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00641 }
</pre></div>    </td>
  </tr>
</table>
<a name="c13" doxytag="catalogAccess::Catalog::translate_cell"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::translate_cell </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>mot</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>index</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00283">283</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00394">m_numericals</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="catalog_8h-source.html#l00386">m_strings</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>.
<p>
<div class="fragment"><pre>00283                                                            {
00284 
00285   <span class="keywordtype">int</span>  j, last;
00286   <span class="keywordtype">char</span> form; 
00287 
00288   <span class="comment">// remove trailing spaces</span>
00289   last=mot.length();
00290 <span class="comment">/* useless Warning, happen many times for last column of 3EG objects (EGRET)</span>
00291 <span class="comment">  if (last == 0) {</span>
00292 <span class="comment">    std::ostringstream sortie;</span>
00293 <span class="comment">    sortie &lt;&lt; "one quantity has no character (row #" &lt;&lt; m_numRows+1 &lt;&lt; ")";</span>
00294 <span class="comment">    printWarn("private translate_cell", sortie.str());</span>
00295 <span class="comment">  }</span>
00296 <span class="comment">  else {*/</span>
00297   <span class="keywordflow">if</span> (last) {
00298     <span class="keywordflow">do</span> last--;
00299     <span class="keywordflow">while</span> ( (last &gt;= 0) &amp;&amp; (mot.at(last) == <span class="charliteral">' '</span>) );
00300   }
00301   last++;
00302   j=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_index;
00303   form=<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>[index].m_format.at(0);
00304   <span class="keywordflow">if</span> (form == <span class="charliteral">'A'</span>) {
00305     <a class="code" href="classcatalog_access_1_1_catalog.html#o12">m_strings</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>)=mot.substr(0, last);
00306   }
00307   <span class="keywordflow">else</span> {
00308     <span class="keywordflow">if</span> (last) {
00309       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>)=std::atof(mot.c_str());
00310     }
00311     <span class="keywordflow">else</span>
00312       <a class="code" href="classcatalog_access_1_1_catalog.html#o13">m_numericals</a>[j].at(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>)=0./0.;
00313   }
00314 
00315 }
</pre></div>    </td>
  </tr>
</table>
<a name="c6" doxytag="catalogAccess::Catalog::unsetCuts"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void catalogAccess::Catalog::unsetCuts </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>index</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00223">223</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00727">bitPosition()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00223                                        {
00224 
00225   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_listValS.clear();
00226   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_lowerCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00227   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_upperCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00228   <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_listValN.clear();
00229   <span class="comment">/* if no data: exit */</span>
00230   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span>;
00231 
00232   <span class="comment">// now, must check criteria on region and other quantities</span>
00233   <span class="keywordtype">int</span> k;
00234   std::vector&lt;bool&gt; isSelected;
00235   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00236   <span class="keywordflow">if</span> (oneCriteria) {
00237 
00238     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> test=<a class="code" href="classcatalog_access_1_1_catalog.html#c28">bitPosition</a>(index, &amp;k);
00239     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00240     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00241       <span class="comment">// setting required bit to 0</span>
00242       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].at(i)&amp;= (Max_Test-test);
00243       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00244     }<span class="comment">// loop on rows</span>
00245 
00246   }
00247   <span class="keywordflow">else</span> {
00248     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
00249       <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size(); <span class="comment">// to avoid compiler Warning</span>
00250       <span class="keywordflow">for</span> (k=0; k&lt;quantSize; k++)
00251         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[k].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
00252     }
00253     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00254     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00255   }
00256 
00257 }
</pre></div>    </td>
  </tr>
</table>
<a name="a52" doxytag="catalogAccess::Catalog::unsetCuts"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetCuts </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00274">274</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00414">m_selection</a>, <a class="el" href="quantity_8h-source.html#l00025">NO_SEL_CUT</a>, and <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>.
<p>
Referenced by <a class="el" href="catalog__sel_8cxx-source.html#l00260">unsetCuts()</a>.
<p>
<div class="fragment"><pre>00274                        {
00275 
00276   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"unsetCuts"</span>, <span class="keyword">true</span>);
00277   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00278   <span class="keywordtype">int</span> j;
00279   <span class="comment">/*for (j=0; j&lt;quantSize; j++) unsetCuts(m_quantities.at(j).m_name);*/</span>
00280   <span class="comment">//quicker to just check for selection ellipse</span>
00281   <span class="keywordflow">for</span> (j=0; j&lt;quantSize; j++) {
00282     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_listValS.clear();
00283     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_lowerCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00284     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_upperCut=<a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>;
00285     <a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(j).m_listValN.clear();
00286   }
00287   <a class="code" href="classcatalog_access_1_1_catalog.html#o18">m_selection</a>=<span class="stringliteral">""</span>;
00288   <span class="comment">/* if no data: exit */</span>
00289   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00290 
00291   <span class="comment">// now, must check criteria on region</span>
00292   quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
00293   <span class="keywordflow">if</span> (m_selRegion) {
00294 
00295     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> currSel;
00296     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00297     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00298       currSel=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i);
00299       <span class="keywordflow">if</span> (currSel &amp; 2ul) {
00300         <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i)=3ul;
00301         <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00302       }
00303       <span class="keywordflow">else</span> <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i)=0ul;
00304       <span class="comment">// setting all bits to 0 except first two</span>
00305       <span class="keywordflow">for</span> (j=1; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].at(i)=0ul;
00306     }<span class="comment">// loop on rows</span>
00307 
00308   }
00309   <span class="keywordflow">else</span> {
00310     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0)
00311       <span class="keywordflow">for</span> (j=0; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
00312     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00313     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00314   }
00315   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00316 }
</pre></div>    </td>
  </tr>
</table>
<a name="a51" doxytag="catalogAccess::Catalog::unsetCuts"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetCuts </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00260">260</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00274">unsetCuts()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00260                                            {
00261 
00262   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"unsetCuts"</span>, <span class="keyword">true</span>);
00263   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00264   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"unsetCuts"</span>, name);
00265   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00266 
00267   <a class="code" href="classcatalog_access_1_1_catalog.html#a52">unsetCuts</a>(index);
00268   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00269 }
</pre></div>    </td>
  </tr>
</table>
<a name="a55" doxytag="catalogAccess::Catalog::unsetSelEllipse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::unsetSelEllipse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00429">429</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="namespacecatalog_access.html#a35a11">catalogAccess::IS_OK</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00401">m_numRows</a>, <a class="el" href="catalog_8h-source.html#l00435">m_numSelRows</a>, <a class="el" href="catalog_8h-source.html#l00408">m_rowIsSelected</a>, <a class="el" href="catalog_8h-source.html#l00419">m_selRegion</a>, <a class="el" href="quantity_8cxx-source.html#l00031">catalogAccess::printLog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>.
<p>
<div class="fragment"><pre>00429                              {
00430 
00431   <span class="keywordtype">int</span> quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"unsetSelEllipse"</span>, <span class="keyword">true</span>);
00432   <span class="keywordflow">if</span> (quantSize &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> quantSize;
00433 
00434   <span class="comment">// if region was already unset: do nothing</span>
00435   <span class="keywordflow">if</span> (!<a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a>) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00436   <a class="code" href="classcatalog_access_1_1_catalog.html#o20">m_selRegion</a>=<span class="keyword">false</span>;
00437   <span class="comment">/* if no data: exit */</span>
00438   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a> == 0) <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00439 
00440   <span class="comment">// now, must check criteria on other quantities</span>
00441   std::vector&lt;bool&gt; isSelected;
00442   <span class="keywordtype">bool</span> oneCriteria=<a class="code" href="classcatalog_access_1_1_catalog.html#c27">existCriteria</a>(&amp;isSelected);
00443   <span class="keywordflow">if</span> (oneCriteria) {
00444     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00445     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i=0; i&lt;<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>; i++) {
00446 
00447       <span class="comment">// setting 2nd bit to 0</span>
00448       <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[0].at(i)&amp;= (Max_Test-2ul);
00449       <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#c5">rowSelect</a>(i, isSelected) == <span class="keyword">true</span>) <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>++;
00450  
00451     }<span class="comment">// loop on rows</span>
00452   }
00453   <span class="keywordflow">else</span> {
00454     <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a> &gt; 0) {
00455       quantSize=<a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>.size();
00456       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;quantSize; j++) <a class="code" href="classcatalog_access_1_1_catalog.html#o17">m_rowIsSelected</a>[j].assign(<a class="code" href="classcatalog_access_1_1_catalog.html#o16">m_numRows</a>, 0);
00457     }
00458     <a class="code" href="classcatalog_access_1_1_catalog.html#o26">m_numSelRows</a>=0;
00459     <a class="code" href="namespacecatalog_access.html#a34">printLog</a>(0, <span class="stringliteral">"All rows unselected"</span>);
00460   }
00461   <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a11">IS_OK</a>;
00462 }
</pre></div>    </td>
  </tr>
</table>
<a name="a61" doxytag="catalogAccess::Catalog::useOnlyN"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::useOnlyN </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>listVal</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l00775">775</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>00776                                                         {
00777 
00778   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"useOnlyN"</span>, <span class="keyword">true</span>);
00779   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> done;
00780   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"useOnlyN"</span>, name);
00781   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
00782 
00783   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::NUM) {  
00784     std::string errText;
00785     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of NUM type"</span>;
00786     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"useOnlyN"</span>, errText);
00787     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
00788   }
00789   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c8">doSelN</a>(name, index, 1, listVal);
00790   <span class="keywordflow">return</span> done;
00791 }
</pre></div>    </td>
  </tr>
</table>
<a name="a59" doxytag="catalogAccess::Catalog::useOnlyS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::useOnlyS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const std::string&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const std::vector&lt; std::string &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>slist</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const bool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>exact</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__sel_8cxx-source.html#l01150">1150</a> of file <a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a>.
<p>
References <a class="el" href="namespacecatalog_access.html#a35a24">catalogAccess::BAD_QUANT_TYPE</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="namespacecatalog_access.html#a35a12">catalogAccess::IS_VOID</a>, <a class="el" href="catalog_8h-source.html#l00383">m_quantities</a>, and <a class="el" href="quantity_8cxx-source.html#l00026">catalogAccess::printWarn()</a>.
<p>
Referenced by <a class="el" href="main__test_8cxx-source.html#l00022">main()</a>.
<p>
<div class="fragment"><pre>01151                                                                           {
01152 
01153   <span class="keywordtype">int</span> done=<a class="code" href="classcatalog_access_1_1_catalog.html#c22">checkImport</a>(<span class="stringliteral">"useOnlyS"</span>, <span class="keyword">true</span>);
01154   <span class="keywordflow">if</span> (done &lt; <a class="code" href="namespacecatalog_access.html#a35a12">IS_VOID</a>) <span class="keywordflow">return</span> done;
01155   <span class="keywordtype">int</span> index=<a class="code" href="classcatalog_access_1_1_catalog.html#c25">checkQuant_name</a>(<span class="stringliteral">"useOnlyS"</span>, name);
01156   <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> index;
01157 
01158   <span class="keywordflow">if</span> (<a class="code" href="classcatalog_access_1_1_catalog.html#o10">m_quantities</a>.at(index).m_type != Quantity::STRING) {  
01159     std::string errText;
01160     errText=<span class="stringliteral">"given Quantity name ("</span>+name+<span class="stringliteral">") is not of STRING type"</span>;
01161     <a class="code" href="namespacecatalog_access.html#a33">printWarn</a>(<span class="stringliteral">"useOnlyS"</span>, errText);
01162     <span class="keywordflow">return</span> <a class="code" href="namespacecatalog_access.html#a35a24">BAD_QUANT_TYPE</a>;
01163   }
01164   done=<a class="code" href="classcatalog_access_1_1_catalog.html#c7">doSelS</a>(name, index, 1, list, exact);
01165   <span class="keywordflow">return</span> done;
01166 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o2" doxytag="catalogAccess::Catalog::m_catName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_catName<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00374">374</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01732">createFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00531">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a name="o3" doxytag="catalogAccess::Catalog::m_catRef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_catRef<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00375">375</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00531">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a name="o0" doxytag="catalogAccess::Catalog::m_code"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_code<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00372">372</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00531">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>.    </td>
  </tr>
</table>
<a name="o19" doxytag="catalogAccess::Catalog::m_criteriaORed"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::m_criteriaORed<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00416">416</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>.    </td>
  </tr>
</table>
<a name="o7" doxytag="catalogAccess::Catalog::m_filePos"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_filePos<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00379">379</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>.    </td>
  </tr>
</table>
<a name="o29" doxytag="catalogAccess::Catalog::m_indexDEC"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::m_indexDEC<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00438">438</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01272">getNameDEC()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o27" doxytag="catalogAccess::Catalog::m_indexErr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::m_indexErr<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00436">436</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01282">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>.    </td>
  </tr>
</table>
<a name="o28" doxytag="catalogAccess::Catalog::m_indexRA"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int catalogAccess::Catalog::m_indexRA<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00437">437</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01262">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o11" doxytag="catalogAccess::Catalog::m_loadQuantity"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;bool&gt; catalogAccess::Catalog::m_loadQuantity<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00384">384</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00038">selectAllQuantities()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00021">selectQuantity()</a>.    </td>
  </tr>
</table>
<a name="o13" doxytag="catalogAccess::Catalog::m_numericals"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;double&gt; &gt; catalogAccess::Catalog::m_numericals<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00394">394</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00247">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01171">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01286">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00745">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00771">getSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00872">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00842">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01863">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00283">translate_cell()</a>.    </td>
  </tr>
</table>
<a name="o14" doxytag="catalogAccess::Catalog::m_numOriRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numOriRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00399">399</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00158">getRAMsize()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>.    </td>
  </tr>
</table>
<a name="o15" doxytag="catalogAccess::Catalog::m_numReadRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numReadRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00400">400</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00247">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>.    </td>
  </tr>
</table>
<a name="o16" doxytag="catalogAccess::Catalog::m_numRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00401">401</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="catalog_8h-source.html#l00632">checkSize_row()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01171">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01286">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l01272">getNameDEC()</a>, <a class="el" href="catalog_8cxx-source.html#l01282">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01262">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l00687">getNumRows()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getSValues()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01297">importWeb()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00872">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00842">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01863">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00283">translate_cell()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o26" doxytag="catalogAccess::Catalog::m_numSelRows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> long catalogAccess::Catalog::m_numSelRows<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00435">435</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00664">checkSel_row()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01171">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01286">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00903">getNumSelRows()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00320">setCriteriaORed()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o9" doxytag="catalogAccess::Catalog::m_posErrFactor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_posErrFactor<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00381">381</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00053">setPosErrFactor()</a>.    </td>
  </tr>
</table>
<a name="o8" doxytag="catalogAccess::Catalog::m_posErrSys"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_posErrSys<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00380">380</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, and <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>.    </td>
  </tr>
</table>
<a name="o10" doxytag="catalogAccess::Catalog::m_quantities"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;<a class="el" href="classcatalog_access_1_1_quantity.html">Quantity</a>&gt; catalogAccess::Catalog::m_quantities<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00383">383</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8h-source.html#l00596">checkImport()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00092">checkNUM()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00131">checkNUMor()</a>, <a class="el" href="catalog_8h-source.html#l00649">checkQuant_name()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00994">checkValWithinCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01732">createFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00756">excludeN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01131">excludeS()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="catalog_8cxx-source.html#l01305">getNameB()</a>, <a class="el" href="catalog_8cxx-source.html#l01272">getNameDEC()</a>, <a class="el" href="catalog_8cxx-source.html#l01293">getNameL()</a>, <a class="el" href="catalog_8cxx-source.html#l01318">getNameObjName()</a>, <a class="el" href="catalog_8cxx-source.html#l01282">getNamePosErr()</a>, <a class="el" href="catalog_8cxx-source.html#l01262">getNameRA()</a>, <a class="el" href="catalog_8cxx-source.html#l00718">getNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00549">getQuantityDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00562">getQuantityNames()</a>, <a class="el" href="catalog_8cxx-source.html#l00631">getQuantityTypes()</a>, <a class="el" href="catalog_8cxx-source.html#l00608">getQuantityUCDs()</a>, <a class="el" href="catalog_8cxx-source.html#l00585">getQuantityUnits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00158">getRAMsize()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00745">getStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00655">getStatErrorName()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00771">getSysError()</a>, <a class="el" href="catalog_8cxx-source.html#l00667">getSysErrorName()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01156">importDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01285">importDescriptionWeb()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01297">importWeb()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00794">includeN()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00872">maxVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l00842">minVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01863">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00078">setGeneric()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00053">setPosErrFactor()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00283">translate_cell()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00775">useOnlyN()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l01150">useOnlyS()</a>.    </td>
  </tr>
</table>
<a name="o17" doxytag="catalogAccess::Catalog::m_rowIsSelected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;unsigned long&gt; &gt; catalogAccess::Catalog::m_rowIsSelected<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00408">408</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l01191">dec_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00654">doSelN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01171">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01286">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00938">getSelNValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00970">getSelStatError()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l01003">getSelSysError()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01297">importWeb()</a>, <a class="el" href="catalog_8cxx-source.html#l01119">maxSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01084">minSelVal()</a>, <a class="el" href="catalog_8cxx-source.html#l01224">posError_deg()</a>, <a class="el" href="catalog_8cxx-source.html#l01158">ra_deg()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00177">rowSelect()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00468">setLowerCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00932">setMatchEpsilon()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00871">setMatchPercent()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00814">setRejectNaN()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00557">setUpperCut()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00223">unsetCuts()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o18" doxytag="catalogAccess::Catalog::m_selection"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_selection<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00414">414</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00274">unsetCuts()</a>.    </td>
  </tr>
</table>
<a name="o30" doxytag="catalogAccess::Catalog::m_selEllipse"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;double&gt; catalogAccess::Catalog::m_selEllipse<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00439">439</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00062">checkRegion()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01219">loadWeb()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o22" doxytag="catalogAccess::Catalog::m_selEllipseCentDEC_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseCentDEC_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00424">424</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o21" doxytag="catalogAccess::Catalog::m_selEllipseCentRA_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseCentRA_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00422">422</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o24" doxytag="catalogAccess::Catalog::m_selEllipseMajAxis_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseMajAxis_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00428">428</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o23" doxytag="catalogAccess::Catalog::m_selEllipseMinAxis_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseMinAxis_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00426">426</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o25" doxytag="catalogAccess::Catalog::m_selEllipseRot_deg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double catalogAccess::Catalog::m_selEllipseRot_deg<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00430">430</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o20" doxytag="catalogAccess::Catalog::m_selRegion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool catalogAccess::Catalog::m_selRegion<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00419">419</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8h-source.html#l00685">existCriteria()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l00344">setSelEllipse()</a>, and <a class="el" href="catalog__sel_8cxx-source.html#l00429">unsetSelEllipse()</a>.    </td>
  </tr>
</table>
<a name="o12" doxytag="catalogAccess::Catalog::m_strings"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::vector&lt;std::vector&lt;std::string&gt; &gt; catalogAccess::Catalog::m_strings<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00386">386</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00247">add_rows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00217">create_tables()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00066">deleteContent()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01041">doSelS()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01171">eraseNonSelected()</a>, <a class="el" href="catalog__sel_8cxx-source.html#l01286">eraseSelected()</a>, <a class="el" href="catalog_8cxx-source.html#l00910">getSelSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l01043">getSelSValues()</a>, <a class="el" href="catalog_8cxx-source.html#l00695">getSValue()</a>, <a class="el" href="catalog_8cxx-source.html#l00805">getSValues()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01170">import()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01863">saveFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01910">saveSelectedFits()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00283">translate_cell()</a>.    </td>
  </tr>
</table>
<a name="o4" doxytag="catalogAccess::Catalog::m_tableName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_tableName<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00376">376</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01732">createFits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00117">deleteQuantities()</a>, <a class="el" href="catalog_8cxx-source.html#l00531">getCatalogTitles()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, and <a class="el" href="catalog_8h-source.html#l00584">~Catalog()</a>.    </td>
  </tr>
</table>
<a name="o5" doxytag="catalogAccess::Catalog::m_tableRef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_tableRef<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00377">377</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01513">createText()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, and <a class="el" href="catalog_8cxx-source.html#l00531">getCatalogTitles()</a>.    </td>
  </tr>
</table>
<a name="o1" doxytag="catalogAccess::Catalog::m_URL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::string catalogAccess::Catalog::m_URL<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00373">373</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00319">analyze_fits()</a>, <a class="el" href="catalog_8cxx-source.html#l00149">Catalog()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00531">getCatalogTitles()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>.    </td>
  </tr>
</table>
<a name="o6" doxytag="catalogAccess::Catalog::myFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> std::fstream catalogAccess::Catalog::myFile<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog_8h-source.html#l00378">378</a> of file <a class="el" href="catalog_8h-source.html">catalog.h</a>.
<p>
Referenced by <a class="el" href="catalog__io_8cxx-source.html#l00704">analyze_body()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00506">analyze_head()</a>, <a class="el" href="catalog_8cxx-source.html#l00089">deleteDescription()</a>, <a class="el" href="catalog_8cxx-source.html#l00347">getMaxNumRows()</a>, <a class="el" href="catalog__io_8cxx-source.html#l01457">importSelected()</a>, <a class="el" href="catalog__io_8cxx-source.html#l00977">load()</a>, and <a class="el" href="catalog__io_8cxx-source.html#l01332">loadSelected()</a>.    </td>
  </tr>
</table>
<a name="r2" doxytag="catalogAccess::Catalog::s_CatalogGeneric"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * catalogAccess::Catalog::s_CatalogGeneric<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre>{
     {<span class="stringliteral">"3EG"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"theta95"</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"3EG"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="stringliteral">""</span>},
     {<span class="stringliteral">""</span>,    <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"1RXS"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"PosErr"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"Name"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},   
     {<span class="stringliteral">"1WGA"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"ErrorRad"</span>, <span class="stringliteral">"GLON"</span>, <span class="stringliteral">"GLAT"</span>},
     {<span class="stringliteral">"1RXS"</span>, <span class="stringliteral">"RAJ2000"</span>, <span class="stringliteral">"DEJ2000"</span>, <span class="stringliteral">"PosErr"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>},
     {<span class="stringliteral">"SNR"</span>,  <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"+"</span>, <span class="stringliteral">"+"</span>}   
}</pre></div>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00050">50</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a name="r1" doxytag="catalogAccess::Catalog::s_CatalogList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * catalogAccess::Catalog::s_CatalogList<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre>{
      <span class="stringliteral">"EGRET3 sources"</span>, <span class="stringliteral">"J/ApJS/123/79/3eg"</span>,    
      <span class="stringliteral">"EGRET3 fluxes"</span>,  <span class="stringliteral">"J/ApJS/123/79/fluxes"</span>, 
      <span class="stringliteral">"EGRET3 periods"</span>, <span class="stringliteral">"J/ApJS/123/79/table1"</span>, 
      <span class="stringliteral">"ROSAT 1RXS"</span>,     <span class="stringliteral">"IX/10A/1rxs"</span>,          
      <span class="stringliteral">"Veron (11th) quasar"</span>, <span class="stringliteral">"VII/235/table1"</span>,  
      <span class="stringliteral">"Veron (11th) BL Lac"</span>, <span class="stringliteral">"VII/235/table2"</span>,  
      <span class="stringliteral">"Veron (11th) AGN"</span>,    <span class="stringliteral">"VII/235/table3"</span>,  
      <span class="stringliteral">"WGACAT of ROSAT"</span>,     <span class="stringliteral">"IX/31/wgacat"</span>,    
      <span class="stringliteral">"ROSAT faint sources"</span>, <span class="stringliteral">"IX/29/rass_fsc"</span>,  
      <span class="stringliteral">"Green galactic SNR"</span>,  <span class="stringliteral">"VII/227/snrs"</span>     
      }</pre></div>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00036">36</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a name="r0" doxytag="catalogAccess::Catalog::s_CatalogURL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char * catalogAccess::Catalog::s_CatalogURL<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre>{
      <span class="stringliteral">"cds   fr vizier.u-strasbg.fr/"</span>,    
      <span class="stringliteral">"cfa   us vizier.cfa.harvard.edu/"</span>, 
      <span class="stringliteral">"cadc  ca vizier.hia.nrc.ca/"</span>,      
      <span class="stringliteral">"adac  jp vizier.nao.ac.jp/"</span>,       
      <span class="stringliteral">"ukirt hawaii www.ukirt.jach.hawaii.edu/"</span>, 
      <span class="stringliteral">"cambridge uk archive.ast.cam.ac.uk/"</span>,
      <span class="stringliteral">"iucaa in urania.iucaa.ernet.in/"</span>,  
      <span class="stringliteral">"moscow ru www.inasan.rssi.ru/"</span>,    
      <span class="stringliteral">"bejing cn data.bao.ac.cn/"</span>         
      }</pre></div>
<p>
Definition at line <a class="el" href="catalog_8cxx-source.html#l00023">23</a> of file <a class="el" href="catalog_8cxx-source.html">catalog.cxx</a>.    </td>
  </tr>
</table>
<a name="r4" doxytag="catalogAccess::Catalog::s_genericB"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const std::string catalogAccess::Catalog::s_genericB = UCD_List[5]<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00042">42</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.    </td>
  </tr>
</table>
<a name="r3" doxytag="catalogAccess::Catalog::s_genericL"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const std::string catalogAccess::Catalog::s_genericL = UCD_List[4]<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="catalog__io_8cxx-source.html#l00041">41</a> of file <a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="catalog_8h-source.html">catalog.h</a><li><a class="el" href="catalog_8cxx-source.html">catalog.cxx</a><li><a class="el" href="catalog__io_8cxx-source.html">catalog_io.cxx</a><li><a class="el" href="catalog__sel_8cxx-source.html">catalog_sel.cxx</a></ul>
<hr><address style="align: right;"><small>Generated on Mon Jun 20 15:18:17 2005 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
