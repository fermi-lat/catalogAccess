<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>main_test.cxx Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>main_test.cxx</h1><a href="main__test_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00009 <span class="preprocessor">#include "st_facilities/Env.h"</span>
00010 <span class="preprocessor">#include "<a class="code" href="catalog_8h.html">src/catalog.h</a>"</span>
00011 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00012 
00013 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a1">help</a>();
00014 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="keyword">const</span> std::string text);
00015 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(<span class="keyword">const</span> <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a> &amp;);
00016 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> std::string val);
00017 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> <span class="keywordtype">double</span> val);
00018 
00019 <span class="keyword">static</span> <span class="keyword">const</span> std::_Ios_Fmtflags outDouble=std::ios::right|std::ios::scientific;
00020 
<a name="l00021"></a><a class="code" href="main__test_8cxx.html#a6">00021</a> <span class="keywordtype">int</span> <a class="code" href="main__test_8cxx.html#a6">main</a>(<span class="keywordtype">int</span> iargc, <span class="keywordtype">char</span> * argv[]) {
00022 
00023 <span class="comment">// Show number of main argument</span>
00024   std::cout &lt;&lt; std::setw(70) &lt;&lt; std::setfill(<span class="charliteral">'*'</span>) &lt;&lt; <span class="stringliteral">"\n"</span>
00025             &lt;&lt; iargc-1 &lt;&lt; <span class="stringliteral">" given argument(s)"</span> &lt;&lt; std::endl;
00026 
00027 <span class="comment">// Parse the command line arguments.</span>
00028   <span class="keywordtype">double</span> axisDeg;
00029   std::string argString;
00030   <span class="keywordflow">if</span> (iargc &gt; 1) {
00031     axisDeg=std::atof(argv[1]); <span class="comment">//static_cast&lt;int&gt;()</span>
00032     argString=<span class="stringliteral">"Argument #1: "</span>;
00033   }
00034   <span class="keywordflow">else</span> {
00035     axisDeg=5.0;
00036     argString=<span class="stringliteral">"Argument #1 (default): "</span>;
00037   }
00038   std::cout &lt;&lt; argString &lt;&lt; std::setw(10) &lt;&lt; std::setfill(<span class="charliteral">' '</span>)
00039             &lt;&lt; std::setiosflags(outDouble | std::ios::showpoint)
00040             &lt;&lt; std::setprecision(4) &lt;&lt; axisDeg
00041             &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;
00042 
00043   argString=<span class="stringliteral">"/1rxs_50.out"</span>;
00044   <span class="keywordflow">if</span> (iargc &gt; 2) {
00045 
00046     <span class="comment">// All subsequent arguments are either option flags or filenames</span>
00047     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=2; i &lt; iargc; i++) {
00048       argString=argv[i]; <span class="comment">/* convert C string to C++ string */</span>
00049       <span class="keywordflow">if</span> (argString == <span class="stringliteral">"-help"</span>) {
00050         <a class="code" href="main__test_8cxx.html#a1">help</a>();
00051         <span class="keywordflow">return</span> 0;
00052       }
00053       std::cout &lt;&lt; <span class="stringliteral">"Argument #"</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; argString &lt;&lt; std::endl;    
00054     } <span class="comment">//loop on arguments</span>
00055 
00056   }
00057   <span class="keywordflow">else</span> std::cout &lt;&lt; <span class="stringliteral">"Argument #2 (default): "</span> &lt;&lt; argString &lt;&lt; std::endl;
00058 
00059   <span class="comment">// Some info on machine dependent constants</span>
00060   std::cout &lt;&lt; <span class="stringliteral">"\nsizeof bool, int, long, float, double, pointer = "</span>
00061             &lt;&lt; <span class="keyword">sizeof</span>(bool) &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(int) &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(long)
00062             &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(float) &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(double)
00063             &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *) &lt;&lt; std::endl;
00064   std::cout &lt;&lt; <span class="stringliteral">"screen output of Nan, +infinite, -infinite: "</span> 
00065             &lt;&lt; catalogAccess::MissNAN &lt;&lt; <span class="stringliteral">",  "</span> &lt;&lt; 1/0. &lt;&lt; <span class="stringliteral">",  "</span> &lt;&lt; -1/0.
00066             &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::endl;
00067 
00068   std::cout &lt;&lt; <span class="stringliteral">"Number to unselect = "</span> &lt;&lt; std::setiosflags(outDouble)
00069             &lt;&lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a> &lt;&lt; <span class="stringliteral">"\nConstant arcsecond = "</span>
00070             &lt;&lt; catalogAccess::Min_Axis &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::endl;
00071   std::cout &lt;&lt; <span class="stringliteral">"The minimum value for double is "</span>
00072             &lt;&lt; std::numeric_limits&lt;double&gt;::min() &lt;&lt; std::endl;
00073   std::cout &lt;&lt; <span class="stringliteral">"The maximum value for double is "</span>
00074             &lt;&lt; std::numeric_limits&lt;double&gt;::max() &lt;&lt; std::endl;
00075   std::cout &lt;&lt; <span class="stringliteral">"The epsilon value for double is "</span>
00076             &lt;&lt; std::numeric_limits&lt;double&gt;::epsilon() &lt;&lt; std::setprecision(3)
00077             &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;
00078 <span class="comment">/* //not interesting info</span>
00079 <span class="comment">  std::cout &lt;&lt; "The epsilon value for float  is "&lt;&lt; std::setiosflags(outDouble)</span>
00080 <span class="comment">            &lt;&lt; std::numeric_limits&lt;float&gt;::epsilon() &lt;&lt; std::endl;</span>
00081 <span class="comment">  std::cout &lt;&lt; "The minimum exponent for double is "</span>
00082 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::min_exponent10 &lt;&lt; std::endl;</span>
00083 <span class="comment">  std::cout &lt;&lt; "The maximum exponent for double is "</span>
00084 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::max_exponent10 &lt;&lt; std::endl;</span>
00085 <span class="comment">  std::cout &lt;&lt; "Can double represent: positive infinity, quiet NaN and"</span>
00086 <span class="comment">            &lt;&lt; " signaling NaN ?\n"</span>
00087 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::has_infinity &lt;&lt; ", "</span>
00088 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::has_quiet_NaN &lt;&lt; " and "</span>
00089 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::has_signaling_NaN &lt;&lt; std::endl;</span>
00090 <span class="comment">  std::cout &lt;&lt; "How does a double represent positive infinity ?\n"</span>
00091 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::infinity() &lt;&lt; std::endl;</span>
00092 <span class="comment">  std::cout &lt;&lt; "How does a double represent quiet &amp; signaling NaN ?\n"</span>
00093 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::quiet_NaN() &lt;&lt; "\n"</span>
00094 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::signaling_NaN()</span>
00095 <span class="comment">            &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;</span>
00096 <span class="comment">*/</span>
00097   <span class="keywordtype">long</span> numRows=1;
00098   <span class="keywordtype">int</span> vecSize, i, err;
00099   std::vector&lt;std::string&gt; catNames, webSites;
00100   std::string strVal;
00101   std::vector&lt;catalogAccess::Quantity&gt; allQ;
00102 
00103 <span class="comment">/****************************************************************************/</span>
00104   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 1) METHODS when NOTHING IMPORTED"</span>);
00105   <a class="code" href="classcatalog_access_1_1_catalog.html">catalogAccess::Catalog</a> *myCat = <span class="keyword">new</span> <a class="code" href="classcatalog_access_1_1_catalog.html">catalogAccess::Catalog</a>();
00106   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00107   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'myCat' (new catalog pointer) = "</span>
00108             &lt;&lt; numRows &lt;&lt; std::endl;
00109 
00110   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityDescription"</span> &lt;&lt; std::endl;
00111   allQ.resize(1);
00112   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00113   vecSize=allQ.size();
00114   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" (with vector of size "</span>
00115             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00116 
00117   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityNames"</span> &lt;&lt; std::endl;
00118   catNames.resize(1);
00119   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00120   vecSize=catNames.size();
00121   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" (with vector of size "</span>
00122             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00123 
00124   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, unsetCuts, setLowerCut"</span> &lt;&lt; std::endl;
00125   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00126   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00127   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">""</span>, 1.0);
00128 
00129   <span class="comment">// two ways to use static members</span>
00130   <a class="code" href="classcatalog_access_1_1_catalog.html#d0">catalogAccess::Catalog::getCatList</a>(&amp;catNames);
00131   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#d0">getCatList</a>(&amp;webSites, <span class="keyword">false</span>);
00132   std::cout &lt;&lt; <span class="stringliteral">"\n* Available catalogs (with their web query name):"</span>
00133             &lt;&lt; std::endl;
00134   vecSize=catNames.size();
00135   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00136     std::cout &lt;&lt; std::setw(20) &lt;&lt; std::setfill(<span class="charliteral">' '</span>) &lt;&lt; catNames[i]
00137               &lt;&lt; <span class="stringliteral">" ("</span> &lt;&lt; webSites[i] &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00138   }
00139 
00140 
00141 <span class="comment">/****************************************************************************/</span>
00142   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 2) METHODS when IMPORT FAILS"</span>);
00143   std::cout &lt;&lt; <span class="stringliteral">"* Try to load via Web the unknown catalog \"toto\""</span>
00144             &lt;&lt; <span class="stringliteral">" (pointer 'myCat')"</span> &lt;&lt; std::endl;
00145   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a>(<span class="stringliteral">"toto"</span>);
00146   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a>(<span class="stringliteral">"toto"</span>);
00147   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" then "</span> &lt;&lt; i &lt;&lt; std::endl;
00148   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00149   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'myCat' = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00150 
00151   std::cout &lt;&lt; <span class="stringliteral">"\n* Try to load via Web catalog \"ROSAT 1RXS\""</span>
00152             &lt;&lt; <span class="stringliteral">" (pointer 'myCat')"</span> &lt;&lt; std::endl;
00153   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a>(<span class="stringliteral">"ROSAT 1RXS"</span>, <span class="stringliteral">""</span>);
00154   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a>(<span class="stringliteral">"ROSAT 1RXS"</span>, <span class="stringliteral">"cdu"</span>, -1);
00155   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" then "</span> &lt;&lt; i &lt;&lt; std::endl;
00156   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00157   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'myCat' = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00158 
00159   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected"</span> &lt;&lt; std::endl;
00160   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00161   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00162 
00163   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityNames"</span> &lt;&lt; std::endl;
00164   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00165   vecSize=catNames.size();
00166   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" (with vector of size "</span>
00167             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00168 
00169   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, unsetCuts, setLowerCut"</span> &lt;&lt; std::endl;
00170   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00171   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00172   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">""</span>, 1.0);
00173 
00174   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#d1">getWebList</a>(&amp;catNames);
00175   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#d1">getWebList</a>(&amp;webSites, <span class="keyword">false</span>);
00176   std::cout &lt;&lt; <span class="stringliteral">"\n* Possible sites (with their http address):"</span>
00177             &lt;&lt; std::endl;
00178   vecSize=catNames.size();
00179   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00180 <span class="comment">//    std::cout &lt;&lt; std::setw(16) &lt;&lt; std::setfill('*') &lt;&lt; catNames[i]</span>
00181     std::cout &lt;&lt; std::setw(16) &lt;&lt; std::setfill(<span class="charliteral">' '</span>) &lt;&lt; catNames[i]
00182               &lt;&lt; <span class="stringliteral">" ("</span> &lt;&lt; webSites[i] &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00183   }
00184 
00185 
00186 <span class="comment">/****************************************************************************/</span>
00187   <span class="keywordtype">double</span> rVal;
00188   std::vector&lt;double&gt; listVal;
00189   <span class="keyword">const</span> std::string myPath=st_facilities::Env::getDataDir(<span class="stringliteral">"catalogAccess"</span>);
00190   <span class="keywordflow">if</span> (myPath==<span class="stringliteral">""</span>)
00191     <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"Environment variable CATALOGACCESSROOT not set"</span>);
00192 <span class="comment">// const std::string myPath="/home/aymsauv/GLAST/ZprogU9/unit_test/data";</span>
00193 
00194   strVal=myPath+<span class="stringliteral">"/3EG_test.out"</span>; 
00195 
00196   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 3) METHODS when IMPORT WORKS (on EGRET)"</span>);
00197   std::cout &lt;&lt; <span class="stringliteral">"* Calling: importDescription on file \"3EG_test.out\""</span>
00198             &lt;&lt; <span class="stringliteral">" (pointer 'myCat')"</span> &lt;&lt; std::endl;
00199   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00200   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00201   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00202   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getQuantityNames, get "</span> &lt;&lt; vecSize
00203             &lt;&lt; <span class="stringliteral">" quantities:"</span> &lt;&lt; std::endl;
00204   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt; catNames[i] &lt;&lt; std::endl;
00205   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00206   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00207 
00208   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityDescription, results: "</span>&lt;&lt; std::endl;
00209   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00210   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00211 
00212   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, unsetCuts, setLowerCut"</span> &lt;&lt; std::endl;
00213   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00214   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00215   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">""</span>, 1.0);
00216   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00217             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00218 
00219   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected"</span> &lt;&lt; std::endl;
00220   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a49">selectQuantity</a>(<span class="stringliteral">"recno"</span>, <span class="keyword">false</span>);
00221   catNames.assign(1, <span class="stringliteral">"3eg J0010+7309"</span>);
00222   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a>(<span class="stringliteral">"3EG"</span>, catNames, <span class="keyword">false</span>);
00223   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"RAJ2000"</span>, 25);
00224   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00225   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00226   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00227   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00228 
00229   strVal=myPath+<span class="stringliteral">"/3EG_test.out"</span>; 
00230   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling again: importDescription on file \"3EG_test.out\""</span>
00231             &lt;&lt; std::endl;
00232   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00233   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00234 
00235   <span class="comment">/* changing the verbosity level up to maximum */</span>
00236   catalogAccess::verbosity=4;
00237   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \"3EG_test.out\" (with 5 rows)"</span>
00238             &lt;&lt; std::endl;
00239   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00240   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00241   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00242   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00243   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00244   std::cout &lt;&lt; <span class="stringliteral">"* Number of quantities &amp; rows = "</span>
00245             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">" &amp; "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00246 
00247   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected"</span> &lt;&lt; std::endl;
00248   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00249   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00250 
00251   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, three times on row 9"</span> &lt;&lt; std::endl;
00252   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 9,  &amp;strVal);
00253   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"3EG"</span>,9, &amp;strVal);
00254   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"DEJ2000"</span>, 9,  &amp;strVal);
00255   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00256             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00257  
00258   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, three times on row 0"</span> &lt;&lt; std::endl;
00259   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0,  &amp;strVal);
00260   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"3EG"</span>,0, &amp;strVal);
00261   <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="stringliteral">"3EG"</span>, strVal);
00262   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"DEJ2000"</span>, 0,  &amp;strVal);
00263   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00264             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00265 
00266   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getNValue, three times on row 1"</span> &lt;&lt; std::endl;
00267   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a>(<span class="stringliteral">"3EG"</span>, 1, &amp;rVal);
00268   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"3EG"</span>, rVal);
00269   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a>(<span class="stringliteral">"DEJ2000"</span>, 1, &amp;rVal);
00270   <span class="keywordflow">if</span> (vecSize &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000"</span>, rVal);
00271   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a>(<span class="stringliteral">"z"</span>, 1, &amp;rVal);
00272   <span class="keywordflow">if</span> (i &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z"</span>, rVal);
00273   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00274             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00275 
00276   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getStatErrorName on \"3EG\""</span> &lt;&lt; std::endl;
00277   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a21">getStatErrorName</a>(<span class="stringliteral">"3EG"</span>, &amp;strVal);
00278   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="stringliteral">"3EG stat error name"</span>, strVal);
00279   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getSysErrorName on \"DEJ2000\""</span> &lt;&lt; std::endl;
00280   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a22">getSysErrorName</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;strVal);
00281   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="stringliteral">"DEJ2000 sys. error name"</span>, strVal);
00282 
00283   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getStatError on \"3EG\" row 0"</span> &lt;&lt; std::endl;
00284   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a27">getStatError</a>(<span class="stringliteral">"3EG"</span>, 0, &amp;rVal);
00285   <span class="keywordflow">if</span> (err &gt;= 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"3EG stat error"</span>, rVal);
00286   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getSysError on \"DEJ2000\" row 0"</span> &lt;&lt; std::endl;
00287   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a28">getSysError</a>(<span class="stringliteral">"DEJ2000"</span>, 0, &amp;rVal);
00288   <span class="keywordflow">if</span> (err &gt;= 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000 sys. error"</span>, rVal);
00289 
00290   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSvalues on \"DEJ2000\""</span> &lt;&lt; std::endl;
00291   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;catNames);
00292   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getSvalues on \"n_theta95\""</span> &lt;&lt; std::endl;
00293   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a>(<span class="stringliteral">"n_theta95"</span>, &amp;catNames);
00294   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">", equal to size of vector"</span>
00295             &lt;&lt; <span class="stringliteral">" containing: "</span>;
00296   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00297   std::cout &lt;&lt; std::endl;
00298 
00299   std::cout &lt;&lt; <span class="stringliteral">"\n* Limits on \"3EG\", \"DEJ2000\", \"z\":"</span>
00300             &lt;&lt; std::endl;
00301   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"3EG"</span>, &amp;rVal);
00302   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"3EG"</span>, &amp;rVal);
00303   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;rVal);
00304   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000 minimum"</span>, rVal);
00305   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;rVal);
00306   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000 maximum"</span>, rVal);
00307   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"z"</span>, &amp;rVal);
00308   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z minimum"</span>, rVal);
00309   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"z"</span>, &amp;rVal);
00310   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z maximum"</span>, rVal);
00311 
00312 
00313 <span class="comment">/****************************************************************************/</span>
00314   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 4) COPY CONSTRUCTOR and QUANTITIES"</span>);
00315 <span class="comment">//try {</span>
00316   std::cout &lt;&lt; <span class="stringliteral">"* Default Quantity constructor, changing m_name to: toto"</span>
00317             &lt;&lt; std::endl;
00318   <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a> *myQ = <span class="keyword">new</span> <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a>();
00319   myQ-&gt;<a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a>=<span class="stringliteral">"toto"</span>;
00320   <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(*myQ);
00321   <span class="keyword">delete</span> myQ;
00322 
00323   std::cout &lt;&lt; <span class="stringliteral">"\n* Quantity constructor, changing m_name (time),"</span>
00324             &lt;&lt; <span class="stringliteral">" m_ucd, m_type (NUM), m_unit, m_index (0)"</span> &lt;&lt; std::endl;
00325   myQ = <span class="keyword">new</span> catalogAccess::Quantity(<span class="stringliteral">"time"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"IJD"</span>,
00326                            <a class="code" href="classcatalog_access_1_1_quantity.html#s3s0">catalogAccess::Quantity::NUM</a>, <span class="stringliteral">"sec"</span>, 0);
00327   <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(*myQ);
00328 
00329   std::cout &lt;&lt; <span class="stringliteral">"\n* Quantity COPY constructor, changing m_ucd to: IJDelapsed"</span>
00330             &lt;&lt; std::endl;
00331   catalogAccess::Quantity aQ = *myQ;
00332   aQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a>=<span class="stringliteral">"IJDelapsed"</span>;
00333   <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(aQ);
00334   <span class="keyword">delete</span> myQ;
00335 
00336   std::cout &lt;&lt; <span class="stringliteral">"\n* COPY 'myCat' to 'aCat' then DELETE 'myCat"</span> &lt;&lt; std::endl;
00337   catalogAccess::Catalog aCat = *myCat;
00338   <span class="keyword">delete</span> myCat;
00339   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00340   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'aCat' = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00341 
00342   catNames.assign(3, <span class="stringliteral">""</span>);
00343   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a>(&amp;catNames);
00344   std::cout &lt;&lt; <span class="stringliteral">"\n* 'aCat' info (size "</span> &lt;&lt; catNames.size() &lt;&lt; <span class="stringliteral">"):"</span>
00345             &lt;&lt; <span class="stringliteral">"\ncode=\""</span> &lt;&lt; catNames[0] &lt;&lt; <span class="stringliteral">"\""</span>
00346             &lt;&lt; <span class="stringliteral">"\nURL =\""</span> &lt;&lt; catNames[1] &lt;&lt; <span class="stringliteral">"\""</span>
00347             &lt;&lt; <span class="stringliteral">"\ncatalog=\""</span> &lt;&lt; catNames[2] &lt;&lt; <span class="stringliteral">"\""</span> &lt;&lt; std::endl;
00348 
00349   std::cout &lt;&lt; <span class="stringliteral">"\n* Getting all quantities from 'aCat':"</span> &lt;&lt; std::endl;
00350   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00351   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00352 <span class="comment">//} catch (...) { catalogAccess::printErr("copy constructor", ""); }</span>
00353 
00354 
00355 <span class="comment">/****************************************************************************/</span>
00356   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 5) SELECTING REGION after IMPORT (in copy 'aCat')"</span>);
00357   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00358   std::cout &lt;&lt; <span class="stringliteral">"* Number of selected rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00359 
00360   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSelSValue, getSelNValue "</span>
00361             &lt;&lt; <span class="stringliteral">"on unknown quantity:"</span> &lt;&lt; std::endl;
00362   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a33">getSelSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00363   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a34">getSelNValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;rVal);
00364 
00365   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: unsetCuts(), then setSelEllipse four times"</span>
00366             &lt;&lt; <span class="stringliteral">" with forbidden parameters:"</span> &lt;&lt; std::endl;
00367   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00368   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(-1, 90.1, 10, 92, 180.1);
00369   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>( 0, 90.1, 10, 92, 180.1);
00370   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>( 0, 32.1, 10, 92, 180.1);
00371   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>( 0, 32.1, 10, 92, 179.9);
00372 
00373   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse, with first main argument"</span>
00374             &lt;&lt; <span class="stringliteral">" as rotation:"</span> &lt;&lt; std::endl;
00375   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(1E-5, 73.125, 8.3, 9.2, axisDeg);
00376   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00377   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00378 
00379   std::cout &lt;&lt; <span class="stringliteral">"\n* String values or limits on \"zu\", \"z\", \"RAJ2000\", "</span>
00380             &lt;&lt; <span class="stringliteral">"\"n_theta95\":"</span> &lt;&lt; std::endl;
00381   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"zu"</span>, &amp;rVal);
00382   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"z"</span>, &amp;rVal);
00383   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z minimum (selected)"</span>, rVal);
00384   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00385   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"RAJ2000 minimum (selected)"</span>, rVal);
00386   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00387   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"RAJ2000 maximum (selected)"</span>, rVal);
00388   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"n_theta95"</span>, &amp;catNames);
00389   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">") contains: "</span>;
00390   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00391   std::cout &lt;&lt; std::endl;
00392 
00393   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse, with first main argument"</span>
00394             &lt;&lt; <span class="stringliteral">" as circle axis:"</span> &lt;&lt; std::endl;
00395 <span class="comment">//  err=aCat.setSelEllipse(156.95, -62.0, axisDeg, axisDeg);</span>
00396   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(0, -90., axisDeg, axisDeg);
00397   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00398   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00399 
00400   std::cout &lt;&lt; <span class="stringliteral">"\n* String values or limits on \"zu\", \"RAJ2000\", "</span>
00401             &lt;&lt; <span class="stringliteral">"\"n_theta95\":"</span> &lt;&lt; std::endl;
00402   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"zu"</span>, &amp;rVal);
00403   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"zu minimum (selected)"</span>, rVal);
00404   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00405   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00406   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"n_theta95"</span>, &amp;catNames);
00407   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00408 
00409 
00410 <span class="comment">/****************************************************************************/</span>
00411   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 6) READING FILE for IMPORT (in copy 'aCat')"</span>);
00412   std::cout &lt;&lt; <span class="stringliteral">"* Calling: importDescription(\"\"):"</span> &lt;&lt; std::endl;
00413   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">""</span>);
00414   std::cout &lt;&lt; <span class="stringliteral">"* Same call after deleteContent():"</span> &lt;&lt; std::endl;
00415   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00416   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">""</span>);
00417 
00418   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription(\"totoX\") then "</span>
00419             &lt;&lt; <span class="stringliteral">" importDescription(\"../..\")"</span> &lt;&lt; std::endl;
00420   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">"totoX"</span>);
00421   i=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">"../.."</span>);
00422   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; i &lt;&lt; std::endl;
00423 <span class="keywordflow">try</span> {
00424   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription on file \"1rxs_50.fits\""</span>
00425             &lt;&lt; std::endl;
00426   strVal=myPath+<span class="stringliteral">"/1rxs_50.fits"</span>;
00427   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00428   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00429   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getQuantityDescription, results: "</span>&lt;&lt; std::endl;
00430   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00431   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00432   catNames.assign(6, <span class="stringliteral">""</span>);
00433   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a>(&amp;catNames);
00434   std::cout &lt;&lt; <span class="stringliteral">"* 'aCat' info (size "</span> &lt;&lt; catNames.size() &lt;&lt; <span class="stringliteral">"):"</span>
00435             &lt;&lt; <span class="stringliteral">"\ncode=\""</span> &lt;&lt; catNames[0] &lt;&lt; <span class="stringliteral">"\""</span>
00436             &lt;&lt; <span class="stringliteral">"\nURL =\""</span> &lt;&lt; catNames[1] &lt;&lt; <span class="stringliteral">"\""</span>
00437             &lt;&lt; <span class="stringliteral">"\ncatalog=\""</span> &lt;&lt; catNames[2] &lt;&lt; <span class="stringliteral">"\""</span> 
00438             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[3] &lt;&lt; <span class="stringliteral">"]"</span> 
00439             &lt;&lt; <span class="stringliteral">"\ntable  =\""</span> &lt;&lt; catNames[4] &lt;&lt; <span class="stringliteral">"\""</span> 
00440             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[5] &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl;
00441 
00442   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \"test1.fits\""</span>
00443             &lt;&lt; std::endl;
00444 <span class="comment">//  strVal=myPath+"/test1_J.fits";</span>
00445   strVal=myPath+<span class="stringliteral">"/test1.fits"</span>;
00446   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00447   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00448   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getQuantityDescription, results: "</span>&lt;&lt; std::endl;
00449   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00450   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00451   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00452   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 minimum"</span>, rVal);
00453   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00454   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 maximum"</span>, rVal);
00455   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"TEST_U9"</span>, &amp;rVal);
00456   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"TEST_U9 minimum"</span>, rVal);
00457   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"SRC_3EG"</span>, &amp;rVal);
00458   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a>(<span class="stringliteral">"SRC_3EG"</span>, &amp;catNames);
00459   std::cout &lt;&lt; <span class="stringliteral">"* SRC_3EG vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00460 
00461   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected on same file"</span> &lt;&lt; std::endl;
00462   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00463 <span class="comment">//  aCat.selectQuantity("POS_EQ_RAJ2000", false);</span>
00464   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(305, 0., 45, 45);
00465   std::cout &lt;&lt; <span class="stringliteral">"* Value returned by setSelEllipse = "</span> &lt;&lt; err &lt;&lt; std::endl;
00466 <span class="comment">/*  aCat.setCriteriaORed(true);</span>
00467 <span class="comment">  catNames.resize(2); catNames[0]="j2027+3429"; // to test case sensitive</span>
00468 <span class="comment">  aCat.useOnlyS("SRC_3EG", catNames, true);</span>
00469 <span class="comment">  aCat.excludeS("SRC_3EG", catNames, true);/**/</span>
00470 <span class="comment">//  aCat.setLowerCut("SRC_theta95", 0.3);</span>
00471   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"SRC_theta95"</span>, 0.31);
00472 <span class="comment">/*  aCat.setMatchPercent("SRC_theta95", 100);</span>
00473 <span class="comment">  listVal.assign(1, 0.150000006);*/</span>
00474   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a64">setMatchPercent</a>(<span class="stringliteral">"SRC_theta95"</span>, 0.1);
00475   listVal.assign(2, 0.3); listVal[1]=0.72;
00476   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"SRC_theta95"</span>, listVal);
00477   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"TEST_U9"</span>, 32000);
00478   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"TEST_U9"</span>, <span class="keyword">false</span>);
00479 <span class="comment">//  aCat.setRejectNaN("SRC_theta95", false);</span>
00480 
00481   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00482   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00483   std::cout &lt;&lt; <span class="stringliteral">"*******FILTER EXPRESSION\n"</span> &lt;&lt; strVal &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00484   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00485   std::cout &lt;&lt; <span class="stringliteral">"* Number of selected rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00486   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00487   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 minimum"</span>, rVal);
00488   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00489   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 maximum"</span>, rVal);
00490   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"TEST_U9"</span>, &amp;rVal);
00491   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"TEST_U9 minimum"</span>, rVal);
00492 
00493   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: saveFits to create test1out.fits"</span> &lt;&lt; std::endl;
00494 <span class="comment">//  err=aCat.saveFits("test1out.fits", "MYTEST", true);</span>
00495   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a>(<span class="stringliteral">"test1out.fits"</span>, <span class="stringliteral">""</span>, <span class="keyword">true</span>);
00496   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00497 
00498   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription on file \"test.fits\" (HDU #2)"</span>
00499             &lt;&lt; std::endl;
00500   strVal=myPath+<span class="stringliteral">"/test.fits"</span>;
00501   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a> (strVal, <span class="stringliteral">"2"</span>);
00502   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00503 } <span class="keywordflow">catch</span> (...) {
00504   std::cout &lt;&lt; <span class="stringliteral">"!! EXCEPTION thrown !!"</span>;
00505 }
00506 
00507   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription on \"1rxs_50.fits[1]\""</span>
00508             &lt;&lt; std::endl;
00509   strVal=myPath+<span class="stringliteral">"/1rxs_50.fits[1]"</span>;
00510   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00511   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00512 
00513 <span class="comment">//return;</span>
00514   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \""</span> &lt;&lt; argString
00515              &lt;&lt; <span class="stringliteral">"\""</span>&lt;&lt; std::endl;
00516   strVal=myPath+argString;
00517   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00518   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00519   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00520   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00521   std::cout &lt;&lt; <span class="stringliteral">"* Number of quantities &amp; rows = "</span>
00522             &lt;&lt; err &lt;&lt; <span class="stringliteral">" &amp; "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00523 
00524   catNames.assign(6, <span class="stringliteral">""</span>);
00525   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a>(&amp;catNames);
00526   std::cout &lt;&lt; <span class="stringliteral">"* 'aCat' info (size "</span> &lt;&lt; catNames.size() &lt;&lt; <span class="stringliteral">"):"</span>
00527             &lt;&lt; <span class="stringliteral">"\ncode=\""</span> &lt;&lt; catNames[0] &lt;&lt; <span class="stringliteral">"\""</span>
00528             &lt;&lt; <span class="stringliteral">"\nURL =\""</span> &lt;&lt; catNames[1] &lt;&lt; <span class="stringliteral">"\""</span>
00529             &lt;&lt; <span class="stringliteral">"\ncatalog=\""</span> &lt;&lt; catNames[2] &lt;&lt; <span class="stringliteral">"\""</span> 
00530             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[3] &lt;&lt; <span class="stringliteral">"]"</span> 
00531             &lt;&lt; <span class="stringliteral">"\ntable  =\""</span> &lt;&lt; catNames[4] &lt;&lt; <span class="stringliteral">"\""</span> 
00532             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[5] &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl;
00533   
00534   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityDescription, results:"</span> &lt;&lt; std::endl;
00535   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00536   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00537 <span class="comment">/*  aCat.getQuantityNames(&amp;catNames);</span>
00538 <span class="comment">  aCat.getQuantityUnits(&amp;webSites);</span>
00539 <span class="comment">  for (i=0; i&lt;vecSize; i++) </span>
00540 <span class="comment">    std::cout &lt;&lt; catNames[i] &lt;&lt;": \""&lt;&lt; webSites[i] &lt;&lt;"\""&lt;&lt; std::endl;</span>
00541 <span class="comment">*/</span>
00542 
00543 
00544 <span class="comment">/****************************************************************************/</span>
00545   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 7) SELECTING (in copy 'aCat')"</span>);
00546   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00547   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00548 
00549   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse "</span>
00550             &lt;&lt; <span class="stringliteral">"(selecting object in North hemisphere)"</span> &lt;&lt; std::endl;
00551   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(0, 90., 90, 90);
00552   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00553   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00554 
00555   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: set cut (on L_Extent)"</span> &lt;&lt; std::endl;
00556   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"L_Extent"</span>, 1.1);
00557   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00558   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00559   listVal.assign(1, 1.0);
00560   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00561   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00562   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00563   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a62">includeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00564   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00565   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00566   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"L_Extent"</span>, 1);
00567   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00568   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00569   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00570   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00571   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00572   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00573   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00574   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00575   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"L_Extent"</span>, <span class="keyword">false</span>);
00576   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00577   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00578   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"L_Extent"</span>, 30);
00579   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00580   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00581   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"L_Extent"</span>, <span class="keyword">true</span>);
00582   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00583   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00584   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"L_Extent"</span>, <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>);
00585   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00586   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00587   listVal.clear();
00588 <span class="comment">//  aCat.useOnlyN("L_Extent", listVal);</span>
00589   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a62">includeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00590   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00591   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00592 
00593   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: set cut (on MASOL)"</span> &lt;&lt; std::endl;
00594   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"MASOL"</span>, 31);
00595   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00596   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00597   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"MASOL"</span>, 100);
00598   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00599   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00600   std::cout &lt;&lt; <span class="stringliteral">"* Calling: unsetCuts (on MASOL)"</span> &lt;&lt; std::endl;
00601   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>(<span class="stringliteral">"MASOL"</span>);
00602   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00603   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00604   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"MASOL"</span>, 100);
00605   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00606   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00607 
00608   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSelSValues (on NewFlag)"</span> &lt;&lt; std::endl;
00609   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"NewFlag"</span>, &amp;catNames);
00610   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">") contains: "</span>;
00611   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00612   std::cout &lt;&lt; std::endl;
00613 
00614   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: eraseNonSelected()"</span> &lt;&lt; std::endl;
00615   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a>();
00616   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00617   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00618 
00619   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSelSValues (on 1RXS)"</span> &lt;&lt; std::endl;
00620   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"1RXS"</span>, &amp;catNames);
00621   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">") contains: "</span>;
00622   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00623   std::cout &lt;&lt; std::endl;
00624 
00625   std::cout &lt;&lt;<span class="stringliteral">"\n* Calling: setUpperCut (same limit 100 on MASOL)"</span>&lt;&lt; std::endl;
00626   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"MASOL"</span>, 100);
00627   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00628   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00629 
00630   catNames.resize(1);
00631   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: useOnlyS (on 1RXS, list is first object)"</span>
00632             &lt;&lt; std::endl;
00633   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a>(<span class="stringliteral">"1RXS"</span>, catNames);
00634   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00635   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00636   std::cout &lt;&lt; <span class="stringliteral">"* Calling: useOnlyS to unselect 1RXS"</span> &lt;&lt; std::endl;
00637   catNames.clear();
00638   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a>(<span class="stringliteral">"1RXS"</span>, catNames);
00639   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00640   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00641 
00642   catNames.assign(1, <span class="stringliteral">"__.."</span>);
00643   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: excludeS (on NewFlag unique value)"</span> &lt;&lt; std::endl;
00644   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a>(<span class="stringliteral">"NewFlag"</span>, catNames);  
00645   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00646   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00647   std::cout &lt;&lt; <span class="stringliteral">"* Calling: useOnlyS with same value"</span> &lt;&lt; std::endl;
00648   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a>(<span class="stringliteral">"NewFlag"</span>, catNames);
00649   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00650   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00651 
00652   strVal=myPath+argString+<span class="stringliteral">".txt"</span>;
00653   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: saveText("</span> &lt;&lt; strVal &lt;&lt; <span class="stringliteral">", true)"</span> &lt;&lt; std::endl;
00654   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a11">saveText</a>(strVal, <span class="keyword">true</span>);
00655 
00656   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: eraseSelected()"</span> &lt;&lt; std::endl;
00657   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a>();
00658   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00659   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00660 
00661 
00662   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \""</span> &lt;&lt; argString
00663              &lt;&lt; <span class="stringliteral">"\""</span>&lt;&lt; std::endl;
00664   strVal=myPath+argString;
00665   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00666   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00667   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00668   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00669 
00670   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse "</span>
00671             &lt;&lt; <span class="stringliteral">"(selecting object in North hemisphere)"</span> &lt;&lt; std::endl;
00672   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(0, 90., 90, 90);
00673   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00674   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00675 
00676   strVal=myPath+argString+<span class="stringliteral">".fits"</span>;
00677   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: saveFits to create "</span> &lt;&lt; strVal &lt;&lt; std::endl;
00678   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a>(strVal, <span class="stringliteral">""</span>, <span class="keyword">true</span>);
00679 
00680   std::cout &lt;&lt; <span class="stringliteral">"\n* Limits on \"L_Extent\":"</span> &lt;&lt; std::endl;
00681   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"L_Extent"</span>, &amp;rVal);
00682   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"L_Extent minimum"</span>, rVal);
00683   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"L_Extent"</span>, &amp;rVal);
00684   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"L_Extent maximum"</span>, rVal);
00685 
00686   listVal.assign(2, 1.0);
00687   listVal.at(1)=catalogAccess::MissNAN;
00688   std::cout &lt;&lt; <span class="stringliteral">"\n* Setting list of values: "</span>&lt;&lt; listVal[0]&lt;&lt;<span class="stringliteral">", "</span> &lt;&lt; listVal[1]
00689             &lt;&lt; <span class="stringliteral">"\n with default behaviour (reject NaN), anyway NaN is checked"</span>
00690             &lt;&lt; <span class="stringliteral">" first, before list or cut tests"</span> &lt;&lt; std::endl;
00691   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00692   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00693   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00694   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a62">includeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00695   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00696   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00697   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00698   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00699   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00700   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: unsetCuts (on L_Extent)"</span> &lt;&lt; std::endl;
00701   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>(<span class="stringliteral">"L_Extent"</span>);
00702   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00703   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00704 
00705   std::cout &lt;&lt; <span class="stringliteral">"\n* Accepting NaN (whatever condition, always select NaN)"</span> 
00706             &lt;&lt; std::endl;
00707   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"L_Extent"</span>, <span class="keyword">false</span>);
00708   std::cout &lt;&lt; <span class="stringliteral">"* Setting list of values: "</span>&lt;&lt; listVal[0]&lt;&lt;<span class="stringliteral">", "</span> &lt;&lt; listVal[1]
00709             &lt;&lt; std::endl;
00710   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00711 <span class="comment">//  aCat.includeN("L_Extent", listVal);</span>
00712   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00713   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00714   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00715   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00716   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00717 
00718   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: unsetCuts (all quantities, "</span>
00719             &lt;&lt; <span class="stringliteral">"remains only selection ellipse)"</span> &lt;&lt; std::endl;
00720   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00721   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00722   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00723 
00724   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: eraseSelected()"</span> &lt;&lt; std::endl;
00725   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a>();
00726   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00727   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00728   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00729   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00730 
00731 
00732 <span class="comment">/****************************************************************************/</span>
00733   std::cout &lt;&lt; <span class="stringliteral">"\n!END PROGRAM!\n(as pointers are already deleted, only free"</span>
00734             &lt;&lt; <span class="stringliteral">" the Quantity and Catalog copies)."</span> &lt;&lt; std::endl;
00735 }
00736 
00737 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a1">help</a>() {
00738  std::cerr &lt;&lt; <span class="stringliteral">"usage: &lt;program name&gt; &lt;axis size&gt; [&lt;options&gt; &lt;fileName&gt;]\n"</span>
00739            &lt;&lt; <span class="stringliteral">"options: \n"</span>
00740            &lt;&lt; <span class="stringliteral">"  -help  to show this help\n"</span>
00741            &lt;&lt; std::endl;
00742 }
00743 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="keyword">const</span> std::string text) {
00744   <span class="keywordtype">int</span> len=text.length();
00745   std::cout &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::setiosflags(std::ios::left)
00746             &lt;&lt; std::setw(len) &lt;&lt; std::setfill(<span class="charliteral">'='</span>) &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; text 
00747             &lt;&lt; std::setw(len) &lt;&lt; std::setfill(<span class="charliteral">'='</span>) &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::endl;
00748 }
00749 
00750 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(<span class="keyword">const</span> <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a> &amp;nQ) {
00751   std::cout &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m0">m_name</a> &lt;&lt;<span class="stringliteral">": ucd=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m2">m_ucd</a> &lt;&lt;<span class="stringliteral">"\", type="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m5">m_type</a>
00752            &lt;&lt;<span class="stringliteral">", unit=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m6">m_unit</a> &lt;&lt;<span class="stringliteral">"\", format=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m3">m_format</a>
00753           &lt;&lt;<span class="stringliteral">"\",\n     index="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m7">m_index</a> &lt;&lt;<span class="stringliteral">", boolGeneric="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m8">m_isGeneric</a>
00754          &lt;&lt;<span class="stringliteral">", boolNaN="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m18">m_rejectNaN</a> &lt;&lt;<span class="stringliteral">", TNULL=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m4">m_null</a>
00755         &lt;&lt;<span class="stringliteral">"\",\n     selectList sizes=("</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m15">m_listValN</a>.size() &lt;&lt;<span class="stringliteral">" num, "</span>
00756        &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m12">m_listValS</a>.size() &lt;&lt;<span class="stringliteral">" str), cuts="</span> &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m13">m_lowerCut</a> &lt;&lt;<span class="stringliteral">" to "</span>
00757       &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m14">m_upperCut</a> &lt;&lt; <span class="stringliteral">"\ncomment=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#m1">m_comment</a> &lt;&lt; <span class="stringliteral">"\""</span> &lt;&lt; std::endl;
00758 }
00759 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> std::string val) {
00760   std::cout &lt;&lt; <span class="stringliteral">"Quantity "</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">": \""</span> &lt;&lt; val &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; std::endl; 
00761 }
00762 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> <span class="keywordtype">double</span> val) {
00763   std::cout &lt;&lt; <span class="stringliteral">"Quantity "</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">" = "</span> <span class="comment">//&lt;&lt; std::setprecision(4)</span>
00764 <span class="comment">//            &lt;&lt; val &lt;&lt; std::endl;</span>
00765             &lt;&lt; std::setiosflags(outDouble) &lt;&lt; std::setprecision(3)
00766             &lt;&lt; std::setw(11) &lt;&lt; std::setfill(<span class="charliteral">' '</span>)
00767             &lt;&lt; val &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;
00768 }
</pre></div><hr><address style="align: right;"><small>Generated on Wed Jul 13 10:50:51 2005 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
