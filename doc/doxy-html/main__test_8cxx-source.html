<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>catalogAccess: main_test.cxx Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>main_test.cxx</h1><a href="main__test_8cxx.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00009 <span class="preprocessor">#include "st_facilities/Env.h"</span>
00010 <span class="preprocessor">#include "<a class="code" href="catalog_8h.html">src/catalog.h</a>"</span>
00011 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00012 
00013 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a1">help</a>();
00014 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="keyword">const</span> std::string text);
00015 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(<span class="keyword">const</span> <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a> &amp;);
00016 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> std::string val);
00017 <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> <span class="keywordtype">double</span> val);
00018 
00019 <span class="keyword">static</span> <span class="keyword">const</span> std::ios_base::fmtflags
00020              outDouble=std::ios::right|std::ios::scientific;
00021 
<a name="l00022"></a><a class="code" href="main__test_8cxx.html#a6">00022</a> <span class="keywordtype">int</span> <a class="code" href="main__test_8cxx.html#a6">main</a>(<span class="keywordtype">int</span> iargc, <span class="keywordtype">char</span> * argv[]) {
00023 
00024 <span class="comment">// Show number of main argument</span>
00025   std::cout &lt;&lt; std::setw(70) &lt;&lt; std::setfill(<span class="charliteral">'*'</span>) &lt;&lt; <span class="stringliteral">"\n"</span>
00026             &lt;&lt; iargc-1 &lt;&lt; <span class="stringliteral">" given argument(s)"</span> &lt;&lt; std::endl;
00027 
00028 <span class="comment">// Parse the command line arguments.</span>
00029   <span class="keywordtype">double</span> axisDeg;
00030   std::string argString;
00031   <span class="keywordflow">if</span> (iargc &gt; 1) {
00032     axisDeg=std::atof(argv[1]); <span class="comment">//static_cast&lt;int&gt;()</span>
00033     argString=<span class="stringliteral">"Argument #1: "</span>;
00034   }
00035   <span class="keywordflow">else</span> {
00036     axisDeg=5.0;
00037     argString=<span class="stringliteral">"Argument #1 (default): "</span>;
00038   }
00039   std::cout &lt;&lt; argString &lt;&lt; std::setw(10) &lt;&lt; std::setfill(<span class="charliteral">' '</span>)
00040             &lt;&lt; std::setiosflags(outDouble | std::ios::showpoint)
00041             &lt;&lt; std::setprecision(4) &lt;&lt; axisDeg
00042             &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;
00043 
00044   argString=<span class="stringliteral">"/1rxs_50.out"</span>;
00045   <span class="keywordflow">if</span> (iargc &gt; 2) {
00046 
00047     <span class="comment">// All subsequent arguments are either option flags or filenames</span>
00048     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=2; i &lt; iargc; i++) {
00049       argString=argv[i]; <span class="comment">/* convert C string to C++ string */</span>
00050       <span class="keywordflow">if</span> (argString == <span class="stringliteral">"-help"</span>) {
00051         <a class="code" href="main__test_8cxx.html#a1">help</a>();
00052         <span class="keywordflow">return</span> 0;
00053       }
00054       std::cout &lt;&lt; <span class="stringliteral">"Argument #"</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; argString &lt;&lt; std::endl;    
00055     } <span class="comment">//loop on arguments</span>
00056 
00057   }
00058   <span class="keywordflow">else</span> std::cout &lt;&lt; <span class="stringliteral">"Argument #2 (default): "</span> &lt;&lt; argString &lt;&lt; std::endl;
00059 
00060   <span class="comment">// Some info on machine dependent constants</span>
00061   std::cout &lt;&lt; <span class="stringliteral">"\nsizeof bool, int, long, float, double, pointer = "</span>
00062             &lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">bool</span>) &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>)
00063             &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)
00064             &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *) &lt;&lt; std::endl;
00065   std::cout &lt;&lt; <span class="stringliteral">"screen output of Nan, +infinite, -infinite: "</span> 
00066             &lt;&lt; catalogAccess::MissNAN &lt;&lt; <span class="stringliteral">",  "</span> &lt;&lt; 1/0. &lt;&lt; <span class="stringliteral">",  "</span> &lt;&lt; -1/0.
00067             &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::endl;
00068 
00069   std::cout &lt;&lt; <span class="stringliteral">"Number to unselect = "</span> &lt;&lt; std::setiosflags(outDouble)
00070             &lt;&lt; <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a> &lt;&lt; <span class="stringliteral">"\nConstant arcsecond = "</span>
00071             &lt;&lt; catalogAccess::Min_Axis &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::endl;
00072   std::cout &lt;&lt; <span class="stringliteral">"The minimum value for double is "</span>
00073             &lt;&lt; std::numeric_limits&lt;double&gt;::min() &lt;&lt; std::endl;
00074   std::cout &lt;&lt; <span class="stringliteral">"The maximum value for double is "</span>
00075             &lt;&lt; std::numeric_limits&lt;double&gt;::max() &lt;&lt; std::endl;
00076   std::cout &lt;&lt; <span class="stringliteral">"The epsilon value for double is "</span>
00077             &lt;&lt; std::numeric_limits&lt;double&gt;::epsilon() &lt;&lt; std::setprecision(3)
00078             &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;
00079 <span class="comment">/* //not interesting info</span>
00080 <span class="comment">  std::cout &lt;&lt; "The epsilon value for float  is "&lt;&lt; std::setiosflags(outDouble)</span>
00081 <span class="comment">            &lt;&lt; std::numeric_limits&lt;float&gt;::epsilon() &lt;&lt; std::endl;</span>
00082 <span class="comment">  std::cout &lt;&lt; "The minimum exponent for double is "</span>
00083 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::min_exponent10 &lt;&lt; std::endl;</span>
00084 <span class="comment">  std::cout &lt;&lt; "The maximum exponent for double is "</span>
00085 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::max_exponent10 &lt;&lt; std::endl;</span>
00086 <span class="comment">  std::cout &lt;&lt; "Can double represent: positive infinity, quiet NaN and"</span>
00087 <span class="comment">            &lt;&lt; " signaling NaN ?\n"</span>
00088 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::has_infinity &lt;&lt; ", "</span>
00089 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::has_quiet_NaN &lt;&lt; " and "</span>
00090 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::has_signaling_NaN &lt;&lt; std::endl;</span>
00091 <span class="comment">  std::cout &lt;&lt; "How does a double represent positive infinity ?\n"</span>
00092 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::infinity() &lt;&lt; std::endl;</span>
00093 <span class="comment">  std::cout &lt;&lt; "How does a double represent quiet &amp; signaling NaN ?\n"</span>
00094 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::quiet_NaN() &lt;&lt; "\n"</span>
00095 <span class="comment">            &lt;&lt; std::numeric_limits&lt;double&gt;::signaling_NaN()</span>
00096 <span class="comment">            &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;</span>
00097 <span class="comment">*/</span>
00098   <span class="keywordtype">long</span> numRows=1;
00099   <span class="keywordtype">int</span> vecSize, i, err;
00100   std::vector&lt;std::string&gt; catNames, webSites;
00101   std::string strVal;
00102   std::vector&lt;catalogAccess::Quantity&gt; allQ;
00103 
00104 <span class="comment">/****************************************************************************/</span>
00105   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 1) METHODS when NOTHING IMPORTED"</span>);
00106   <a class="code" href="classcatalog_access_1_1_catalog.html">catalogAccess::Catalog</a> *myCat = <span class="keyword">new</span> <a class="code" href="classcatalog_access_1_1_catalog.html">catalogAccess::Catalog</a>();
00107   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00108   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'myCat' (new catalog pointer) = "</span>
00109             &lt;&lt; numRows &lt;&lt; std::endl;
00110 
00111   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityDescription"</span> &lt;&lt; std::endl;
00112   allQ.resize(1);
00113   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00114   vecSize=allQ.size();
00115   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" (with vector of size "</span>
00116             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00117 
00118   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityNames"</span> &lt;&lt; std::endl;
00119   catNames.resize(1);
00120   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00121   vecSize=catNames.size();
00122   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" (with vector of size "</span>
00123             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00124 
00125   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, unsetCuts, setLowerCut"</span> &lt;&lt; std::endl;
00126   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00127   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00128   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">""</span>, 1.0);
00129 
00130   <span class="comment">// two ways to use static members</span>
00131   catalogAccess::Catalog::getCatList(&amp;catNames);
00132   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#e0">getCatList</a>(&amp;webSites, <span class="keyword">false</span>);
00133   std::cout &lt;&lt; <span class="stringliteral">"\n* Available catalogs (with their web query name):"</span>
00134             &lt;&lt; std::endl;
00135   vecSize=catNames.size();
00136   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00137     std::cout &lt;&lt; std::setw(20) &lt;&lt; std::setfill(<span class="charliteral">' '</span>) &lt;&lt; catNames[i]
00138               &lt;&lt; <span class="stringliteral">" ("</span> &lt;&lt; webSites[i] &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00139   }
00140 
00141 
00142 <span class="comment">/****************************************************************************/</span>
00143   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 2) METHODS when IMPORT FAILS"</span>);
00144   std::cout &lt;&lt; <span class="stringliteral">"* Try to load via Web the unknown catalog \"toto\""</span>
00145             &lt;&lt; <span class="stringliteral">" (pointer 'myCat')"</span> &lt;&lt; std::endl;
00146   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a>(<span class="stringliteral">"toto"</span>);
00147   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a>(<span class="stringliteral">"toto"</span>);
00148   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" then "</span> &lt;&lt; i &lt;&lt; std::endl;
00149   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00150   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'myCat' = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00151 
00152   std::cout &lt;&lt; <span class="stringliteral">"\n* Try to load via Web catalog \"ROSAT 1RXS\""</span>
00153             &lt;&lt; <span class="stringliteral">" (pointer 'myCat')"</span> &lt;&lt; std::endl;
00154   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a7">importDescriptionWeb</a>(<span class="stringliteral">"ROSAT 1RXS"</span>, <span class="stringliteral">""</span>);
00155   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a9">importWeb</a>(<span class="stringliteral">"ROSAT 1RXS"</span>, <span class="stringliteral">"cdu"</span>, -1);
00156   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" then "</span> &lt;&lt; i &lt;&lt; std::endl;
00157   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00158   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'myCat' = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00159 
00160   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected"</span> &lt;&lt; std::endl;
00161   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00162   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00163 
00164   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityNames"</span> &lt;&lt; std::endl;
00165   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00166   vecSize=catNames.size();
00167   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; <span class="stringliteral">" (with vector of size "</span>
00168             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00169 
00170   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, unsetCuts, setLowerCut"</span> &lt;&lt; std::endl;
00171   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00172   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00173   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">""</span>, 1.0);
00174 
00175   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#e1">getWebList</a>(&amp;catNames);
00176   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#e1">getWebList</a>(&amp;webSites, <span class="keyword">false</span>);
00177   std::cout &lt;&lt; <span class="stringliteral">"\n* Possible sites (with their http address):"</span>
00178             &lt;&lt; std::endl;
00179   vecSize=catNames.size();
00180   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) {
00181 <span class="comment">//    std::cout &lt;&lt; std::setw(16) &lt;&lt; std::setfill('*') &lt;&lt; catNames[i]</span>
00182     std::cout &lt;&lt; std::setw(16) &lt;&lt; std::setfill(<span class="charliteral">' '</span>) &lt;&lt; catNames[i]
00183               &lt;&lt; <span class="stringliteral">" ("</span> &lt;&lt; webSites[i] &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00184   }
00185 
00186 
00187 <span class="comment">/****************************************************************************/</span>
00188   <span class="keywordtype">double</span> rVal;
00189   std::vector&lt;double&gt; listVal;
00190   <span class="keyword">const</span> std::string myPath=st_facilities::Env::getDataDir(<span class="stringliteral">"catalogAccess"</span>);
00191   <span class="keywordflow">if</span> (myPath==<span class="stringliteral">""</span>)
00192     <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">"Environment variable CATALOGACCESSROOT not set"</span>);
00193 <span class="comment">// const std::string myPath="/home/aymsauv/GLAST/ZprogU9/unit_test/data";</span>
00194 
00195   strVal=myPath+<span class="stringliteral">"/3EG_test.out"</span>; 
00196 
00197   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 3) METHODS when IMPORT WORKS (on EGRET)"</span>);
00198   std::cout &lt;&lt; <span class="stringliteral">"* Calling: importDescription on file \"3EG_test.out\""</span>
00199             &lt;&lt; <span class="stringliteral">" (pointer 'myCat')"</span> &lt;&lt; std::endl;
00200   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00201   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00202   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00203   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getQuantityNames, get "</span> &lt;&lt; vecSize
00204             &lt;&lt; <span class="stringliteral">" quantities:"</span> &lt;&lt; std::endl;
00205   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt; catNames[i] &lt;&lt; std::endl;
00206   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00207   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00208 
00209   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityDescription, results: "</span>&lt;&lt; std::endl;
00210   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00211   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00212 
00213   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, unsetCuts, setLowerCut"</span> &lt;&lt; std::endl;
00214   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00215   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00216   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">""</span>, 1.0);
00217   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00218             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00219 
00220   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected"</span> &lt;&lt; std::endl;
00221   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a49">selectQuantity</a>(<span class="stringliteral">"recno"</span>, <span class="keyword">false</span>);
00222   catNames.assign(1, <span class="stringliteral">"3eg J0010+7309"</span>);
00223   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a>(<span class="stringliteral">"3EG"</span>, catNames, <span class="keyword">false</span>);
00224   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"RAJ2000"</span>, 25);
00225   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00226   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00227   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00228   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00229 
00230   strVal=myPath+<span class="stringliteral">"/3EG_test.out"</span>; 
00231   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling again: importDescription on file \"3EG_test.out\""</span>
00232             &lt;&lt; std::endl;
00233   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00234   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00235 
00236   <span class="comment">/* changing the verbosity level up to maximum */</span>
00237   catalogAccess::verbosity=4;
00238   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \"3EG_test.out\" (with 5 rows)"</span>
00239             &lt;&lt; std::endl;
00240   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00241   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00242   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00243   myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00244   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00245   std::cout &lt;&lt; <span class="stringliteral">"* Number of quantities &amp; rows = "</span>
00246             &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">" &amp; "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00247 
00248   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected"</span> &lt;&lt; std::endl;
00249   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00250   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00251 
00252   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, three times on row 9"</span> &lt;&lt; std::endl;
00253   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 9,  &amp;strVal);
00254   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"3EG"</span>,9, &amp;strVal);
00255   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"DEJ2000"</span>, 9,  &amp;strVal);
00256   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00257             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00258  
00259   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSValue, three times on row 0"</span> &lt;&lt; std::endl;
00260   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"quant"</span>, 0,  &amp;strVal);
00261   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"3EG"</span>,0, &amp;strVal);
00262   <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="stringliteral">"3EG"</span>, strVal);
00263   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a25">getSValue</a>(<span class="stringliteral">"DEJ2000"</span>, 0,  &amp;strVal);
00264   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00265             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00266 
00267   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getNValue, three times on row 1"</span> &lt;&lt; std::endl;
00268   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a>(<span class="stringliteral">"3EG"</span>, 1, &amp;rVal);
00269   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"3EG"</span>, rVal);
00270   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a>(<span class="stringliteral">"DEJ2000"</span>, 1, &amp;rVal);
00271   <span class="keywordflow">if</span> (vecSize &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000"</span>, rVal);
00272   i=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a26">getNValue</a>(<span class="stringliteral">"z"</span>, 1, &amp;rVal);
00273   <span class="keywordflow">if</span> (i &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z"</span>, rVal);
00274   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; vecSize
00275             &lt;&lt; <span class="stringliteral">" and "</span> &lt;&lt; i &lt;&lt; std::endl;
00276 
00277   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getStatErrorName on \"3EG\""</span> &lt;&lt; std::endl;
00278   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a21">getStatErrorName</a>(<span class="stringliteral">"3EG"</span>, &amp;strVal);
00279   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="stringliteral">"3EG stat error name"</span>, strVal);
00280   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getSysErrorName on \"DEJ2000\""</span> &lt;&lt; std::endl;
00281   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a22">getSysErrorName</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;strVal);
00282   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="stringliteral">"DEJ2000 sys. error name"</span>, strVal);
00283 
00284   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getStatError on \"3EG\" row 0"</span> &lt;&lt; std::endl;
00285   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a27">getStatError</a>(<span class="stringliteral">"3EG"</span>, 0, &amp;rVal);
00286   <span class="keywordflow">if</span> (err &gt;= 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"3EG stat error"</span>, rVal);
00287   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getSysError on \"DEJ2000\" row 0"</span> &lt;&lt; std::endl;
00288   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a28">getSysError</a>(<span class="stringliteral">"DEJ2000"</span>, 0, &amp;rVal);
00289   <span class="keywordflow">if</span> (err &gt;= 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000 sys. error"</span>, rVal);
00290 
00291   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSvalues on \"DEJ2000\""</span> &lt;&lt; std::endl;
00292   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;catNames);
00293   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getSvalues on \"n_theta95\""</span> &lt;&lt; std::endl;
00294   vecSize=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a>(<span class="stringliteral">"n_theta95"</span>, &amp;catNames);
00295   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">", equal to size of vector"</span>
00296             &lt;&lt; <span class="stringliteral">" containing: "</span>;
00297   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00298   std::cout &lt;&lt; std::endl;
00299 
00300   std::cout &lt;&lt; <span class="stringliteral">"\n* Limits on \"3EG\", \"DEJ2000\", \"z\":"</span>
00301             &lt;&lt; std::endl;
00302   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"3EG"</span>, &amp;rVal);
00303   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"3EG"</span>, &amp;rVal);
00304   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;rVal);
00305   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000 minimum"</span>, rVal);
00306   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"DEJ2000"</span>, &amp;rVal);
00307   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"DEJ2000 maximum"</span>, rVal);
00308   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"z"</span>, &amp;rVal);
00309   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z minimum"</span>, rVal);
00310   err=myCat-&gt;<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"z"</span>, &amp;rVal);
00311   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z maximum"</span>, rVal);
00312 
00313 
00314 <span class="comment">/****************************************************************************/</span>
00315   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 4) COPY CONSTRUCTOR and QUANTITIES"</span>);
00316 <span class="comment">//try {</span>
00317   std::cout &lt;&lt; <span class="stringliteral">"* Default Quantity constructor, changing m_name to: toto"</span>
00318             &lt;&lt; std::endl;
00319   <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a> *myQ = <span class="keyword">new</span> <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a>();
00320   myQ-&gt;<a class="code" href="classcatalog_access_1_1_quantity.html#o0">m_name</a>=<span class="stringliteral">"toto"</span>;
00321   <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(*myQ);
00322   <span class="keyword">delete</span> myQ;
00323 
00324   std::cout &lt;&lt; <span class="stringliteral">"\n* Quantity constructor, changing m_name (time),"</span>
00325             &lt;&lt; <span class="stringliteral">" m_ucd, m_type (NUM), m_unit, m_index (0)"</span> &lt;&lt; std::endl;
00326   myQ = <span class="keyword">new</span> catalogAccess::Quantity(<span class="stringliteral">"time"</span>, <span class="stringliteral">""</span>, <span class="stringliteral">"IJD"</span>,
00327                            catalogAccess::Quantity::NUM, <span class="stringliteral">"sec"</span>, 0);
00328   <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(*myQ);
00329 
00330   std::cout &lt;&lt; <span class="stringliteral">"\n* Quantity COPY constructor, changing m_ucd to: IJDelapsed"</span>
00331             &lt;&lt; std::endl;
00332   catalogAccess::Quantity aQ = *myQ;
00333   aQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o2">m_ucd</a>=<span class="stringliteral">"IJDelapsed"</span>;
00334   <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(aQ);
00335   <span class="keyword">delete</span> myQ;
00336 
00337   std::cout &lt;&lt; <span class="stringliteral">"\n* COPY 'myCat' to 'aCat' then DELETE 'myCat"</span> &lt;&lt; std::endl;
00338   catalogAccess::Catalog aCat = *myCat;
00339   <span class="keyword">delete</span> myCat;
00340   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00341   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows in 'aCat' = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00342 
00343   catNames.assign(3, <span class="stringliteral">""</span>);
00344   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a>(&amp;catNames);
00345   std::cout &lt;&lt; <span class="stringliteral">"\n* 'aCat' info (size "</span> &lt;&lt; catNames.size() &lt;&lt; <span class="stringliteral">"):"</span>
00346             &lt;&lt; <span class="stringliteral">"\ncode=\""</span> &lt;&lt; catNames[0] &lt;&lt; <span class="stringliteral">"\""</span>
00347             &lt;&lt; <span class="stringliteral">"\nURL =\""</span> &lt;&lt; catNames[1] &lt;&lt; <span class="stringliteral">"\""</span>
00348             &lt;&lt; <span class="stringliteral">"\ncatalog=\""</span> &lt;&lt; catNames[2] &lt;&lt; <span class="stringliteral">"\""</span> &lt;&lt; std::endl;
00349 
00350   std::cout &lt;&lt; <span class="stringliteral">"\n* Getting all quantities from 'aCat':"</span> &lt;&lt; std::endl;
00351   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00352   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00353 <span class="comment">//} catch (...) { catalogAccess::printErr("copy constructor", ""); }</span>
00354 
00355 
00356 <span class="comment">/****************************************************************************/</span>
00357   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 5) SELECTING REGION after IMPORT (in copy 'aCat')"</span>);
00358   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00359   std::cout &lt;&lt; <span class="stringliteral">"* Number of selected rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00360 
00361   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSelSValue, getSelNValue "</span>
00362             &lt;&lt; <span class="stringliteral">"on unknown quantity:"</span> &lt;&lt; std::endl;
00363   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a33">getSelSValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;strVal);
00364   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a34">getSelNValue</a>(<span class="stringliteral">"quant"</span>, 0, &amp;rVal);
00365 
00366   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: unsetCuts(), then setSelEllipse four times"</span>
00367             &lt;&lt; <span class="stringliteral">" with forbidden parameters:"</span> &lt;&lt; std::endl;
00368   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00369   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(-1, 90.1, 10, 92, 180.1);
00370   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>( 0, 90.1, 10, 92, 180.1);
00371   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>( 0, 32.1, 10, 92, 180.1);
00372   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>( 0, 32.1, 10, 92, 179.9);
00373 
00374   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse, with first main argument"</span>
00375             &lt;&lt; <span class="stringliteral">" as rotation:"</span> &lt;&lt; std::endl;
00376   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(1E-5, 73.125, 8.3, 9.2, axisDeg);
00377   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00378   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00379 
00380   std::cout &lt;&lt; <span class="stringliteral">"\n* String values or limits on \"zu\", \"z\", \"RAJ2000\", "</span>
00381             &lt;&lt; <span class="stringliteral">"\"n_theta95\":"</span> &lt;&lt; std::endl;
00382   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"zu"</span>, &amp;rVal);
00383   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"z"</span>, &amp;rVal);
00384   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"z minimum (selected)"</span>, rVal);
00385   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00386   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"RAJ2000 minimum (selected)"</span>, rVal);
00387   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00388   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"RAJ2000 maximum (selected)"</span>, rVal);
00389   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"n_theta95"</span>, &amp;catNames);
00390   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">") contains: "</span>;
00391   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00392   std::cout &lt;&lt; std::endl;
00393 
00394   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse, with first main argument"</span>
00395             &lt;&lt; <span class="stringliteral">" as circle axis:"</span> &lt;&lt; std::endl;
00396 <span class="comment">//  err=aCat.setSelEllipse(156.95, -62.0, axisDeg, axisDeg);</span>
00397   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(0, -90., axisDeg, axisDeg);
00398   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00399   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00400 
00401   std::cout &lt;&lt; <span class="stringliteral">"\n* String values or limits on \"zu\", \"RAJ2000\", "</span>
00402             &lt;&lt; <span class="stringliteral">"\"n_theta95\":"</span> &lt;&lt; std::endl;
00403   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"zu"</span>, &amp;rVal);
00404   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"zu minimum (selected)"</span>, rVal);
00405   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a38">minSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00406   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a39">maxSelVal</a>(<span class="stringliteral">"RAJ2000"</span>, &amp;rVal);
00407   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"n_theta95"</span>, &amp;catNames);
00408   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00409 
00410 
00411 <span class="comment">/****************************************************************************/</span>
00412   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 6) READING FILE for IMPORT (in copy 'aCat')"</span>);
00413   std::cout &lt;&lt; <span class="stringliteral">"* Calling: importDescription(\"\"):"</span> &lt;&lt; std::endl;
00414   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">""</span>);
00415   std::cout &lt;&lt; <span class="stringliteral">"* Same call after deleteContent():"</span> &lt;&lt; std::endl;
00416   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00417   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">""</span>);
00418 
00419   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription(\"totoX\") then "</span>
00420             &lt;&lt; <span class="stringliteral">" importDescription(\"../..\")"</span> &lt;&lt; std::endl;
00421   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">"totoX"</span>);
00422   i=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(<span class="stringliteral">"../.."</span>);
00423   std::cout &lt;&lt; <span class="stringliteral">"* Values returned = "</span> &lt;&lt; err &lt;&lt;<span class="stringliteral">", "</span>&lt;&lt; i &lt;&lt; std::endl;
00424 <span class="keywordflow">try</span> {
00425   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription on file \"1rxs_50.fits\""</span>
00426             &lt;&lt; std::endl;
00427   strVal=myPath+<span class="stringliteral">"/1rxs_50.fits"</span>;
00428   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00429   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00430   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getQuantityDescription, results: "</span>&lt;&lt; std::endl;
00431   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00432   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00433   catNames.assign(6, <span class="stringliteral">""</span>);
00434   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a>(&amp;catNames);
00435   std::cout &lt;&lt; <span class="stringliteral">"* 'aCat' info (size "</span> &lt;&lt; catNames.size() &lt;&lt; <span class="stringliteral">"):"</span>
00436             &lt;&lt; <span class="stringliteral">"\ncode=\""</span> &lt;&lt; catNames[0] &lt;&lt; <span class="stringliteral">"\""</span>
00437             &lt;&lt; <span class="stringliteral">"\nURL =\""</span> &lt;&lt; catNames[1] &lt;&lt; <span class="stringliteral">"\""</span>
00438             &lt;&lt; <span class="stringliteral">"\ncatalog=\""</span> &lt;&lt; catNames[2] &lt;&lt; <span class="stringliteral">"\""</span> 
00439             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[3] &lt;&lt; <span class="stringliteral">"]"</span> 
00440             &lt;&lt; <span class="stringliteral">"\ntable  =\""</span> &lt;&lt; catNames[4] &lt;&lt; <span class="stringliteral">"\""</span> 
00441             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[5] &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl;
00442 
00443   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \"test1.fits\""</span>
00444             &lt;&lt; std::endl;
00445 <span class="comment">//  strVal=myPath+"/test1_J.fits";</span>
00446   strVal=myPath+<span class="stringliteral">"/test1.fits"</span>;
00447   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00448   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00449   std::cout &lt;&lt; <span class="stringliteral">"* Calling: getQuantityDescription, results: "</span>&lt;&lt; std::endl;
00450   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00451   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00452   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00453   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 minimum"</span>, rVal);
00454   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00455   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 maximum"</span>, rVal);
00456   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"TEST_U9"</span>, &amp;rVal);
00457   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"TEST_U9 minimum"</span>, rVal);
00458   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"SRC_3EG"</span>, &amp;rVal);
00459   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a29">getSValues</a>(<span class="stringliteral">"SRC_3EG"</span>, &amp;catNames);
00460   std::cout &lt;&lt; <span class="stringliteral">"* SRC_3EG vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; std::endl;
00461 
00462   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importSelected on same file"</span> &lt;&lt; std::endl;
00463   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00464 <span class="comment">//  aCat.selectQuantity("POS_EQ_RAJ2000", false);</span>
00465   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(305, 0., 45, 45);
00466   std::cout &lt;&lt; <span class="stringliteral">"* Value returned by setSelEllipse = "</span> &lt;&lt; err &lt;&lt; std::endl;
00467 <span class="comment">/*  aCat.setCriteriaORed(true);</span>
00468 <span class="comment">  catNames.resize(2); catNames[0]="j2027+3429"; // to test case sensitive</span>
00469 <span class="comment">  aCat.useOnlyS("SRC_3EG", catNames, true);</span>
00470 <span class="comment">  aCat.excludeS("SRC_3EG", catNames, true);/**/</span>
00471 <span class="comment">//  aCat.setLowerCut("SRC_theta95", 0.3);</span>
00472   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"SRC_theta95"</span>, 0.31);
00473 <span class="comment">/*  aCat.setMatchPercent("SRC_theta95", 100);</span>
00474 <span class="comment">  listVal.assign(1, 0.150000006);*/</span>
00475   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a64">setMatchPercent</a>(<span class="stringliteral">"SRC_theta95"</span>, 0.1);
00476   listVal.assign(2, 0.3); listVal[1]=0.72;
00477   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"SRC_theta95"</span>, listVal);
00478   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"TEST_U9"</span>, 32000);
00479   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"TEST_U9"</span>, <span class="keyword">false</span>);
00480 <span class="comment">//  aCat.setRejectNaN("SRC_theta95", false);</span>
00481 
00482   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a10">importSelected</a>(strVal);
00483   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00484   std::cout &lt;&lt; <span class="stringliteral">"*******FILTER EXPRESSION\n"</span> &lt;&lt; strVal &lt;&lt; <span class="stringliteral">"."</span> &lt;&lt; std::endl;
00485   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00486   std::cout &lt;&lt; <span class="stringliteral">"* Number of selected rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00487   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00488   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 minimum"</span>, rVal);
00489   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"POS_EQ_RAJ2000"</span>, &amp;rVal);
00490   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"POS_EQ_RAJ2000 maximum"</span>, rVal);
00491   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"TEST_U9"</span>, &amp;rVal);
00492   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"TEST_U9 minimum"</span>, rVal);
00493 
00494   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: saveFits to create test1out.fits"</span> &lt;&lt; std::endl;
00495 <span class="comment">//  err=aCat.saveFits("test1out.fits", "MYTEST", true);</span>
00496   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a>(<span class="stringliteral">"test1out.fits"</span>, <span class="stringliteral">""</span>, <span class="keyword">true</span>);
00497   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a23">deleteContent</a>();
00498 
00499   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription on file \"test.fits\" (HDU #2)"</span>
00500             &lt;&lt; std::endl;
00501   strVal=myPath+<span class="stringliteral">"/test.fits"</span>;
00502   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a> (strVal, <span class="stringliteral">"2"</span>);
00503   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00504 } <span class="keywordflow">catch</span> (...) {
00505   std::cout &lt;&lt; <span class="stringliteral">"!! EXCEPTION thrown !!"</span>;
00506 }
00507 
00508   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: importDescription on \"1rxs_50.fits[1]\""</span>
00509             &lt;&lt; std::endl;
00510   strVal=myPath+<span class="stringliteral">"/1rxs_50.fits[1]"</span>;
00511   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a6">importDescription</a>(strVal);
00512   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00513 
00514 <span class="comment">//return;</span>
00515   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \""</span> &lt;&lt; argString
00516              &lt;&lt; <span class="stringliteral">"\""</span>&lt;&lt; std::endl;
00517   strVal=myPath+argString;
00518   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00519   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00520   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a17">getQuantityNames</a>(&amp;catNames);
00521   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00522   std::cout &lt;&lt; <span class="stringliteral">"* Number of quantities &amp; rows = "</span>
00523             &lt;&lt; err &lt;&lt; <span class="stringliteral">" &amp; "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00524 
00525   catNames.assign(6, <span class="stringliteral">""</span>);
00526   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a15">getCatalogTitles</a>(&amp;catNames);
00527   std::cout &lt;&lt; <span class="stringliteral">"* 'aCat' info (size "</span> &lt;&lt; catNames.size() &lt;&lt; <span class="stringliteral">"):"</span>
00528             &lt;&lt; <span class="stringliteral">"\ncode=\""</span> &lt;&lt; catNames[0] &lt;&lt; <span class="stringliteral">"\""</span>
00529             &lt;&lt; <span class="stringliteral">"\nURL =\""</span> &lt;&lt; catNames[1] &lt;&lt; <span class="stringliteral">"\""</span>
00530             &lt;&lt; <span class="stringliteral">"\ncatalog=\""</span> &lt;&lt; catNames[2] &lt;&lt; <span class="stringliteral">"\""</span> 
00531             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[3] &lt;&lt; <span class="stringliteral">"]"</span> 
00532             &lt;&lt; <span class="stringliteral">"\ntable  =\""</span> &lt;&lt; catNames[4] &lt;&lt; <span class="stringliteral">"\""</span> 
00533             &lt;&lt; <span class="stringliteral">" ["</span> &lt;&lt; catNames[5] &lt;&lt; <span class="stringliteral">"]"</span> &lt;&lt; std::endl;
00534   
00535   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getQuantityDescription, results:"</span> &lt;&lt; std::endl;
00536   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a16">getQuantityDescription</a>(&amp;allQ);
00537   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(allQ[i]);
00538 <span class="comment">/*  aCat.getQuantityNames(&amp;catNames);</span>
00539 <span class="comment">  aCat.getQuantityUnits(&amp;webSites);</span>
00540 <span class="comment">  for (i=0; i&lt;vecSize; i++) </span>
00541 <span class="comment">    std::cout &lt;&lt; catNames[i] &lt;&lt;": \""&lt;&lt; webSites[i] &lt;&lt;"\""&lt;&lt; std::endl;</span>
00542 <span class="comment">*/</span>
00543 
00544 
00545 <span class="comment">/****************************************************************************/</span>
00546   <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="stringliteral">"\nSTEP 7) SELECTING (in copy 'aCat')"</span>);
00547   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00548   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00549 
00550   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse "</span>
00551             &lt;&lt; <span class="stringliteral">"(selecting object in North hemisphere)"</span> &lt;&lt; std::endl;
00552   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(0, 90., 90, 90);
00553   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00554   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00555 
00556   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: set cut (on L_Extent)"</span> &lt;&lt; std::endl;
00557   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"L_Extent"</span>, 1.1);
00558   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00559   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00560   listVal.assign(1, 1.0);
00561   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00562   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00563   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00564   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a62">includeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00565   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00566   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00567   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"L_Extent"</span>, 1);
00568   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00569   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00570   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00571   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00572   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00573   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00574   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00575   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00576   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"L_Extent"</span>, <span class="keyword">false</span>);
00577   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00578   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00579   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"L_Extent"</span>, 30);
00580   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00581   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00582   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"L_Extent"</span>, <span class="keyword">true</span>);
00583   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00584   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00585   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"L_Extent"</span>, <a class="code" href="quantity_8h.html#a0">NO_SEL_CUT</a>);
00586   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00587   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00588   listVal.clear();
00589 <span class="comment">//  aCat.useOnlyN("L_Extent", listVal);</span>
00590   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a62">includeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00591   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00592   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00593 
00594   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: set cut (on MASOL)"</span> &lt;&lt; std::endl;
00595   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a56">setLowerCut</a>(<span class="stringliteral">"MASOL"</span>, 31);
00596   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00597   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00598   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"MASOL"</span>, 100);
00599   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00600   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00601   std::cout &lt;&lt; <span class="stringliteral">"* Calling: unsetCuts (on MASOL)"</span> &lt;&lt; std::endl;
00602   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>(<span class="stringliteral">"MASOL"</span>);
00603   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00604   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00605   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"MASOL"</span>, 100);
00606   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00607   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00608 
00609   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSelSValues (on NewFlag)"</span> &lt;&lt; std::endl;
00610   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"NewFlag"</span>, &amp;catNames);
00611   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">") contains: "</span>;
00612   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00613   std::cout &lt;&lt; std::endl;
00614 
00615   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: eraseNonSelected()"</span> &lt;&lt; std::endl;
00616   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a67">eraseNonSelected</a>();
00617   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00618   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00619 
00620   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: getSelSValues (on 1RXS)"</span> &lt;&lt; std::endl;
00621   vecSize=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a37">getSelSValues</a>(<span class="stringliteral">"1RXS"</span>, &amp;catNames);
00622   std::cout &lt;&lt; <span class="stringliteral">"* String vector (size="</span> &lt;&lt; vecSize &lt;&lt; <span class="stringliteral">") contains: "</span>;
00623   <span class="keywordflow">for</span> (i=0; i&lt;vecSize; i++) std::cout &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; catNames[i] &lt;&lt;<span class="stringliteral">"\"  "</span>;
00624   std::cout &lt;&lt; std::endl;
00625 
00626   std::cout &lt;&lt;<span class="stringliteral">"\n* Calling: setUpperCut (same limit 100 on MASOL)"</span>&lt;&lt; std::endl;
00627   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a57">setUpperCut</a>(<span class="stringliteral">"MASOL"</span>, 100);
00628   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00629   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00630 
00631   catNames.resize(1);
00632   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: useOnlyS (on 1RXS, list is first object)"</span>
00633             &lt;&lt; std::endl;
00634   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a>(<span class="stringliteral">"1RXS"</span>, catNames);
00635   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00636   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00637   std::cout &lt;&lt; <span class="stringliteral">"* Calling: useOnlyS to unselect 1RXS"</span> &lt;&lt; std::endl;
00638   catNames.clear();
00639   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a>(<span class="stringliteral">"1RXS"</span>, catNames);
00640   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00641   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00642 
00643   catNames.assign(1, <span class="stringliteral">"__.."</span>);
00644   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: excludeS (on NewFlag unique value)"</span> &lt;&lt; std::endl;
00645   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a58">excludeS</a>(<span class="stringliteral">"NewFlag"</span>, catNames);  
00646   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00647   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00648   std::cout &lt;&lt; <span class="stringliteral">"* Calling: useOnlyS with same value"</span> &lt;&lt; std::endl;
00649   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a59">useOnlyS</a>(<span class="stringliteral">"NewFlag"</span>, catNames);
00650   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00651   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00652 
00653   strVal=myPath+argString+<span class="stringliteral">".txt"</span>;
00654   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: saveText("</span> &lt;&lt; strVal &lt;&lt; <span class="stringliteral">", true)"</span> &lt;&lt; std::endl;
00655   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a11">saveText</a>(strVal, <span class="keyword">true</span>);
00656 
00657   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: eraseSelected()"</span> &lt;&lt; std::endl;
00658   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a>();
00659   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00660   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00661 
00662 
00663   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: import on file \""</span> &lt;&lt; argString
00664              &lt;&lt; <span class="stringliteral">"\""</span>&lt;&lt; std::endl;
00665   strVal=myPath+argString;
00666   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a8">import</a>(strVal);
00667   std::cout &lt;&lt; <span class="stringliteral">"* Value returned = "</span> &lt;&lt; err &lt;&lt; std::endl;
00668   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00669   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00670 
00671   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: setSelEllipse "</span>
00672             &lt;&lt; <span class="stringliteral">"(selecting object in North hemisphere)"</span> &lt;&lt; std::endl;
00673   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a54">setSelEllipse</a>(0, 90., 90, 90);
00674   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00675   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00676 
00677   strVal=myPath+argString+<span class="stringliteral">".fits"</span>;
00678   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: saveFits to create "</span> &lt;&lt; strVal &lt;&lt; std::endl;
00679   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a13">saveFits</a>(strVal, <span class="stringliteral">""</span>, <span class="keyword">true</span>);
00680 
00681   std::cout &lt;&lt; <span class="stringliteral">"\n* Limits on \"L_Extent\":"</span> &lt;&lt; std::endl;
00682   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a30">minVal</a>(<span class="stringliteral">"L_Extent"</span>, &amp;rVal);
00683   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"L_Extent minimum"</span>, rVal);
00684   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a31">maxVal</a>(<span class="stringliteral">"L_Extent"</span>, &amp;rVal);
00685   <span class="keywordflow">if</span> (err &gt; 0) <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="stringliteral">"L_Extent maximum"</span>, rVal);
00686 
00687   listVal.assign(2, 1.0);
00688   listVal.at(1)=catalogAccess::MissNAN;
00689   std::cout &lt;&lt; <span class="stringliteral">"\n* Setting list of values: "</span>&lt;&lt; listVal[0]&lt;&lt;<span class="stringliteral">", "</span> &lt;&lt; listVal[1]
00690             &lt;&lt; <span class="stringliteral">"\n with default behaviour (reject NaN), anyway NaN is checked"</span>
00691             &lt;&lt; <span class="stringliteral">" first, before list or cut tests"</span> &lt;&lt; std::endl;
00692   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00693   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00694   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00695   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a62">includeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00696   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00697   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00698   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00699   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00700   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00701   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: unsetCuts (on L_Extent)"</span> &lt;&lt; std::endl;
00702   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>(<span class="stringliteral">"L_Extent"</span>);
00703   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00704   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00705 
00706   std::cout &lt;&lt; <span class="stringliteral">"\n* Accepting NaN (whatever condition, always select NaN)"</span> 
00707             &lt;&lt; std::endl;
00708   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a63">setRejectNaN</a>(<span class="stringliteral">"L_Extent"</span>, <span class="keyword">false</span>);
00709   std::cout &lt;&lt; <span class="stringliteral">"* Setting list of values: "</span>&lt;&lt; listVal[0]&lt;&lt;<span class="stringliteral">", "</span> &lt;&lt; listVal[1]
00710             &lt;&lt; std::endl;
00711   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a61">useOnlyN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00712 <span class="comment">//  aCat.includeN("L_Extent", listVal);</span>
00713   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00714   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00715   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a60">excludeN</a>(<span class="stringliteral">"L_Extent"</span>, listVal);
00716   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00717   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00718 
00719   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: unsetCuts (all quantities, "</span>
00720             &lt;&lt; <span class="stringliteral">"remains only selection ellipse)"</span> &lt;&lt; std::endl;
00721   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a51">unsetCuts</a>();
00722   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00723   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00724 
00725   std::cout &lt;&lt; <span class="stringliteral">"\n* Calling: eraseSelected()"</span> &lt;&lt; std::endl;
00726   err=aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a68">eraseSelected</a>();
00727   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a32">getNumSelRows</a>(&amp;numRows);
00728   std::cout &lt;&lt; <span class="stringliteral">"* Number of SELECTED rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00729   aCat.<a class="code" href="classcatalog_access_1_1_catalog.html#a24">getNumRows</a>(&amp;numRows);
00730   std::cout &lt;&lt; <span class="stringliteral">"* Number of rows = "</span> &lt;&lt; numRows &lt;&lt; std::endl;
00731 
00732 
00733 <span class="comment">/****************************************************************************/</span>
00734   std::cout &lt;&lt; <span class="stringliteral">"\n!END PROGRAM!\n(as pointers are already deleted, only free"</span>
00735             &lt;&lt; <span class="stringliteral">" the Quantity and Catalog copies)."</span> &lt;&lt; std::endl;
00736 }
00737 
<a name="l00738"></a><a class="code" href="main__test_8cxx.html#a1">00738</a> <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a1">help</a>() {
00739  std::cerr &lt;&lt; <span class="stringliteral">"usage: &lt;program name&gt; &lt;axis size&gt; [&lt;options&gt; &lt;fileName&gt;]\n"</span>
00740            &lt;&lt; <span class="stringliteral">"options: \n"</span>
00741            &lt;&lt; <span class="stringliteral">"  -help  to show this help\n"</span>
00742            &lt;&lt; std::endl;
00743 }
<a name="l00744"></a><a class="code" href="main__test_8cxx.html#a2">00744</a> <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a2">show_STEP</a>(<span class="keyword">const</span> std::string text) {
00745   <span class="keywordtype">int</span> len=text.length();
00746   std::cout &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::setiosflags(std::ios::left)
00747             &lt;&lt; std::setw(len) &lt;&lt; std::setfill(<span class="charliteral">'='</span>) &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; text 
00748             &lt;&lt; std::setw(len) &lt;&lt; std::setfill(<span class="charliteral">'='</span>) &lt;&lt; <span class="stringliteral">"\n"</span> &lt;&lt; std::endl;
00749 }
00750 
<a name="l00751"></a><a class="code" href="main__test_8cxx.html#a3">00751</a> <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a3">show_quant</a>(<span class="keyword">const</span> <a class="code" href="classcatalog_access_1_1_quantity.html">catalogAccess::Quantity</a> &amp;nQ) {
00752   std::cout &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o0">m_name</a> &lt;&lt;<span class="stringliteral">": ucd=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o2">m_ucd</a> &lt;&lt;<span class="stringliteral">"\", type="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o5">m_type</a>
00753            &lt;&lt;<span class="stringliteral">", unit=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o6">m_unit</a> &lt;&lt;<span class="stringliteral">"\", format=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o3">m_format</a>
00754           &lt;&lt;<span class="stringliteral">"\",\n     index="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o7">m_index</a> &lt;&lt;<span class="stringliteral">", boolGeneric="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o8">m_isGeneric</a>
00755          &lt;&lt;<span class="stringliteral">", boolNaN="</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o18">m_rejectNaN</a> &lt;&lt;<span class="stringliteral">", TNULL=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o4">m_null</a>
00756         &lt;&lt;<span class="stringliteral">"\",\n     selectList sizes=("</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o15">m_listValN</a>.size() &lt;&lt;<span class="stringliteral">" num, "</span>
00757        &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o12">m_listValS</a>.size() &lt;&lt;<span class="stringliteral">" str), cuts="</span> &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o13">m_lowerCut</a> &lt;&lt;<span class="stringliteral">" to "</span>
00758       &lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o14">m_upperCut</a> &lt;&lt; <span class="stringliteral">"\ncomment=\""</span>&lt;&lt; nQ.<a class="code" href="classcatalog_access_1_1_quantity.html#o1">m_comment</a> &lt;&lt; <span class="stringliteral">"\""</span> &lt;&lt; std::endl;
00759 }
<a name="l00760"></a><a class="code" href="main__test_8cxx.html#a4">00760</a> <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a4">show_string</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> std::string val) {
00761   std::cout &lt;&lt; <span class="stringliteral">"Quantity "</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">": \""</span> &lt;&lt; val &lt;&lt;<span class="stringliteral">"\""</span>&lt;&lt; std::endl; 
00762 }
<a name="l00763"></a><a class="code" href="main__test_8cxx.html#a5">00763</a> <span class="keywordtype">void</span> <a class="code" href="main__test_8cxx.html#a5">show_double</a>(<span class="keyword">const</span> std::string name, <span class="keyword">const</span> <span class="keywordtype">double</span> val) {
00764   std::cout &lt;&lt; <span class="stringliteral">"Quantity "</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">" = "</span> <span class="comment">//&lt;&lt; std::setprecision(4)</span>
00765 <span class="comment">//            &lt;&lt; val &lt;&lt; std::endl;</span>
00766             &lt;&lt; std::setiosflags(outDouble) &lt;&lt; std::setprecision(3)
00767             &lt;&lt; std::setw(11) &lt;&lt; std::setfill(<span class="charliteral">' '</span>)
00768             &lt;&lt; val &lt;&lt; std::resetiosflags(outDouble) &lt;&lt; std::endl;
00769 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Wed Feb 1 14:22:19 2006 for catalogAccess by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
